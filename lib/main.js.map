{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"path\"","webpack:///external \"os\"","webpack:///external \"fs\"","webpack:///external \"assert\"","webpack:///./node_modules/@actions/core/lib/core.js","webpack:///external \"child_process\"","webpack:///external \"util\"","webpack:///external \"http\"","webpack:///external \"https\"","webpack:///external \"events\"","webpack:///./node_modules/@actions/exec/lib/exec.js","webpack:///./compiled/main.js","webpack:///./node_modules/@actions/core/lib/command.js","webpack:///./node_modules/@actions/tool-cache/lib/tool-cache.js","webpack:///./node_modules/@actions/io/lib/io.js","webpack:///./node_modules/@actions/io/lib/io-util.js","webpack:///./node_modules/typed-rest-client/HttpClient.js","webpack:///external \"url\"","webpack:///./node_modules/tunnel/index.js","webpack:///./node_modules/tunnel/lib/tunnel.js","webpack:///external \"net\"","webpack:///external \"tls\"","webpack:///./node_modules/semver/semver.js","webpack:///./node_modules/uuid/v4.js","webpack:///./node_modules/uuid/lib/rng.js","webpack:///external \"crypto\"","webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./node_modules/@actions/exec/lib/toolrunner.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","command_1","os","path","ExitCode","exportVariable","val","process","env","issueCommand","error","message","issue","startGroup","endGroup","exportSecret","Error","addPath","inputPath","delimiter","getInput","options","replace","toUpperCase","required","trim","setOutput","setFailed","exitCode","Failure","debug","warning","info","stdout","write","EOL","group","fn","tr","exec","commandLine","args","commandArgs","argStringToArray","length","toolPath","slice","concat","ToolRunner","__importStar","mod","k","core","tc","fs","FindCSC","pathToVSWhere","cscPath","listeners","data","output","toString","vsWhereExe","join","folderForCSC","dirname","platform","directoryToAddToPath","find","vsWherePath","downloadTool","folder","fullPath","renameSync","cachedToolDir","cacheDir","run","command","properties","cmd","Command","CMD_STRING","cmdStr","keys","escapeData","io","httpm","semver","uuidV4","exec_1","assert_1","HTTPError","httpStatusCode","super","setPrototypeOf","IS_WINDOWS","userAgent","tempDirectory","cacheRoot","baseLocation","findAllVersions","toolName","arch","versions","existsSync","children","readdirSync","child","_isExplicitVersion","push","_createExtractFolder","dest","mkdirP","_createToolPath","tool","version","folderPath","clean","markerPath","rmRF","_completeToolPath","writeFileSync","versionSpec","valid","url","http","HttpClient","allowRetries","maxRetries","destPath","response","statusCode","err","statusMessage","file","createWriteStream","on","pipe","end","extract7z","_7zPath","ok","originalCwd","cwd","chdir","silent","__dirname","powershellPath","which","extractTar","flags","tarPath","extractZip","extractZipWin","unzipPath","extractZipDarwin","extractZipNix","sourceDir","statSync","isDirectory","itemName","cp","recursive","cacheFile","sourceFile","targetFile","isFile","destFolder","sort","a","b","gt","potential","satisfies","_evaluateVersions","cachePath","childProcess","util_1","ioUtil","promisify","code","unlink","isDir","fsPath","copyFile","srcFile","destFile","force","lstat","isSymbolicLink","chmod","symlinkFull","readlink","symlink","exists","source","Boolean","readCopyOptions","destStat","stat","newDest","basename","cpDirRecursive","destDir","currentDepth","files","readdir","fileName","relative","mv","destExists","rename","check","extensions","PATHEXT","extension","split","isRooted","filePath","tryGetExecutablePath","includes","directories","PATH","directory","sep","_a","isUnixExecutable","stats","gid","getgid","uid","getuid","promises","mkdir","rmdir","useStat","normalizeSeparators","startsWith","test","maxDepth","depth","err2","undefined","console","log","upperExt","extname","some","validExt","originalFilePath","upperName","actualName","https","tunnel","HttpCodes","HttpRedirectCodes","MovedPermanently","ResourceMoved","SeeOther","TemporaryRedirect","PermanentRedirect","HttpResponseRetryCodes","BadGateway","ServiceUnavailable","GatewayTimeout","RetryableHttpVerbs","ExponentialBackoffCeiling","ExponentialBackoffTimeSlice","HttpClientResponse","chunk","EnvironmentVariables","isHttps","requestUrl","parse","protocol","handlers","requestOptions","_ignoreSslError","_allowRedirects","_maxRedirects","_allowRetries","_maxRetries","_keepAlive","_disposed","ignoreSslError","_socketTimeout","socketTimeout","_httpProxy","proxy","proxyBypassHosts","_httpProxyBypassHosts","forEach","bypass","RegExp","_certConfig","cert","caFile","_ca","readFileSync","certFile","_cert","keyFile","_key","allowRedirects","maxRedirects","Math","max","keepAlive","additionalHeaders","request","verb","stream","headers","_prepareRequest","maxTries","indexOf","numTries","requestRaw","Unauthorized","authenticationHandler","canHandleAuthentication","handleAuthentication","redirectsRemaining","redirectUrl","readBody","_performExponentialBackoff","_agent","destroy","requestRawWithCallback","res","onResult","socket","Buffer","byteLength","callbackCalled","handleResult","req","httpModule","msg","sock","setTimeout","method","parsedUrl","usingSsl","defaultPort","host","hostname","port","parseInt","pathname","search","_mergeHeaders","agent","_getAgent","_isPresigned","handler","prepareRequest","presignedUrlPatterns","patterns","match","lowercaseKeys","obj","reduce","toLowerCase","assign","_getProxy","useProxy","proxyUrl","_isBypassProxy","_proxyAgent","maxSockets","globalAgent","agentOptions","proxyAuth","tunnelAgent","overHttps","httpsOverHttps","httpsOverHttp","httpOverHttps","httpOverHttp","Agent","rejectUnauthorized","ca","passphrase","proxyConfig","https_proxy","HTTPS_PROXY","http_proxy","HTTP_PROXY","proxyUsername","proxyPassword","bypassHost","retryNumber","min","ms","pow","tls","events","assert","util","TunnelingAgent","self","proxyOptions","defaultMaxSockets","requests","sockets","localAddress","toOptions","len","pending","splice","onSocket","removeSocket","createSecureSocket","cb","createSocket","hostHeader","getHeader","tlsOptions","mergeOptions","servername","secureSocket","connect","target","arguments","overrides","j","keyLen","inherits","EventEmitter","addRequest","onFree","emit","onCloseOrRemove","removeListener","placeholder","connectOptions","connectReq","onConnect","head","removeAllListeners","equal","useChunkedEncodingByDefault","once","upgrade","nextTick","cause","stack","pos","shift","NODE_DEBUG","Array","unshift","SemVer","SEMVER_SPEC_VERSION","MAX_LENGTH","MAX_SAFE_INTEGER","Number","re","src","tokens","R","tok","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","MAINVERSION","MAINVERSIONLOOSE","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","PRERELEASE","PRERELEASELOOSE","BUILDIDENTIFIER","BUILD","FULLPLAIN","FULL","LOOSEPLAIN","LOOSE","GTLT","XRANGEIDENTIFIERLOOSE","XRANGEIDENTIFIER","XRANGEPLAIN","XRANGEPLAINLOOSE","XRANGE","XRANGELOOSE","COERCE","COERCERTL","LONETILDE","TILDETRIM","TILDE","TILDELOOSE","LONECARET","CARETTRIM","CARET","CARETLOOSE","COMPARATORLOOSE","COMPARATOR","COMPARATORTRIM","HYPHENRANGE","HYPHENRANGELOOSE","STAR","loose","includePrerelease","er","TypeError","raw","major","minor","patch","prerelease","map","id","num","build","format","v","compare","other","compareMain","comparePre","compareIdentifiers","compareBuild","inc","release","identifier","isNaN","diff","version1","version2","eq","v1","v2","prefix","defaultResult","numeric","anum","bnum","lt","neq","gte","lte","cmp","op","Comparator","comp","ANY","operator","rcompareIdentifiers","compareLoose","versionA","versionB","rcompare","list","rsort","Range","range","set","parseRange","filter","isSatisfiable","comparators","remainingComparators","testComparator","pop","every","otherComparator","intersects","isX","hyphenReplace","$0","from","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","testSet","allowed","outside","hilo","gtfn","ltefn","ltfn","ecomp","high","low","comparator","rangeTmp","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","comps","hr","compRe","_","M","pr","ret","replaceCaret","replaceCarets","replaceTilde","replaceTildes","gtlt","xM","xm","xp","anyX","replaceXRange","replaceXRanges","replaceStars","parseComparator","thisComparators","rangeComparators","thisComparator","rangeComparator","toComparators","maxSatisfying","maxSV","rangeObj","minSatisfying","minSV","minVersion","minver","compver","validRange","ltr","gtr","parsed","r1","r2","coerce","String","rtl","index","lastIndex","rng","bytesToUuid","buf","offset","rnds","random","ii","crypto","randomBytes","byteToHex","substr","bth","noPrefix","_getSpawnFileName","_getSpawnArgs","_isCmdFile","windowsVerbatimArguments","_windowsQuoteCmdArg","strBuffer","onLine","substring","_debug","argline","str","endsWith","upperToolPath","_endsWith","arg","_uvQuoteCmdArg","cmdSpecialChars","needsQuotes","char","x","reverse","quoteHit","failOnStdErr","ignoreReturnCode","delay","outStream","errStream","stderr","argv0","optionsNonNull","_cloneExecOptions","_getCommandString","state","ExecState","spawn","_getSpawnOptions","_processLineBuffer","line","stdline","processStderr","errline","processError","processExited","processClosed","CheckComplete","processExitCode","argString","inQuotes","escaped","append","charAt","timeout","_setResult","HandleTimeout","clearTimeout"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,I,gBClFrDhC,EAAOD,QAAUkC,QAAQ,S,cCAzBjC,EAAOD,QAAUkC,QAAQ,O,cCAzBjC,EAAOD,QAAUkC,QAAQ,O,cCAzBjC,EAAOD,QAAUkC,QAAQ,W,6BCCzB,IAAIC,EAAaC,MAAQA,KAAKD,WAAc,SAAUE,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUzB,GAAS,IAAM0B,EAAKL,EAAUM,KAAK3B,IAAW,MAAO4B,GAAKJ,EAAOI,IACpF,SAASC,EAAS7B,GAAS,IAAM0B,EAAKL,EAAiB,MAAErB,IAAW,MAAO4B,GAAKJ,EAAOI,IACvF,SAASF,EAAKI,GAJlB,IAAe9B,EAIa8B,EAAOC,KAAOR,EAAQO,EAAO9B,QAJ1CA,EAIyD8B,EAAO9B,MAJhDA,aAAiBoB,EAAIpB,EAAQ,IAAIoB,GAAE,SAAUG,GAAWA,EAAQvB,OAITgC,KAAKP,EAAWI,GAClGH,GAAML,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKQ,YAGtElC,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMkC,EAAY,EAAQ,IACpBC,EAAK,EAAQ,GACbC,EAAO,EAAQ,GAIrB,IAAIC,EAmBJ,SAASC,EAAehD,EAAMiD,GAC1BC,QAAQC,IAAInD,GAAQiD,EACpBL,EAAUQ,aAAa,UAAW,CAAEpD,QAAQiD,GA8EhD,SAASI,EAAMC,GACXV,EAAUW,MAAM,QAASD,GA0B7B,SAASE,EAAWxD,GAChB4C,EAAUW,MAAM,QAASvD,GAM7B,SAASyD,IACLb,EAAUW,MAAM,aArIpB,SAAWR,GAIPA,EAASA,EAAkB,QAAI,GAAK,UAIpCA,EAASA,EAAkB,QAAI,GAAK,UARxC,CASGA,EAAWxD,EAAQwD,WAAaxD,EAAQwD,SAAW,KAatDxD,EAAQyD,eAAiBA,EAazBzD,EAAQmE,aAPR,SAAsB1D,EAAMiD,GAKxB,MAJAD,EAAehD,EAAMiD,GAGrBL,EAAUQ,aAAa,aAAc,GAAIH,GACnC,IAAIU,MAAM,qBAWpBpE,EAAQqE,QAJR,SAAiBC,GACbjB,EAAUQ,aAAa,WAAY,GAAIS,GACvCX,QAAQC,IAAU,QAAOU,IAAYf,EAAKgB,YAAYZ,QAAQC,IAAU,QAiB5E5D,EAAQwE,SAPR,SAAkB/D,EAAMgE,GACpB,MAAMf,EAAMC,QAAQC,aAAanD,EAAKiE,QAAQ,KAAM,KAAKC,kBAAoB,GAC7E,GAAIF,GAAWA,EAAQG,WAAalB,EAChC,MAAM,IAAIU,0CAA0C3D,KAExD,OAAOiD,EAAImB,QAYf7E,EAAQ8E,UAHR,SAAmBrE,EAAMU,GACrBkC,EAAUQ,aAAa,aAAc,CAAEpD,QAAQU,IAenDnB,EAAQ+E,UAJR,SAAmBhB,GACfJ,QAAQqB,SAAWxB,EAASyB,QAC5BnB,EAAMC,IAaV/D,EAAQkF,MAHR,SAAenB,GACXV,EAAUQ,aAAa,QAAS,GAAIE,IAUxC/D,EAAQ8D,MAAQA,EAQhB9D,EAAQmF,QAHR,SAAiBpB,GACbV,EAAUW,MAAM,UAAWD,IAU/B/D,EAAQoF,KAHR,SAAcrB,GACVJ,QAAQ0B,OAAOC,MAAMvB,EAAUT,EAAGiC,MAatCvF,EAAQiE,WAAaA,EAOrBjE,EAAQkE,SAAWA,EAsBnBlE,EAAQwF,MAbR,SAAe/E,EAAMgF,GACjB,OAAOtD,EAAUC,UAAM,OAAQ,GAAQ,YAEnC,IAAIa,EADJgB,EAAWxD,GAEX,IACIwC,QAAewC,IAEnB,QACIvB,IAEJ,OAAOjB,O,cC5KfhD,EAAOD,QAAUkC,QAAQ,kB,cCAzBjC,EAAOD,QAAUkC,QAAQ,S,cCAzBjC,EAAOD,QAAUkC,QAAQ,S,cCAzBjC,EAAOD,QAAUkC,QAAQ,U,cCAzBjC,EAAOD,QAAUkC,QAAQ,W,6BCCzB,IAAIC,EAAaC,MAAQA,KAAKD,WAAc,SAAUE,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUzB,GAAS,IAAM0B,EAAKL,EAAUM,KAAK3B,IAAW,MAAO4B,GAAKJ,EAAOI,IACpF,SAASC,EAAS7B,GAAS,IAAM0B,EAAKL,EAAiB,MAAErB,IAAW,MAAO4B,GAAKJ,EAAOI,IACvF,SAASF,EAAKI,GAJlB,IAAe9B,EAIa8B,EAAOC,KAAOR,EAAQO,EAAO9B,QAJ1CA,EAIyD8B,EAAO9B,MAJhDA,aAAiBoB,EAAIpB,EAAQ,IAAIoB,GAAE,SAAUG,GAAWA,EAAQvB,OAITgC,KAAKP,EAAWI,GAClGH,GAAML,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKQ,YAGtElC,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMuE,EAAK,EAAQ,IAwBnB1F,EAAQ2F,KAbR,SAAcC,EAAaC,EAAMpB,GAC7B,OAAOtC,EAAUC,UAAM,OAAQ,GAAQ,YACnC,MAAM0D,EAAcJ,EAAGK,iBAAiBH,GACxC,GAA2B,IAAvBE,EAAYE,OACZ,MAAM,IAAI5B,MAAM,oDAGpB,MAAM6B,EAAWH,EAAY,GAG7B,OAFAD,EAAOC,EAAYI,MAAM,GAAGC,OAAON,GAAQ,IAC5B,IAAIH,EAAGU,WAAWH,EAAUJ,EAAMpB,GACnCkB,Y,6BC/BtB,IAAIxD,EAAaC,MAAQA,KAAKD,WAAc,SAAUE,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUzB,GAAS,IAAM0B,EAAKL,EAAUM,KAAK3B,IAAW,MAAO4B,GAAKJ,EAAOI,IACpF,SAASC,EAAS7B,GAAS,IAAM0B,EAAKL,EAAiB,MAAErB,IAAW,MAAO4B,GAAKJ,EAAOI,IACvF,SAASF,EAAKI,GAJlB,IAAe9B,EAIa8B,EAAOC,KAAOR,EAAQO,EAAO9B,QAJ1CA,EAIyD8B,EAAO9B,MAJhDA,aAAiBoB,EAAIpB,EAAQ,IAAIoB,GAAE,SAAUG,GAAWA,EAAQvB,OAITgC,KAAKP,EAAWI,GAClGH,GAAML,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKQ,YAGlEuD,EAAgBjE,MAAQA,KAAKiE,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAIhF,WAAY,OAAOgF,EAClC,IAAIrD,EAAS,GACb,GAAW,MAAPqD,EAAa,IAAK,IAAIC,KAAKD,EAAS1F,OAAOmB,eAAe1B,KAAKiG,EAAKC,KAAItD,EAAOsD,GAAKD,EAAIC,IAE5F,OADAtD,EAAgB,QAAIqD,EACbrD,GAEXrC,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMqF,EAAOH,EAAa,EAAQ,IAC5BI,EAAKJ,EAAa,EAAQ,KAC1BV,EAAOU,EAAa,EAAQ,KAC5B9C,EAAO8C,EAAa,EAAQ,IAC5BK,EAAKL,EAAa,EAAQ,IAgDhC,SAASM,EAAQC,GACb,OAAOzE,EAAUC,UAAM,OAAQ,GAAQ,YACnC,IAAIyE,EAAU,GACd,MAAMpC,EAAU,GAChBA,EAAQqC,UAAY,CAChBzB,OAAS0B,IACL,MAAMC,EAASD,EAAKE,WACpBJ,GAAWG,IAInB,MAAME,EAAa3D,EAAK4D,KAAKP,EAAe,qBACtCjB,EAAKA,KAAKuB,EAAY,CAAC,UAAW,YAAa,mDAAoD,QAAS,wBAAyBzC,GAC3H,KAAZoC,GACAL,EAAKzB,UAAU,0BAEnB,MAAMqC,EAAe7D,EAAK8D,QAAQR,GAGlC,OAFAL,EAAKtB,eAAe2B,KACpBL,EAAKtB,wBAAwBkC,KACtBA,MAlEf,WACWjF,EAAUC,UAAM,OAAQ,GAAQ,YACnC,IAMI,IAAIyE,EAGJ,KADwC,UAArBlD,QAAQ2D,UAGvB,YADAd,EAAKzB,UAAU,mCAInB,IAAIwC,EAEJ,GADAA,QAA6Bd,EAAGe,KAAK,UAAW,SAO5C,OALAhB,EAAKtB,oCAAoCqC,yBACzCV,QAAgBF,EAAQY,GACxBf,EAAKtB,oBAAoB2B,gBAEnBL,EAAKnC,QAAQwC,IAIvBL,EAAKtB,MAAM,mCACX,MAAMuC,QAAoBhB,EAAGiB,aAAa,4EAEpCC,EAASpE,EAAK8D,QAAQI,GACtBG,EAAWrE,EAAK4D,KAAKQ,EAAQ,eACnCjB,EAAGmB,WAAWJ,EAAaG,GAE3B,MAAME,QAAsBrB,EAAGsB,SAASJ,EAAQ,UAAW,SAC3DnB,EAAKtB,yBAAyB4C,KAC9BjB,QAAgBF,EAAQmB,GACxBtB,EAAKtB,oBAAoB2B,WAEnBL,EAAKnC,QAAQwC,GAEvB,MAAO/C,GACH0C,EAAKzB,UAAUjB,EAAMC,aAIjCiE,I,6BCpEApH,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMmC,EAAK,EAAQ,GAWnB,SAASO,EAAaoE,EAASC,EAAYnE,GACvC,MAAMoE,EAAM,IAAIC,EAAQH,EAASC,EAAYnE,GAC7CJ,QAAQ0B,OAAOC,MAAM6C,EAAIlB,WAAa3D,EAAGiC,KAE7CvF,EAAQ6D,aAAeA,EAIvB7D,EAAQgE,MAHR,SAAevD,EAAMsD,EAAU,IAC3BF,EAAapD,EAAM,GAAIsD,IAG3B,MAAMsE,EAAa,KACnB,MAAMD,EACF,YAAYH,EAASC,EAAYnE,GACxBkE,IACDA,EAAU,mBAEd7F,KAAK6F,QAAUA,EACf7F,KAAK8F,WAAaA,EAClB9F,KAAK2B,QAAUA,EAEnB,WACI,IAAIuE,EAASD,EAAajG,KAAK6F,QAC/B,GAAI7F,KAAK8F,YAActH,OAAO2H,KAAKnG,KAAK8F,YAAYlC,OAAS,EAAG,CAC5DsC,GAAU,IACV,IAAK,MAAM7G,KAAOW,KAAK8F,WACnB,GAAI9F,KAAK8F,WAAWnG,eAAeN,GAAM,CACrC,MAAMiC,EAAMtB,KAAK8F,WAAWzG,GACxBiC,IAGA4E,MAAa7G,KAgBrBQ,KAhBsCyB,GAAO,KAiBlDzB,EACFyC,QAAQ,MAAO,OACfA,QAAQ,MAAO,OACfA,QAAQ,KAAM,OACdA,QAAQ,KAAM,YALvB,IAAgBzC,EANR,OALAqG,GAAUD,EAIVC,GAIR,SAAoBrG,GAChB,OAAOA,EAAEyC,QAAQ,MAAO,OAAOA,QAAQ,MAAO,OALhC8D,IADSpG,KAAK2B,SAAW,S,8BClD3C,YACA,IAAI5B,EAAaC,MAAQA,KAAKD,WAAc,SAAUE,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUzB,GAAS,IAAM0B,EAAKL,EAAUM,KAAK3B,IAAW,MAAO4B,GAAKJ,EAAOI,IACpF,SAASC,EAAS7B,GAAS,IAAM0B,EAAKL,EAAiB,MAAErB,IAAW,MAAO4B,GAAKJ,EAAOI,IACvF,SAASF,EAAKI,GAJlB,IAAe9B,EAIa8B,EAAOC,KAAOR,EAAQO,EAAO9B,QAJ1CA,EAIyD8B,EAAO9B,MAJhDA,aAAiBoB,EAAIpB,EAAQ,IAAIoB,GAAE,SAAUG,GAAWA,EAAQvB,OAITgC,KAAKP,EAAWI,GAClGH,GAAML,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKQ,YAGtElC,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMqF,EAAO,EAAQ,GACfiC,EAAK,EAAQ,IACb/B,EAAK,EAAQ,GACbpD,EAAK,EAAQ,GACbC,EAAO,EAAQ,GACfmF,EAAQ,EAAQ,IAChBC,EAAS,EAAQ,IACjBC,EAAS,EAAQ,IACjBC,EAAS,EAAQ,IACjBC,EAAW,EAAQ,GACzB,MAAMC,UAAkB3E,MACpB,YAAY4E,GACRC,mCAAmCD,KACnC5G,KAAK4G,eAAiBA,EACtBpI,OAAOsI,eAAe9G,gBAAiBN,YAG/C9B,EAAQ+I,UAAYA,EACpB,MAAMI,EAAkC,UAArBxF,QAAQ2D,SACrB8B,EAAY,qBAElB,IAAIC,EAAgB1F,QAAQC,IAAiB,aAAK,GAC9C0F,EAAY3F,QAAQC,IAAuB,mBAAK,GAEpD,IAAKyF,IAAkBC,EAAW,CAC9B,IAAIC,EAGAA,EAFAJ,EAEexF,QAAQC,IAAiB,aAAK,OAGpB,WAArBD,QAAQ2D,SACO,SAGA,QAGlB+B,IACDA,EAAgB9F,EAAK4D,KAAKoC,EAAc,UAAW,SAElDD,IACDA,EAAY/F,EAAK4D,KAAKoC,EAAc,UAAW,UA8TvD,SAASC,EAAgBC,EAAUC,GAC/B,MAAMC,EAAW,GACjBD,EAAOA,GAAQpG,EAAGoG,OAClB,MAAMzD,EAAW1C,EAAK4D,KAAKmC,EAAWG,GACtC,GAAI/C,EAAGkD,WAAW3D,GAAW,CACzB,MAAM4D,EAAWnD,EAAGoD,YAAY7D,GAChC,IAAK,MAAM8D,KAASF,EAChB,GAAIG,EAAmBD,GAAQ,CAC3B,MAAMnC,EAAWrE,EAAK4D,KAAKlB,EAAU8D,EAAOL,GAAQ,IAChDhD,EAAGkD,WAAWhC,IAAalB,EAAGkD,cAAchC,eAC5C+B,EAASM,KAAKF,IAK9B,OAAOJ,EAGX,SAASO,EAAqBC,GAC1B,OAAOhI,EAAUC,UAAM,OAAQ,GAAQ,YAMnC,OALK+H,IAEDA,EAAO5G,EAAK4D,KAAKkC,EAAeT,YAE9BH,EAAG2B,OAAOD,GACTA,KAGf,SAASE,EAAgBC,EAAMC,EAASb,GACpC,OAAOvH,EAAUC,UAAM,OAAQ,GAAQ,YACnC,MAAMoI,EAAajH,EAAK4D,KAAKmC,EAAWgB,EAAM3B,EAAO8B,MAAMF,IAAYA,EAASb,GAAQ,IACxFlD,EAAKtB,qBAAqBsF,KAC1B,MAAME,KAAgBF,aAItB,aAHM/B,EAAGkC,KAAKH,SACR/B,EAAGkC,KAAKD,SACRjC,EAAG2B,OAAOI,GACTA,KAGf,SAASI,EAAkBN,EAAMC,EAASb,GACtC,MACMgB,KADanH,EAAK4D,KAAKmC,EAAWgB,EAAM3B,EAAO8B,MAAMF,IAAYA,EAASb,GAAQ,eAExFhD,EAAGmE,cAAcH,EAAY,IAC7BlE,EAAKtB,MAAM,yBAEf,SAAS8E,EAAmBc,GACxB,MAAMvK,EAAIoI,EAAO8B,MAAMK,IAAgB,GACvCtE,EAAKtB,qBAAqB3E,KAC1B,MAAMwK,EAA2B,MAAnBpC,EAAOoC,MAAMxK,GAE3B,OADAiG,EAAKtB,mBAAmB6F,KACjBA,EAxTX/K,EAAQ0H,aA/CR,SAAsBsD,GAClB,OAAO7I,EAAUC,UAAM,OAAQ,GAAQ,YAEnC,OAAO,IAAIK,QAAQ,CAACC,EAASC,IAAWR,EAAUC,UAAM,OAAQ,GAAQ,YACpE,IACI,MAAM6I,EAAO,IAAIvC,EAAMwC,WAAW9B,EAAW,GAAI,CAC7C+B,cAAc,EACdC,WAAY,IAEVC,EAAW9H,EAAK4D,KAAKkC,EAAeT,KAI1C,SAHMH,EAAG2B,OAAOf,GAChB7C,EAAKtB,qBAAqB8F,KAC1BxE,EAAKtB,qBAAqBmG,KACtB3E,EAAGkD,WAAWyB,GACd,MAAM,IAAIjH,+BAA+BiH,oBAE7C,MAAMC,QAAiBL,EAAKlK,IAAIiK,GAChC,GAAoC,MAAhCM,EAASvH,QAAQwH,WAAoB,CACrC,MAAMC,EAAM,IAAIzC,EAAUuC,EAASvH,QAAQwH,YAE3C,MADA/E,EAAKtB,kCAAkC8F,YAAcM,EAASvH,QAAQwH,uBAAuBD,EAASvH,QAAQ0H,kBACxGD,EAEV,MAAME,EAAOhF,EAAGiF,kBAAkBN,GAClCK,EAAKE,GAAG,OAAQ,IAAMzJ,EAAUC,UAAM,OAAQ,GAAQ,YAClD,IACmBkJ,EAASvH,QAAQ8H,KAAKH,GAC9BE,GAAG,QAAS,KACfpF,EAAKtB,MAAM,qBACXxC,EAAQ2I,KAGhB,MAAOG,GACHhF,EAAKtB,kCAAkC8F,YAAcM,EAASvH,QAAQwH,uBAAuBD,EAASvH,QAAQ0H,kBAC9G9I,EAAO6I,QAGfE,EAAKE,GAAG,QAASJ,IACbE,EAAKI,MACLnJ,EAAO6I,KAGf,MAAOA,GACH7I,EAAO6I,YA8EvBxL,EAAQ+L,UAzDR,SAAmBL,EAAMvB,EAAM6B,GAC3B,OAAO7J,EAAUC,UAAM,OAAQ,GAAQ,YACnC0G,EAASmD,GAAG9C,EAAY,2CACxBL,EAASmD,GAAGP,EAAM,gCAClBvB,EAAOA,UAAeD,EAAqBC,IAC3C,MAAM+B,EAAcvI,QAAQwI,MAE5B,GADAxI,QAAQyI,MAAMjC,GACV6B,EACA,IACI,MAAMnG,EAAO,CACT,IACA,OACA,MACA,YACA6F,GAEEjH,EAAU,CACZ4H,QAAQ,SAENxD,EAAOlD,SAASqG,KAAYnG,EAAMpB,GAE5C,QACId,QAAQyI,MAAMF,OAGjB,CACD,MAOMrG,EAAO,CACT,UACA,OACA,aACA,kBACA,mBACA,eACA,iBAdkBtC,EACjB4D,KAAKmF,EAAW,KAAM,UAAW,oBACjC5H,QAAQ,KAAM,MACdA,QAAQ,WAAY,iBACLgH,EAAKhH,QAAQ,KAAM,MAAMA,QAAQ,WAAY,iBAC3CyF,EAAKzF,QAAQ,KAAM,MAAMA,QAAQ,WAAY,QAY7DD,EAAU,CACZ4H,QAAQ,GAEZ,IACI,MAAME,QAAuB9D,EAAG+D,MAAM,cAAc,SAC9C3D,EAAOlD,SAAS4G,KAAmB1G,EAAMpB,GAEnD,QACId,QAAQyI,MAAMF,IAGtB,OAAO/B,MAuBfnK,EAAQyM,WAXR,SAAoBf,EAAMvB,EAAMuC,EAAQ,MACpC,OAAOvK,EAAUC,UAAM,OAAQ,GAAQ,YACnC,IAAKsJ,EACD,MAAM,IAAItH,MAAM,gCAEpB+F,EAAOA,UAAeD,EAAqBC,IAC3C,MAAMwC,QAAgBlE,EAAG+D,MAAM,OAAO,GAEtC,aADM3D,EAAOlD,SAASgH,KAAY,CAACD,EAAO,KAAMvC,EAAM,KAAMuB,IACrDvB,MA+BfnK,EAAQ4M,WApBR,SAAoBlB,EAAMvB,GACtB,OAAOhI,EAAUC,UAAM,OAAQ,GAAQ,YACnC,IAAKsJ,EACD,MAAM,IAAItH,MAAM,gCAcpB,OAZA+F,EAAOA,UAAeD,EAAqBC,IACvChB,QAeZ,SAAuBuC,EAAMvB,GACzB,OAAOhI,EAAUC,UAAM,OAAQ,GAAQ,YAEnC,MAEM6F,wKAFcyD,EAAKhH,QAAQ,KAAM,MAAMA,QAAQ,WAAY,UAC7CyF,EAAKzF,QAAQ,KAAM,MAAMA,QAAQ,WAAY,QAG3D6H,QAAuB9D,EAAG+D,MAAM,cAChC3G,EAAO,CACT,UACA,OACA,aACA,kBACA,mBACA,eACA,WACAoC,SAEEY,EAAOlD,SAAS4G,KAAmB1G,MAhC/BgH,CAAcnB,EAAMvB,GAGD,WAArBxG,QAAQ2D,eAsCxB,SAA0BoE,EAAMvB,GAC5B,OAAOhI,EAAUC,UAAM,OAAQ,GAAQ,YACnC,MAAM0K,EAAYvJ,EAAK4D,KAAKmF,EAAW,KAAM,UAAW,YAAa,sBAC/DzD,EAAOlD,SAASmH,KAAc,CAACpB,GAAO,CAAES,IAAKhC,OAxCrC4C,CAAiBrB,EAAMvB,SA+B7C,SAAuBuB,EAAMvB,GACzB,OAAOhI,EAAUC,UAAM,OAAQ,GAAQ,YACnC,MAAM0K,EAAYvJ,EAAK4D,KAAKmF,EAAW,KAAM,UAAW,YAAa,eAC/DzD,EAAOlD,SAASmH,KAAc,CAACpB,GAAO,CAAES,IAAKhC,OA/BrC6C,CAActB,EAAMvB,GAG3BA,MAmEfnK,EAAQ+H,SAtBR,SAAkBkF,EAAW3C,EAAMC,EAASb,GACxC,OAAOvH,EAAUC,UAAM,OAAQ,GAAQ,YAKnC,GAJAmI,EAAU5B,EAAO8B,MAAMF,IAAYA,EACnCb,EAAOA,GAAQpG,EAAGoG,OAClBlD,EAAKtB,sBAAsBoF,KAAQC,KAAWb,KAC9ClD,EAAKtB,qBAAqB+H,MACrBvG,EAAGwG,SAASD,GAAWE,cACxB,MAAM,IAAI/I,MAAM,gCAGpB,MAAMiH,QAAiBhB,EAAgBC,EAAMC,EAASb,GAGtD,IAAK,MAAM0D,KAAY1G,EAAGoD,YAAYmD,GAAY,CAC9C,MAAMhL,EAAIsB,EAAK4D,KAAK8F,EAAWG,SACzB3E,EAAG4E,GAAGpL,EAAGoJ,EAAU,CAAEiC,WAAW,IAI1C,OADA1C,EAAkBN,EAAMC,EAASb,GAC1B2B,MAmCfrL,EAAQuN,UArBR,SAAmBC,EAAYC,EAAYnD,EAAMC,EAASb,GACtD,OAAOvH,EAAUC,UAAM,OAAQ,GAAQ,YAKnC,GAJAmI,EAAU5B,EAAO8B,MAAMF,IAAYA,EACnCb,EAAOA,GAAQpG,EAAGoG,OAClBlD,EAAKtB,sBAAsBoF,KAAQC,KAAWb,KAC9ClD,EAAKtB,sBAAsBsI,MACtB9G,EAAGwG,SAASM,GAAYE,SACzB,MAAM,IAAItJ,MAAM,4BAGpB,MAAMuJ,QAAmBtD,EAAgBC,EAAMC,EAASb,GAGlD2B,EAAW9H,EAAK4D,KAAKwG,EAAYF,GAKvC,OAJAjH,EAAKtB,0BAA0BmG,WACzB5C,EAAG4E,GAAGG,EAAYnC,GAExBT,EAAkBN,EAAMC,EAASb,GAC1BiE,MAyCf3N,EAAQwH,KA9BR,SAAciC,EAAUqB,EAAapB,GACjC,IAAKD,EACD,MAAM,IAAIrF,MAAM,kCAEpB,IAAK0G,EACD,MAAM,IAAI1G,MAAM,qCAIpB,GAFAsF,EAAOA,GAAQpG,EAAGoG,QAEbM,EAAmBc,GAAc,CAGlCA,EA6ER,SAA2BnB,EAAUmB,GACjC,IAAIP,EAAU,GACd/D,EAAKtB,oBAAoByE,EAAS3D,mBAOlC,IAAK,IAAI9F,GANTyJ,EAAWA,EAASiE,KAAK,CAACC,EAAGC,IACrBnF,EAAOoF,GAAGF,EAAGC,GACN,GAEH,IAEU9H,OAAS,EAAG9F,GAAK,EAAGA,IAAK,CAC3C,MAAM8N,EAAYrE,EAASzJ,GAE3B,GADkByI,EAAOsF,UAAUD,EAAWlD,GAC/B,CACXP,EAAUyD,EACV,OAGJzD,EACA/D,EAAKtB,kBAAkBqF,KAGvB/D,EAAKtB,MAAM,mBAEf,OAAOqF,EArGW2D,CADQ1E,EAAgBC,EAAUC,GACDoB,GAInD,IAAI7E,EAAW,GACf,GAAI6E,EAAa,CACbA,EAAcnC,EAAO8B,MAAMK,IAAgB,GAC3C,MAAMqD,EAAY5K,EAAK4D,KAAKmC,EAAWG,EAAUqB,EAAapB,GAC9DlD,EAAKtB,yBAAyBiJ,KAC1BzH,EAAGkD,WAAWuE,IAAczH,EAAGkD,cAAcuE,eAC7C3H,EAAKtB,6BAA6BuE,KAAYqB,KAAepB,KAC7DzD,EAAWkI,GAGX3H,EAAKtB,MAAM,aAGnB,OAAOe,GA0BXjG,EAAQwJ,gBAAkBA,I,mFCnY1B,IAAIrH,EAAaC,MAAQA,KAAKD,WAAc,SAAUE,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUzB,GAAS,IAAM0B,EAAKL,EAAUM,KAAK3B,IAAW,MAAO4B,GAAKJ,EAAOI,IACpF,SAASC,EAAS7B,GAAS,IAAM0B,EAAKL,EAAiB,MAAErB,IAAW,MAAO4B,GAAKJ,EAAOI,IACvF,SAASF,EAAKI,GAJlB,IAAe9B,EAIa8B,EAAOC,KAAOR,EAAQO,EAAO9B,QAJ1CA,EAIyD8B,EAAO9B,MAJhDA,aAAiBoB,EAAIpB,EAAQ,IAAIoB,GAAE,SAAUG,GAAWA,EAAQvB,OAITgC,KAAKP,EAAWI,GAClGH,GAAML,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKQ,YAGtElC,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMiN,EAAe,EAAQ,GACvB7K,EAAO,EAAQ,GACf8K,EAAS,EAAQ,GACjBC,EAAS,EAAQ,IACjB3I,EAAO0I,EAAOE,UAAUH,EAAazI,MA8E3C,SAASgF,EAAKrG,GACV,OAAOnC,EAAUC,UAAM,OAAQ,GAAQ,YACnC,GAAIkM,EAAOnF,WAAY,CAGnB,WACcmF,EAAOnB,YAAY7I,GAAW,UAC9BqB,eAAkBrB,YAGlBqB,gBAAmBrB,MAGjC,MAAOkH,GAGH,GAAiB,WAAbA,EAAIgD,KACJ,MAAMhD,EAGd,UACU8C,EAAOG,OAAOnK,GAExB,MAAOkH,GAGH,GAAiB,WAAbA,EAAIgD,KACJ,MAAMhD,OAGb,CACD,IAAIkD,GAAQ,EACZ,IACIA,QAAcJ,EAAOnB,YAAY7I,GAErC,MAAOkH,GAGH,GAAiB,WAAbA,EAAIgD,KACJ,MAAMhD,EACV,OAEAkD,QACM/I,aAAgBrB,YAGhBgK,EAAOG,OAAOnK,OAapC,SAAS8F,EAAOuE,GACZ,OAAOxM,EAAUC,UAAM,OAAQ,GAAQ,kBAC7BkM,EAAOlE,OAAOuE,MA8G5B,SAASC,EAASC,EAASC,EAAUC,GACjC,OAAO5M,EAAUC,UAAM,OAAQ,GAAQ,YACnC,UAAWkM,EAAOU,MAAMH,IAAUI,iBAAkB,CAEhD,UACUX,EAAOU,MAAMF,SACbR,EAAOG,OAAOK,GAExB,MAAO/L,GAEY,UAAXA,EAAEyL,aACIF,EAAOY,MAAMJ,EAAU,cACvBR,EAAOG,OAAOK,IAK5B,MAAMK,QAAoBb,EAAOc,SAASP,SACpCP,EAAOe,QAAQF,EAAaL,EAAUR,EAAOnF,WAAa,WAAa,iBAEhEmF,EAAOgB,OAAOR,MAAcC,UACnCT,EAAOM,SAASC,EAASC,OApO3C9O,EAAQqN,GAjCR,SAAYkC,EAAQpF,EAAM1F,EAAU,IAChC,OAAOtC,EAAUC,UAAM,OAAQ,GAAQ,YACnC,MAAM,MAAE2M,EAAK,UAAEzB,GAgNvB,SAAyB7I,GACrB,MAAMsK,EAAyB,MAAjBtK,EAAQsK,OAAuBtK,EAAQsK,MAC/CzB,EAAYkC,QAAQ/K,EAAQ6I,WAClC,MAAO,CAAEyB,QAAOzB,aAnNiBmC,CAAgBhL,GACvCiL,SAAkBpB,EAAOgB,OAAOnF,UAAemE,EAAOqB,KAAKxF,GAAQ,KAEzE,GAAIuF,GAAYA,EAAShC,WAAaqB,EAClC,OAGJ,MAAMa,EAAUF,GAAYA,EAASvC,cAC/B5J,EAAK4D,KAAKgD,EAAM5G,EAAKsM,SAASN,IAC9BpF,EACN,WAAYmE,EAAOgB,OAAOC,IACtB,MAAM,IAAInL,oCAAoCmL,KAGlD,UADyBjB,EAAOqB,KAAKJ,IACtBpC,cAAe,CAC1B,IAAKG,EACD,MAAM,IAAIlJ,yBAAyBmL,qEAqMnD,SAASO,EAAe7C,EAAW8C,EAASC,EAAcjB,GACtD,OAAO5M,EAAUC,UAAM,OAAQ,GAAQ,YAEnC,GAAI4N,GAAgB,IAChB,OACJA,UACM5F,EAAO2F,GACb,MAAME,QAAc3B,EAAO4B,QAAQjD,GACnC,IAAK,MAAMkD,KAAYF,EAAO,CAC1B,MAAMpB,KAAa5B,KAAakD,IAC1BrB,KAAciB,KAAWI,WACL7B,EAAOU,MAAMH,IACvB1B,oBAEN2C,EAAejB,EAASC,EAAUkB,EAAcjB,SAGhDH,EAASC,EAASC,EAAUC,SAIpCT,EAAOY,MAAMa,SAAgBzB,EAAOqB,KAAK1C,IAAY5L,SAvN7CyO,CAAeP,EAAQK,EAAS,EAAGb,OAG5C,CACD,GAAuC,KAAnCxL,EAAK6M,SAASb,EAAQK,GAEtB,MAAM,IAAIxL,UAAUwL,WAAiBL,8BAEnCX,EAASW,EAAQK,EAASb,QAkC5C/O,EAAQqQ,GAtBR,SAAYd,EAAQpF,EAAM1F,EAAU,IAChC,OAAOtC,EAAUC,UAAM,OAAQ,GAAQ,YACnC,SAAUkM,EAAOgB,OAAOnF,GAAO,CAC3B,IAAImG,GAAa,EAMjB,UALUhC,EAAOnB,YAAYhD,MAEzBA,EAAO5G,EAAK4D,KAAKgD,EAAM5G,EAAKsM,SAASN,IACrCe,QAAmBhC,EAAOgB,OAAOnF,IAEjCmG,EAAY,CACZ,GAAqB,MAAjB7L,EAAQsK,QAAiBtK,EAAQsK,MAIjC,MAAM,IAAI3K,MAAM,oCAHVuG,EAAKR,UAOjBC,EAAO7G,EAAK8D,QAAQ8C,UACpBmE,EAAOiC,OAAOhB,EAAQpF,OA4DpCnK,EAAQ2K,KAAOA,EAaf3K,EAAQoK,OAASA,EA4EjBpK,EAAQwM,MAnER,SAASA,EAAMlC,EAAMkG,GACjB,OAAOrO,EAAUC,UAAM,OAAQ,GAAQ,YACnC,IAAKkI,EACD,MAAM,IAAIlG,MAAM,gCAGpB,GAAIoM,EAAO,CAEP,WADqBhE,EAAMlC,GAAM,IAE7B,MAAIgE,EAAOnF,WACD,IAAI/E,2CAA2CkG,2MAG/C,IAAIlG,2CAA2CkG,mMAIjE,IAEI,MAAMmG,EAAa,GACnB,GAAInC,EAAOnF,YAAcxF,QAAQC,IAAI8M,QACjC,IAAK,MAAMC,KAAahN,QAAQC,IAAI8M,QAAQE,MAAMrN,EAAKgB,WAC/CoM,GACAF,EAAWxG,KAAK0G,GAK5B,GAAIrC,EAAOuC,SAASvG,GAAO,CACvB,MAAMwG,QAAiBxC,EAAOyC,qBAAqBzG,EAAMmG,GACzD,OAAIK,GAGG,GAGX,GAAIxG,EAAK0G,SAAS,MAAS1C,EAAOnF,YAAcmB,EAAK0G,SAAS,MAC1D,MAAO,GAQX,MAAMC,EAAc,GACpB,GAAItN,QAAQC,IAAIsN,KACZ,IAAK,MAAMlP,KAAK2B,QAAQC,IAAIsN,KAAKN,MAAMrN,EAAKgB,WACpCvC,GACAiP,EAAYhH,KAAKjI,GAK7B,IAAK,MAAMmP,KAAaF,EAAa,CACjC,MAAMH,QAAiBxC,EAAOyC,qBAAqBI,EAAY5N,EAAK6N,IAAM9G,EAAMmG,GAChF,GAAIK,EACA,OAAOA,EAGf,MAAO,GAEX,MAAOtF,GACH,MAAM,IAAIpH,mCAAmCoH,EAAIzH,iB,6BCpO7D,IASIsN,EATAlP,EAAaC,MAAQA,KAAKD,WAAc,SAAUE,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUzB,GAAS,IAAM0B,EAAKL,EAAUM,KAAK3B,IAAW,MAAO4B,GAAKJ,EAAOI,IACpF,SAASC,EAAS7B,GAAS,IAAM0B,EAAKL,EAAiB,MAAErB,IAAW,MAAO4B,GAAKJ,EAAOI,IACvF,SAASF,EAAKI,GAJlB,IAAe9B,EAIa8B,EAAOC,KAAOR,EAAQO,EAAO9B,QAJ1CA,EAIyD8B,EAAO9B,MAJhDA,aAAiBoB,EAAIpB,EAAQ,IAAIoB,GAAE,SAAUG,GAAWA,EAAQvB,OAITgC,KAAKP,EAAWI,GAClGH,GAAML,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKQ,YAItElC,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAM2H,EAAW,EAAQ,GACnBpC,EAAK,EAAQ,GACbnD,EAAO,EAAQ,GA+KrB,SAAS+N,EAAiBC,GACtB,OAAsB,EAAbA,EAAMlQ,MAAY,IACR,EAAbkQ,EAAMlQ,MAAY,GAAKkQ,EAAMC,MAAQ7N,QAAQ8N,WAChC,GAAbF,EAAMlQ,MAAa,GAAKkQ,EAAMG,MAAQ/N,QAAQgO,SAjLxDN,EAAK3K,EAAGkL,SAAU5R,EAAQkP,MAAQmC,EAAGnC,MAAOlP,EAAQ4O,SAAWyC,EAAGzC,SAAU5O,EAAQgP,MAAQqC,EAAGrC,MAAOhP,EAAQ6R,MAAQR,EAAGQ,MAAO7R,EAAQkQ,QAAUmB,EAAGnB,QAASlQ,EAAQoP,SAAWiC,EAAGjC,SAAUpP,EAAQuQ,OAASc,EAAGd,OAAQvQ,EAAQ8R,MAAQT,EAAGS,MAAO9R,EAAQ2P,KAAO0B,EAAG1B,KAAM3P,EAAQqP,QAAUgC,EAAGhC,QAASrP,EAAQyO,OAAS4C,EAAG5C,OAC9TzO,EAAQmJ,WAAkC,UAArBxF,QAAQ2D,SAe7BtH,EAAQsP,OAdR,SAAgBX,GACZ,OAAOxM,EAAUC,UAAM,OAAQ,GAAQ,YACnC,UACUpC,EAAQ2P,KAAKhB,GAEvB,MAAOnD,GACH,GAAiB,WAAbA,EAAIgD,KACJ,OAAO,EAEX,MAAMhD,EAEV,OAAO,MAUfxL,EAAQmN,YANR,SAAqBwB,EAAQoD,GAAU,GACnC,OAAO5P,EAAUC,UAAM,OAAQ,GAAQ,YAEnC,OADc2P,QAAgB/R,EAAQ2P,KAAKhB,SAAgB3O,EAAQgP,MAAML,IAC5DxB,kBAmBrBnN,EAAQ6Q,SAXR,SAAkB7O,GAEd,KADAA,EAmIJ,SAA6BA,GAEzB,GADAA,EAAIA,GAAK,GACLhC,EAAQmJ,WAIR,OAFAnH,EAAIA,EAAE0C,QAAQ,MAAO,OAEZA,QAAQ,SAAU,MAG/B,OAAO1C,EAAE0C,QAAQ,SAAU,KA5IvBsN,CAAoBhQ,IAEpB,MAAM,IAAIoC,MAAM,4CAEpB,OAAIpE,EAAQmJ,WACAnH,EAAEiQ,WAAW,OAAS,WAAWC,KAAKlQ,GAG3CA,EAAEiQ,WAAW,MA6CxBjS,EAAQoK,OAhCR,SAASA,EAAOuE,EAAQwD,EAAW,IAAMC,EAAQ,GAC7C,OAAOjQ,EAAUC,UAAM,OAAQ,GAAQ,YAGnC,GAFA0G,EAASmD,GAAG0C,EAAQ,oCACpBA,EAASpL,EAAKb,QAAQiM,GAClByD,GAASD,EACT,OAAOnS,EAAQ6R,MAAMlD,GACzB,IAEI,kBADM3O,EAAQ6R,MAAMlD,IAGxB,MAAOnD,GACH,OAAQA,EAAIgD,MACR,IAAK,SAGD,aAFMpE,EAAO7G,EAAK8D,QAAQsH,GAASwD,EAAUC,EAAQ,cAC/CpS,EAAQ6R,MAAMlD,IAGxB,QAAS,CACL,IAAI4C,EACJ,IACIA,QAAcvR,EAAQ2P,KAAKhB,GAE/B,MAAO0D,GACH,MAAM7G,EAEV,IAAK+F,EAAMpE,cACP,MAAM3B,SAmF9BxL,EAAQ+Q,qBAtER,SAA8BD,EAAUL,GACpC,OAAOtO,EAAUC,UAAM,OAAQ,GAAQ,YACnC,IAAImP,OAAQe,EACZ,IAEIf,QAAcvR,EAAQ2P,KAAKmB,GAE/B,MAAOtF,GACc,WAAbA,EAAIgD,MAEJ+D,QAAQC,2EAA2E1B,OAActF,KAGzG,GAAI+F,GAASA,EAAM7D,SACf,GAAI1N,EAAQmJ,WAAY,CAEpB,MAAMsJ,EAAWlP,EAAKmP,QAAQ5B,GAAUnM,cACxC,GAAI8L,EAAWkC,KAAKC,GAAYA,EAASjO,gBAAkB8N,GACvD,OAAO3B,OAIX,GAAIQ,EAAiBC,GACjB,OAAOT,EAKnB,MAAM+B,EAAmB/B,EACzB,IAAK,MAAMH,KAAaF,EAAY,CAChCK,EAAW+B,EAAmBlC,EAC9BY,OAAQe,EACR,IACIf,QAAcvR,EAAQ2P,KAAKmB,GAE/B,MAAOtF,GACc,WAAbA,EAAIgD,MAEJ+D,QAAQC,2EAA2E1B,OAActF,KAGzG,GAAI+F,GAASA,EAAM7D,SAAU,CACzB,GAAI1N,EAAQmJ,WAAY,CAEpB,IACI,MAAMgI,EAAY5N,EAAK8D,QAAQyJ,GACzBgC,EAAYvP,EAAKsM,SAASiB,GAAUnM,cAC1C,IAAK,MAAMoO,WAAoB/S,EAAQkQ,QAAQiB,GAC3C,GAAI2B,IAAcC,EAAWpO,cAAe,CACxCmM,EAAWvN,EAAK4D,KAAKgK,EAAW4B,GAChC,OAIZ,MAAOvH,GAEH+G,QAAQC,6EAA6E1B,OAActF,KAEvG,OAAOsF,EAGP,GAAIQ,EAAiBC,GACjB,OAAOT,GAKvB,MAAO,Q,6BCxKf,IAAI3O,EAAaC,MAAQA,KAAKD,WAAc,SAAUE,EAASC,EAAYC,EAAGC,GAC1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUzB,GAAS,IAAM0B,EAAKL,EAAUM,KAAK3B,IAAW,MAAO4B,GAAKJ,EAAOI,IACpF,SAASC,EAAS7B,GAAS,IAAM0B,EAAKL,EAAiB,MAAErB,IAAW,MAAO4B,GAAKJ,EAAOI,IACvF,SAASF,EAAKI,GAAUA,EAAOC,KAAOR,EAAQO,EAAO9B,OAAS,IAAIoB,GAAE,SAAUG,GAAWA,EAAQO,EAAO9B,UAAWgC,KAAKP,EAAWI,GACnIH,GAAML,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKQ,YAGtElC,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAM6J,EAAM,EAAQ,IACdC,EAAO,EAAQ,GACf+H,EAAQ,EAAQ,GACtB,IAAItM,EACAuM,EACJ,IAAIC,GACJ,SAAWA,GACPA,EAAUA,EAAc,GAAI,KAAO,KACnCA,EAAUA,EAA2B,gBAAI,KAAO,kBAChDA,EAAUA,EAA4B,iBAAI,KAAO,mBACjDA,EAAUA,EAAyB,cAAI,KAAO,gBAC9CA,EAAUA,EAAoB,SAAI,KAAO,WACzCA,EAAUA,EAAuB,YAAI,KAAO,cAC5CA,EAAUA,EAAoB,SAAI,KAAO,WACzCA,EAAUA,EAAuB,YAAI,KAAO,cAC5CA,EAAUA,EAA6B,kBAAI,KAAO,oBAClDA,EAAUA,EAA6B,kBAAI,KAAO,oBAClDA,EAAUA,EAAsB,WAAI,KAAO,aAC3CA,EAAUA,EAAwB,aAAI,KAAO,eAC7CA,EAAUA,EAA2B,gBAAI,KAAO,kBAChDA,EAAUA,EAAqB,UAAI,KAAO,YAC1CA,EAAUA,EAAoB,SAAI,KAAO,WACzCA,EAAUA,EAA4B,iBAAI,KAAO,mBACjDA,EAAUA,EAAyB,cAAI,KAAO,gBAC9CA,EAAUA,EAAuC,4BAAI,KAAO,8BAC5DA,EAAUA,EAA0B,eAAI,KAAO,iBAC/CA,EAAUA,EAAoB,SAAI,KAAO,WACzCA,EAAUA,EAAgB,KAAI,KAAO,OACrCA,EAAUA,EAA+B,oBAAI,KAAO,sBACpDA,EAAUA,EAA0B,eAAI,KAAO,iBAC/CA,EAAUA,EAAsB,WAAI,KAAO,aAC3CA,EAAUA,EAA8B,mBAAI,KAAO,qBACnDA,EAAUA,EAA0B,eAAI,KAAO,iBA1BnD,CA2BGA,EAAYlT,EAAQkT,YAAclT,EAAQkT,UAAY,KACzD,MAAMC,EAAoB,CAACD,EAAUE,iBAAkBF,EAAUG,cAAeH,EAAUI,SAAUJ,EAAUK,kBAAmBL,EAAUM,mBACrIC,EAAyB,CAACP,EAAUQ,WAAYR,EAAUS,mBAAoBT,EAAUU,gBACxFC,EAAqB,CAAC,UAAW,MAAO,SAAU,QAClDC,EAA4B,GAC5BC,EAA8B,EACpC,MAAMC,EACF,YAAYjQ,GACR3B,KAAK2B,QAAUA,EAEnB,WACI,OAAO,IAAItB,QAAQ,CAACC,EAASC,IAAWR,EAAUC,UAAM,OAAQ,GAAQ,YACpE,IAAI4E,EAAS,GACb5E,KAAK2B,QAAQ6H,GAAG,OAASqI,IACrBjN,GAAUiN,IAEd7R,KAAK2B,QAAQ6H,GAAG,MAAO,KACnBlJ,EAAQsE,UAWxB,IAAIkN,EANJlU,EAAQgU,mBAAqBA,EAK7BhU,EAAQmU,QAJR,SAAiBC,GAEb,MAA8B,WADdpJ,EAAIqJ,MAAMD,GACTE,UAIrB,SAAWJ,GACPA,EAAiC,WAAI,aACrCA,EAAkC,YAAI,cAF1C,CAGGA,IAAyBA,EAAuB,KAyXnDlU,EAAQkL,WAxXR,MACI,YAAY9B,EAAWmL,EAAUC,GAC7BpS,KAAKqS,iBAAkB,EACvBrS,KAAKsS,iBAAkB,EACvBtS,KAAKuS,cAAgB,GACrBvS,KAAKwS,eAAgB,EACrBxS,KAAKyS,YAAc,EACnBzS,KAAK0S,YAAa,EAClB1S,KAAK2S,WAAY,EACjB3S,KAAKgH,UAAYA,EACjBhH,KAAKmS,SAAWA,GAAY,GAC5BnS,KAAKoS,eAAiBA,EAClBA,IACqC,MAAjCA,EAAeQ,iBACf5S,KAAKqS,gBAAkBD,EAAeQ,gBAE1C5S,KAAK6S,eAAiBT,EAAeU,cACrC9S,KAAK+S,WAAaX,EAAeY,MAC7BZ,EAAeY,OAASZ,EAAeY,MAAMC,mBAC7CjT,KAAKkT,sBAAwB,GAC7Bd,EAAeY,MAAMC,iBAAiBE,QAAQC,IAC1CpT,KAAKkT,sBAAsBrL,KAAK,IAAIwL,OAAOD,EAAQ,SAG3DpT,KAAKsT,YAAclB,EAAemB,KAC9BvT,KAAKsT,cAELhP,EAAK,EAAQ,GAETtE,KAAKsT,YAAYE,QAAUlP,EAAGkD,WAAWxH,KAAKsT,YAAYE,UAC1DxT,KAAKyT,IAAMnP,EAAGoP,aAAa1T,KAAKsT,YAAYE,OAAQ,SAEpDxT,KAAKsT,YAAYK,UAAYrP,EAAGkD,WAAWxH,KAAKsT,YAAYK,YAC5D3T,KAAK4T,MAAQtP,EAAGoP,aAAa1T,KAAKsT,YAAYK,SAAU,SAExD3T,KAAKsT,YAAYO,SAAWvP,EAAGkD,WAAWxH,KAAKsT,YAAYO,WAC3D7T,KAAK8T,KAAOxP,EAAGoP,aAAa1T,KAAKsT,YAAYO,QAAS,UAGzB,MAAjCzB,EAAe2B,iBACf/T,KAAKsS,gBAAkBF,EAAe2B,gBAEP,MAA/B3B,EAAe4B,eACfhU,KAAKuS,cAAgB0B,KAAKC,IAAI9B,EAAe4B,aAAc,IAE/B,MAA5B5B,EAAe+B,YACfnU,KAAK0S,WAAaN,EAAe+B,WAEF,MAA/B/B,EAAerJ,eACf/I,KAAKwS,cAAgBJ,EAAerJ,cAEP,MAA7BqJ,EAAepJ,aACfhJ,KAAKyS,YAAcL,EAAepJ,aAI9C,QAAQgJ,EAAYoC,GAChB,OAAOpU,KAAKqU,QAAQ,UAAWrC,EAAY,KAAMoC,GAAqB,IAE1E,IAAIpC,EAAYoC,GACZ,OAAOpU,KAAKqU,QAAQ,MAAOrC,EAAY,KAAMoC,GAAqB,IAEtE,IAAIpC,EAAYoC,GACZ,OAAOpU,KAAKqU,QAAQ,SAAUrC,EAAY,KAAMoC,GAAqB,IAEzE,KAAKpC,EAAYrN,EAAMyP,GACnB,OAAOpU,KAAKqU,QAAQ,OAAQrC,EAAYrN,EAAMyP,GAAqB,IAEvE,MAAMpC,EAAYrN,EAAMyP,GACpB,OAAOpU,KAAKqU,QAAQ,QAASrC,EAAYrN,EAAMyP,GAAqB,IAExE,IAAIpC,EAAYrN,EAAMyP,GAClB,OAAOpU,KAAKqU,QAAQ,MAAOrC,EAAYrN,EAAMyP,GAAqB,IAEtE,KAAKpC,EAAYoC,GACb,OAAOpU,KAAKqU,QAAQ,OAAQrC,EAAY,KAAMoC,GAAqB,IAEvE,WAAWE,EAAMtC,EAAYuC,EAAQH,GACjC,OAAOpU,KAAKqU,QAAQC,EAAMtC,EAAYuC,EAAQH,GAOlD,QAAQE,EAAMtC,EAAYrN,EAAM6P,GAC5B,OAAOzU,EAAUC,UAAM,OAAQ,GAAQ,YACnC,GAAIA,KAAK2S,UACL,MAAM,IAAI3Q,MAAM,qCAEpB,IAIIkH,EAJAlG,EAAOhD,KAAKyU,gBAAgBH,EAAMtC,EAAYwC,GAE9CE,EAAY1U,KAAKwS,gBAAsD,GAArCf,EAAmBkD,QAAQL,GAAetU,KAAKyS,YAAc,EAAI,EACnGmC,EAAW,EAEf,KAAOA,EAAWF,GAAU,CAGxB,IAFAxL,QAAiBlJ,KAAK6U,WAAW7R,EAAM2B,KAEvBuE,EAASvH,SAAWuH,EAASvH,QAAQwH,aAAe2H,EAAUgE,aAAc,CACxF,IAAIC,EACJ,IAAK,IAAIjX,EAAI,EAAGA,EAAIkC,KAAKmS,SAASvO,OAAQ9F,IACtC,GAAIkC,KAAKmS,SAASrU,GAAGkX,wBAAwB9L,GAAW,CACpD6L,EAAwB/U,KAAKmS,SAASrU,GACtC,MAGR,OAAIiX,EACOA,EAAsBE,qBAAqBjV,KAAMgD,EAAM2B,GAKvDuE,EAGf,IAAIgM,EAAqBlV,KAAKuS,cAC9B,MAAkE,GAA3DxB,EAAkB4D,QAAQzL,EAASvH,QAAQwH,aAC3CnJ,KAAKsS,iBACL4C,EAAqB,GAAG,CAC3B,MAAMC,EAAcjM,EAASvH,QAAQ6S,QAAkB,SACvD,IAAKW,EAED,YAIEjM,EAASkM,WAEfpS,EAAOhD,KAAKyU,gBAAgBH,EAAMa,EAAaX,GAC/CtL,QAAiBlJ,KAAK6U,WAAW7R,EAAM2B,GACvCuQ,IAEJ,IAAoE,GAAhE7D,EAAuBsD,QAAQzL,EAASvH,QAAQwH,YAEhD,OAAOD,GAEX0L,GAAY,GACGF,UACLxL,EAASkM,iBACTpV,KAAKqV,2BAA2BT,IAG9C,OAAO1L,KAMf,UACQlJ,KAAKsV,QACLtV,KAAKsV,OAAOC,UAEhBvV,KAAK2S,WAAY,EAOrB,WAAW3P,EAAM2B,GACb,OAAO,IAAItE,QAAQ,CAACC,EAASC,KAOzBP,KAAKwV,uBAAuBxS,EAAM2B,GANV,SAAUyE,EAAKqM,GAC/BrM,GACA7I,EAAO6I,GAEX9I,EAAQmV,QAWpB,uBAAuBzS,EAAM2B,EAAM+Q,GAC/B,IAAIC,EAEkB,iBAAX,IACP3S,EAAKX,QAAQmS,QAAQ,kBAAoBoB,OAAOC,WAAWlR,EAAM,SAErE,IAAImR,GAAiB,EACjBC,EAAe,CAAC3M,EAAKqM,KAChBK,IACDA,GAAiB,EACjBJ,EAAStM,EAAKqM,KAGlBO,EAAMhT,EAAKiT,WAAW5B,QAAQrR,EAAKX,QAAU6T,IAC7C,IAAIT,EAAM,IAAI7D,EAAmBsE,GACjCH,EAAa,KAAMN,KAEvBO,EAAIxM,GAAG,SAAW2M,IACdR,EAASQ,IAGbH,EAAII,WAAWpW,KAAK6S,gBAAkB,KAAW,KACzC8C,GACAA,EAAOjM,MAEXqM,EAAa,IAAI/T,MAAM,oBAAsBgB,EAAKX,QAAQlB,MAAO,QAErE6U,EAAIxM,GAAG,SAAS,SAAUJ,GAGtB2M,EAAa3M,EAAK,SAElBzE,GAA0B,iBAAX,GACfqR,EAAI9S,MAAMyB,EAAM,QAEhBA,GAA0B,iBAAX,GACfA,EAAK6E,GAAG,SAAS,WACbwM,EAAItM,SAER/E,EAAK8E,KAAKuM,IAGVA,EAAItM,MAGZ,gBAAgB2M,EAAQrE,EAAYwC,GAChC,MAAMxR,EAAO,GACbA,EAAKsT,UAAY1N,EAAIqJ,MAAMD,GAC3B,MAAMuE,EAAuC,WAA5BvT,EAAKsT,UAAUpE,SAChClP,EAAKiT,WAAaM,EAAW3F,EAAQ/H,EACrC,MAAM2N,EAAcD,EAAW,IAAM,GAerC,OAdAvT,EAAKX,QAAU,GACfW,EAAKX,QAAQoU,KAAOzT,EAAKsT,UAAUI,SACnC1T,EAAKX,QAAQsU,KAAO3T,EAAKsT,UAAUK,KAAOC,SAAS5T,EAAKsT,UAAUK,MAAQH,EAC1ExT,EAAKX,QAAQlB,MAAQ6B,EAAKsT,UAAUO,UAAY,KAAO7T,EAAKsT,UAAUQ,QAAU,IAChF9T,EAAKX,QAAQgU,OAASA,EACtBrT,EAAKX,QAAQmS,QAAUxU,KAAK+W,cAAcvC,GAC1CxR,EAAKX,QAAQmS,QAAQ,cAAgBxU,KAAKgH,UAC1ChE,EAAKX,QAAQ2U,MAAQhX,KAAKiX,UAAUjF,GAEhChS,KAAKmS,WAAanS,KAAKkX,aAAalF,IACpChS,KAAKmS,SAASgB,QAASgE,IACnBA,EAAQC,eAAepU,EAAKX,WAG7BW,EAEX,aAAagP,GACT,GAAIhS,KAAKoS,gBAAkBpS,KAAKoS,eAAeiF,qBAAsB,CACjE,MAAMC,EAAWtX,KAAKoS,eAAeiF,qBACrC,IAAK,IAAIvZ,EAAI,EAAGA,EAAIwZ,EAAS1T,OAAQ9F,IACjC,GAAIkU,EAAWuF,MAAMD,EAASxZ,IAC1B,OAAO,EAInB,OAAO,EAEX,cAAc0W,GACV,MAAMgD,EAAgBC,GAAOjZ,OAAO2H,KAAKsR,GAAKC,OAAO,CAACvZ,EAAGgG,KAAOhG,EAAEgG,EAAEwT,eAAiBF,EAAItT,GAAIhG,GAAI,IACjG,OAAI6B,KAAKoS,gBAAkBpS,KAAKoS,eAAeoC,QACpChW,OAAOoZ,OAAO,GAAIJ,EAAcxX,KAAKoS,eAAeoC,SAAUgD,EAAchD,IAEhFgD,EAAchD,GAAW,IAEpC,UAAUxC,GACN,IAAIgF,EACAhE,EAAQhT,KAAK6X,UAAU7F,GACvB8F,EAAW9E,EAAM+E,UAAY/E,EAAM+E,SAASrB,WAAa1W,KAAKgY,eAAehG,GAQjF,GAPIhS,KAAK0S,YAAcoF,IACnBd,EAAQhX,KAAKiY,aAEbjY,KAAK0S,aAAeoF,IACpBd,EAAQhX,KAAKsV,QAGX0B,EACF,OAAOA,EAGX,MAAMT,EAAkC,WADxB3N,EAAIqJ,MAAMD,GACCE,SAC3B,IAAIgG,EAAa,IAIjB,GAHMlY,KAAKoS,iBACP8F,EAAalY,KAAKoS,eAAe8F,YAAcrP,EAAKsP,YAAYD,YAEhEJ,EAAU,CAELjH,IACDA,EAAS,EAAQ,KAErB,MAAMuH,EAAe,CACjBF,WAAYA,EACZ/D,UAAWnU,KAAK0S,WAChBM,MAAO,CACHqF,UAAWrF,EAAMqF,UACjB5B,KAAMzD,EAAM+E,SAASrB,SACrBC,KAAM3D,EAAM+E,SAASpB,OAG7B,IAAI2B,EACJ,MAAMC,EAAwC,WAA5BvF,EAAM+E,SAAS7F,SAOjC8E,GALIsB,EADA/B,EACcgC,EAAY1H,EAAO2H,eAAiB3H,EAAO4H,cAG3CF,EAAY1H,EAAO6H,cAAgB7H,EAAO8H,cAExCP,GACpBpY,KAAKiY,YAAcjB,EAGvB,GAAIhX,KAAK0S,aAAesE,EAAO,CAC3B,MAAM3U,EAAU,CAAE8R,UAAWnU,KAAK0S,WAAYwF,WAAYA,GAC1DlB,EAAQT,EAAW,IAAI3F,EAAMgI,MAAMvW,GAAW,IAAIwG,EAAK+P,MAAMvW,GAC7DrC,KAAKsV,OAAS0B,EAelB,OAZKA,IACDA,EAAQT,EAAW3F,EAAMuH,YAActP,EAAKsP,aAE5C5B,GAAYvW,KAAKqS,kBAIjB2E,EAAM3U,QAAU7D,OAAOoZ,OAAOZ,EAAM3U,SAAW,GAAI,CAAEwW,oBAAoB,KAEzEtC,GAAYvW,KAAKsT,cACjB0D,EAAM3U,QAAU7D,OAAOoZ,OAAOZ,EAAM3U,SAAW,GAAI,CAAEyW,GAAI9Y,KAAKyT,IAAKF,KAAMvT,KAAK4T,MAAOvU,IAAKW,KAAK8T,KAAMiF,WAAY/Y,KAAKsT,YAAYyF,cAE/H/B,EAEX,UAAUhF,GAEN,IAiBI+F,EACAM,EAlBA9B,EAAkC,WADpB3N,EAAIqJ,MAAMD,GACHE,SACrB8G,EAAchZ,KAAK+S,WAEnBkG,EAAc1X,QAAQC,IAAIsQ,EAAqBoH,aAC/CC,EAAa5X,QAAQC,IAAIsQ,EAAqBsH,YAuBlD,OAtBKJ,IACGC,GAAe1C,EACfyC,EAAc,CACVjB,SAAUkB,GAGTE,IACLH,EAAc,CACVjB,SAAUoB,KAMlBH,IACIA,EAAYjB,SAASnU,OAAS,IAC9BmU,EAAWnP,EAAIqJ,MAAM+G,EAAYjB,YAEjCiB,EAAYK,eAAiBL,EAAYM,iBACzCjB,EAAYW,EAAYK,cAAgB,IAAML,EAAYM,gBAG3D,CAAEvB,SAAUA,EAAUM,UAAWA,GAE5C,eAAerG,GACX,IAAKhS,KAAKkT,sBACN,OAAO,EAEX,IAAIE,GAAS,EAMb,OALApT,KAAKkT,sBAAsBC,QAAQoG,IAC3BA,EAAWzJ,KAAKkC,KAChBoB,GAAS,KAGVA,EAEX,2BAA2BoG,GACvBA,EAAcvF,KAAKwF,IAAI/H,EAA2B8H,GAClD,MAAME,EAAK/H,EAA8BsC,KAAK0F,IAAI,EAAGH,GACrD,OAAO,IAAInZ,QAAQC,GAAW8V,WAAW,IAAM9V,IAAWoZ,O,cCnclE7b,EAAOD,QAAUkC,QAAQ,Q,gBCAzBjC,EAAOD,QAAU,EAAQ,K,6BCEf,EAAQ,IAAlB,IAsOIkF,EArOA8W,EAAM,EAAQ,IACd/Q,EAAO,EAAQ,GACf+H,EAAQ,EAAQ,GAChBiJ,EAAS,EAAQ,GACjBC,EAAS,EAAQ,GACjBC,EAAO,EAAQ,GAoCnB,SAASC,EAAe3X,GACtB,IAAI4X,EAAOja,KACXia,EAAK5X,QAAUA,GAAW,GAC1B4X,EAAKC,aAAeD,EAAK5X,QAAQ2Q,OAAS,GAC1CiH,EAAK/B,WAAa+B,EAAK5X,QAAQ6V,YAAcrP,EAAK+P,MAAMuB,kBACxDF,EAAKG,SAAW,GAChBH,EAAKI,QAAU,GAEfJ,EAAKzQ,GAAG,QAAQ,SAAgBmM,EAAQc,EAAME,EAAM2D,GAElD,IADA,IAAIjY,EAAUkY,EAAU9D,EAAME,EAAM2D,GAC3Bxc,EAAI,EAAG0c,EAAMP,EAAKG,SAASxW,OAAQ9F,EAAI0c,IAAO1c,EAAG,CACxD,IAAI2c,EAAUR,EAAKG,SAAStc,GAC5B,GAAI2c,EAAQhE,OAASpU,EAAQoU,MAAQgE,EAAQ9D,OAAStU,EAAQsU,KAK5D,OAFAsD,EAAKG,SAASM,OAAO5c,EAAG,QACxB2c,EAAQpG,QAAQsG,SAAShF,GAI7BA,EAAOJ,UACP0E,EAAKW,aAAajF,MA0HtB,SAASkF,EAAmBxY,EAASyY,GACnC,IAAIb,EAAOja,KACXga,EAAeta,UAAUqb,aAAa9c,KAAKgc,EAAM5X,GAAS,SAASsT,GACjE,IAAIqF,EAAa3Y,EAAQgS,QAAQ4G,UAAU,QACvCC,EAAaC,EAAa,GAAIlB,EAAK5X,QAAS,CAC9CsT,OAAQA,EACRyF,WAAYJ,EAAaA,EAAW1Y,QAAQ,OAAQ,IAAMD,EAAQoU,OAIhE4E,EAAezB,EAAI0B,QAAQ,EAAGJ,GAClCjB,EAAKI,QAAQJ,EAAKI,QAAQ1F,QAAQgB,IAAW0F,EAC7CP,EAAGO,MAKP,SAASd,EAAU9D,EAAME,EAAM2D,GAC7B,MAAoB,iBAAT7D,EACF,CACLA,KAAMA,EACNE,KAAMA,EACN2D,aAAcA,GAGX7D,EAGT,SAAS0E,EAAaI,GACpB,IAAK,IAAIzd,EAAI,EAAG0c,EAAMgB,UAAU5X,OAAQ9F,EAAI0c,IAAO1c,EAAG,CACpD,IAAI2d,EAAYD,UAAU1d,GAC1B,GAAyB,iBAAd2d,EAET,IADA,IAAItV,EAAO3H,OAAO2H,KAAKsV,GACdC,EAAI,EAAGC,EAASxV,EAAKvC,OAAQ8X,EAAIC,IAAUD,EAAG,CACrD,IAAIvX,EAAIgC,EAAKuV,QACQxL,IAAjBuL,EAAUtX,KACZoX,EAAOpX,GAAKsX,EAAUtX,KAK9B,OAAOoX,EAzNT3d,EAAQ+a,aAMR,SAAsBtW,GACpB,IAAI2U,EAAQ,IAAIgD,EAAe3X,GAE/B,OADA2U,EAAM3C,QAAUxL,EAAKwL,QACd2C,GARTpZ,EAAQ6a,cAWR,SAAuBpW,GACrB,IAAI2U,EAAQ,IAAIgD,EAAe3X,GAG/B,OAFA2U,EAAM3C,QAAUxL,EAAKwL,QACrB2C,EAAM+D,aAAeF,EACd7D,GAdTpZ,EAAQ8a,cAiBR,SAAuBrW,GACrB,IAAI2U,EAAQ,IAAIgD,EAAe3X,GAE/B,OADA2U,EAAM3C,QAAUzD,EAAMyD,QACf2C,GAnBTpZ,EAAQ4a,eAsBR,SAAwBnW,GACtB,IAAI2U,EAAQ,IAAIgD,EAAe3X,GAG/B,OAFA2U,EAAM3C,QAAUzD,EAAMyD,QACtB2C,EAAM+D,aAAeF,EACd7D,GA4BT+C,EAAK6B,SAAS5B,EAAgBH,EAAOgC,cAErC7B,EAAeta,UAAUoc,WAAa,SAAoB9F,EAAKS,EAAME,EAAM2D,GACzE,IAAIL,EAAOja,KACPqC,EAAU8Y,EAAa,CAAC9G,QAAS2B,GAAMiE,EAAK5X,QAASkY,EAAU9D,EAAME,EAAM2D,IAE3EL,EAAKI,QAAQzW,QAAU5D,KAAKkY,WAE9B+B,EAAKG,SAASvS,KAAKxF,GAKrB4X,EAAKc,aAAa1Y,GAAS,SAASsT,GAMlC,SAASoG,IACP9B,EAAK+B,KAAK,OAAQrG,EAAQtT,GAG5B,SAAS4Z,EAAgB7S,GACvB6Q,EAAKW,aAAajF,GAClBA,EAAOuG,eAAe,OAAQH,GAC9BpG,EAAOuG,eAAe,QAASD,GAC/BtG,EAAOuG,eAAe,cAAeD,GAbvCtG,EAAOnM,GAAG,OAAQuS,GAClBpG,EAAOnM,GAAG,QAASyS,GACnBtG,EAAOnM,GAAG,cAAeyS,GACzBjG,EAAI2E,SAAShF,OAejBqE,EAAeta,UAAUqb,aAAe,SAAsB1Y,EAASyY,GACrE,IAAIb,EAAOja,KACPmc,EAAc,GAClBlC,EAAKI,QAAQxS,KAAKsU,GAElB,IAAIC,EAAiBjB,EAAa,GAAIlB,EAAKC,aAAc,CACvD7D,OAAQ,UACRlV,KAAMkB,EAAQoU,KAAO,IAAMpU,EAAQsU,KACnCK,OAAO,IAELoF,EAAe/D,YACjB+D,EAAe5H,QAAU4H,EAAe5H,SAAW,GACnD4H,EAAe5H,QAAQ,uBAAyB,SAC5C,IAAIoB,OAAOwG,EAAe/D,WAAWxT,SAAS,WAGpD/B,EAAM,0BACN,IAAIuZ,EAAapC,EAAK5F,QAAQ+H,GAoB9B,SAASE,EAAU7G,EAAKE,EAAQ4G,GAI9B,GAHAF,EAAWG,qBACX7G,EAAO6G,qBAEgB,MAAnB/G,EAAItM,WACN2Q,EAAO2C,MAAMF,EAAK3Y,OAAQ,GAC1Bd,EAAM,wCACNmX,EAAKI,QAAQJ,EAAKI,QAAQ1F,QAAQwH,IAAgBxG,EAClDmF,EAAGnF,OACE,CACL7S,EAAM,2DACA2S,EAAItM,YACV,IAAIzH,EAAQ,IAAIM,MAAM,yDACgByT,EAAItM,YAC1CzH,EAAM0K,KAAO,aACb/J,EAAQgS,QAAQ2H,KAAK,QAASta,GAC9BuY,EAAKW,aAAauB,IAnCtBE,EAAWK,6BAA8B,EACzCL,EAAWM,KAAK,YAMhB,SAAoBlH,GAElBA,EAAImH,SAAU,KAPhBP,EAAWM,KAAK,WAUhB,SAAmBlH,EAAKE,EAAQ4G,GAE9Bhb,QAAQsb,UAAS,WACfP,EAAU7G,EAAKE,EAAQ4G,SAZ3BF,EAAWM,KAAK,UAAWL,GAC3BD,EAAWM,KAAK,SAmChB,SAAiBG,GACfT,EAAWG,qBAEX1Z,EAAM,wDACAga,EAAMnb,QAASmb,EAAMC,OAC3B,IAAIrb,EAAQ,IAAIM,MAAM,oDACW8a,EAAMnb,SACvCD,EAAM0K,KAAO,aACb/J,EAAQgS,QAAQ2H,KAAK,QAASta,GAC9BuY,EAAKW,aAAauB,MA3CpBE,EAAW3S,OA+CbsQ,EAAeta,UAAUkb,aAAe,SAAsBjF,GAC5D,IAAIqH,EAAMhd,KAAKqa,QAAQ1F,QAAQgB,GAC/B,IAAa,IAATqH,EAAJ,CAGAhd,KAAKqa,QAAQK,OAAOsC,EAAK,GAEzB,IAAIvC,EAAUza,KAAKoa,SAAS6C,QACxBxC,GAGFza,KAAK+a,aAAaN,GAAS,SAAS9E,GAClC8E,EAAQpG,QAAQsG,SAAShF,QAoD7B7S,EADEvB,QAAQC,IAAI0b,YAAc,aAAapN,KAAKvO,QAAQC,IAAI0b,YAClD,WACN,IAAIzZ,EAAO0Z,MAAMzd,UAAUoE,MAAM7F,KAAKud,WACf,iBAAZ/X,EAAK,GACdA,EAAK,GAAK,WAAaA,EAAK,GAE5BA,EAAK2Z,QAAQ,WAEfjN,QAAQzO,MAAMV,MAAMmP,QAAS1M,IAGvB,aAEV7F,EAAQkF,MAAQA,G,cCtPhBjF,EAAOD,QAAUkC,QAAQ,Q,cCAzBjC,EAAOD,QAAUkC,QAAQ,Q,cCEzB,IAAIgD,EAFJlF,EAAUC,EAAOD,QAAUyf,EAQzBva,EAJqB,iBAAZvB,SACPA,QAAQC,KACRD,QAAQC,IAAI0b,YACZ,cAAcpN,KAAKvO,QAAQC,IAAI0b,YACzB,WACN,IAAIzZ,EAAO0Z,MAAMzd,UAAUoE,MAAM7F,KAAKud,UAAW,GACjD/X,EAAK2Z,QAAQ,UACbjN,QAAQC,IAAIpP,MAAMmP,QAAS1M,IAGrB,aAKV7F,EAAQ0f,oBAAsB,QAE9B,IAAIC,EAAa,IACbC,EAAmBC,OAAOD,kBACD,iBAMzBE,EAAK9f,EAAQ8f,GAAK,GAClBC,EAAM/f,EAAQ+f,IAAM,GACpB3e,EAAIpB,EAAQggB,OAAS,GACrBC,EAAI,EAER,SAASC,EAAKve,GACZP,EAAEO,GAAKse,IASTC,EAAI,qBACJH,EAAI3e,EAAE+e,mBAAqB,cAC3BD,EAAI,0BACJH,EAAI3e,EAAEgf,wBAA0B,SAMhCF,EAAI,wBACJH,EAAI3e,EAAEif,sBAAwB,6BAK9BH,EAAI,eACJH,EAAI3e,EAAEkf,aAAe,IAAMP,EAAI3e,EAAE+e,mBAAqB,QAC7BJ,EAAI3e,EAAE+e,mBAAqB,QAC3BJ,EAAI3e,EAAE+e,mBAAqB,IAEpDD,EAAI,oBACJH,EAAI3e,EAAEmf,kBAAoB,IAAMR,EAAI3e,EAAEgf,wBAA0B,QAClCL,EAAI3e,EAAEgf,wBAA0B,QAChCL,EAAI3e,EAAEgf,wBAA0B,IAK9DF,EAAI,wBACJH,EAAI3e,EAAEof,sBAAwB,MAAQT,EAAI3e,EAAE+e,mBAChB,IAAMJ,EAAI3e,EAAEif,sBAAwB,IAEhEH,EAAI,6BACJH,EAAI3e,EAAEqf,2BAA6B,MAAQV,EAAI3e,EAAEgf,wBAChB,IAAML,EAAI3e,EAAEif,sBAAwB,IAMrEH,EAAI,cACJH,EAAI3e,EAAEsf,YAAc,QAAUX,EAAI3e,EAAEof,sBAClB,SAAWT,EAAI3e,EAAEof,sBAAwB,OAE3DN,EAAI,mBACJH,EAAI3e,EAAEuf,iBAAmB,SAAWZ,EAAI3e,EAAEqf,2BACnB,SAAWV,EAAI3e,EAAEqf,2BAA6B,OAKrEP,EAAI,mBACJH,EAAI3e,EAAEwf,iBAAmB,gBAMzBV,EAAI,SACJH,EAAI3e,EAAEyf,OAAS,UAAYd,EAAI3e,EAAEwf,iBACpB,SAAWb,EAAI3e,EAAEwf,iBAAmB,OAWjDV,EAAI,QACJA,EAAI,aACJH,EAAI3e,EAAE0f,WAAa,KAAOf,EAAI3e,EAAEkf,aACdP,EAAI3e,EAAEsf,YAAc,IACpBX,EAAI3e,EAAEyf,OAAS,IAEjCd,EAAI3e,EAAE2f,MAAQ,IAAMhB,EAAI3e,EAAE0f,WAAa,IAKvCZ,EAAI,cACJH,EAAI3e,EAAE4f,YAAc,WAAajB,EAAI3e,EAAEmf,kBACrBR,EAAI3e,EAAEuf,iBAAmB,IACzBZ,EAAI3e,EAAEyf,OAAS,IAEjCX,EAAI,SACJH,EAAI3e,EAAE6f,OAAS,IAAMlB,EAAI3e,EAAE4f,YAAc,IAEzCd,EAAI,QACJH,EAAI3e,EAAE8f,MAAQ,eAKdhB,EAAI,yBACJH,EAAI3e,EAAE+f,uBAAyBpB,EAAI3e,EAAEgf,wBAA0B,WAC/DF,EAAI,oBACJH,EAAI3e,EAAEggB,kBAAoBrB,EAAI3e,EAAE+e,mBAAqB,WAErDD,EAAI,eACJH,EAAI3e,EAAEigB,aAAe,YAActB,EAAI3e,EAAEggB,kBAAoB,WAC9BrB,EAAI3e,EAAEggB,kBAAoB,WAC1BrB,EAAI3e,EAAEggB,kBAAoB,OAC9BrB,EAAI3e,EAAEsf,YAAc,KAC5BX,EAAI3e,EAAEyf,OAAS,QAGlCX,EAAI,oBACJH,EAAI3e,EAAEkgB,kBAAoB,YAAcvB,EAAI3e,EAAE+f,uBAAyB,WACnCpB,EAAI3e,EAAE+f,uBAAyB,WAC/BpB,EAAI3e,EAAE+f,uBAAyB,OACnCpB,EAAI3e,EAAEuf,iBAAmB,KACjCZ,EAAI3e,EAAEyf,OAAS,QAGvCX,EAAI,UACJH,EAAI3e,EAAEmgB,QAAU,IAAMxB,EAAI3e,EAAE8f,MAAQ,OAASnB,EAAI3e,EAAEigB,aAAe,IAClEnB,EAAI,eACJH,EAAI3e,EAAEogB,aAAe,IAAMzB,EAAI3e,EAAE8f,MAAQ,OAASnB,EAAI3e,EAAEkgB,kBAAoB,IAI5EpB,EAAI,UACJH,EAAI3e,EAAEqgB,QAAU,0EAKhBvB,EAAI,aACJJ,EAAG1e,EAAEsgB,WAAa,IAAIjM,OAAOsK,EAAI3e,EAAEqgB,QAAS,KAI5CvB,EAAI,aACJH,EAAI3e,EAAEugB,WAAa,UAEnBzB,EAAI,aACJH,EAAI3e,EAAEwgB,WAAa,SAAW7B,EAAI3e,EAAEugB,WAAa,OACjD7B,EAAG1e,EAAEwgB,WAAa,IAAInM,OAAOsK,EAAI3e,EAAEwgB,WAAY,KAG/C1B,EAAI,SACJH,EAAI3e,EAAEygB,OAAS,IAAM9B,EAAI3e,EAAEugB,WAAa5B,EAAI3e,EAAEigB,aAAe,IAC7DnB,EAAI,cACJH,EAAI3e,EAAE0gB,YAAc,IAAM/B,EAAI3e,EAAEugB,WAAa5B,EAAI3e,EAAEkgB,kBAAoB,IAIvEpB,EAAI,aACJH,EAAI3e,EAAE2gB,WAAa,UAEnB7B,EAAI,aACJH,EAAI3e,EAAE4gB,WAAa,SAAWjC,EAAI3e,EAAE2gB,WAAa,OACjDjC,EAAG1e,EAAE4gB,WAAa,IAAIvM,OAAOsK,EAAI3e,EAAE4gB,WAAY,KAG/C9B,EAAI,SACJH,EAAI3e,EAAE6gB,OAAS,IAAMlC,EAAI3e,EAAE2gB,WAAahC,EAAI3e,EAAEigB,aAAe,IAC7DnB,EAAI,cACJH,EAAI3e,EAAE8gB,YAAc,IAAMnC,EAAI3e,EAAE2gB,WAAahC,EAAI3e,EAAEkgB,kBAAoB,IAGvEpB,EAAI,mBACJH,EAAI3e,EAAE+gB,iBAAmB,IAAMpC,EAAI3e,EAAE8f,MAAQ,QAAUnB,EAAI3e,EAAE4f,YAAc,QAC3Ed,EAAI,cACJH,EAAI3e,EAAEghB,YAAc,IAAMrC,EAAI3e,EAAE8f,MAAQ,QAAUnB,EAAI3e,EAAE0f,WAAa,QAIrEZ,EAAI,kBACJH,EAAI3e,EAAEihB,gBAAkB,SAAWtC,EAAI3e,EAAE8f,MACnB,QAAUnB,EAAI3e,EAAE4f,YAAc,IAAMjB,EAAI3e,EAAEigB,aAAe,IAG/EvB,EAAG1e,EAAEihB,gBAAkB,IAAI5M,OAAOsK,EAAI3e,EAAEihB,gBAAiB,KAOzDnC,EAAI,eACJH,EAAI3e,EAAEkhB,aAAe,SAAWvC,EAAI3e,EAAEigB,aAAe,cAE5BtB,EAAI3e,EAAEigB,aAAe,SAG9CnB,EAAI,oBACJH,EAAI3e,EAAEmhB,kBAAoB,SAAWxC,EAAI3e,EAAEkgB,kBAAoB,cAEjCvB,EAAI3e,EAAEkgB,kBAAoB,SAIxDpB,EAAI,QACJH,EAAI3e,EAAEohB,MAAQ,kBAId,IAAK,IAAItiB,EAAI,EAAGA,EAAI+f,EAAG/f,IACrBgF,EAAMhF,EAAG6f,EAAI7f,IACR4f,EAAG5f,KACN4f,EAAG5f,GAAK,IAAIuV,OAAOsK,EAAI7f,KAK3B,SAASmU,EAAO9J,EAAS9F,GAQvB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRge,QAAShe,EACTie,mBAAmB,IAInBnY,aAAmBkV,EACrB,OAAOlV,EAGT,GAAuB,iBAAZA,EACT,OAAO,KAGT,GAAIA,EAAQvE,OAAS2Z,EACnB,OAAO,KAIT,KADQlb,EAAQge,MAAQ3C,EAAG1e,EAAE6f,OAASnB,EAAG1e,EAAE2f,OACpC7O,KAAK3H,GACV,OAAO,KAGT,IACE,OAAO,IAAIkV,EAAOlV,EAAS9F,GAC3B,MAAOke,GACP,OAAO,MAkBX,SAASlD,EAAQlV,EAAS9F,GAOxB,GANKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRge,QAAShe,EACTie,mBAAmB,IAGnBnY,aAAmBkV,EAAQ,CAC7B,GAAIlV,EAAQkY,QAAUhe,EAAQge,MAC5B,OAAOlY,EAEPA,EAAUA,EAAQA,aAEf,GAAuB,iBAAZA,EAChB,MAAM,IAAIqY,UAAU,oBAAsBrY,GAG5C,GAAIA,EAAQvE,OAAS2Z,EACnB,MAAM,IAAIiD,UAAU,0BAA4BjD,EAAa,eAG/D,KAAMvd,gBAAgBqd,GACpB,OAAO,IAAIA,EAAOlV,EAAS9F,GAG7BS,EAAM,SAAUqF,EAAS9F,GACzBrC,KAAKqC,QAAUA,EACfrC,KAAKqgB,QAAUhe,EAAQge,MAEvB,IAAIniB,EAAIiK,EAAQ1F,OAAO8U,MAAMlV,EAAQge,MAAQ3C,EAAG1e,EAAE6f,OAASnB,EAAG1e,EAAE2f,OAEhE,IAAKzgB,EACH,MAAM,IAAIsiB,UAAU,oBAAsBrY,GAU5C,GAPAnI,KAAKygB,IAAMtY,EAGXnI,KAAK0gB,OAASxiB,EAAE,GAChB8B,KAAK2gB,OAASziB,EAAE,GAChB8B,KAAK4gB,OAAS1iB,EAAE,GAEZ8B,KAAK0gB,MAAQlD,GAAoBxd,KAAK0gB,MAAQ,EAChD,MAAM,IAAIF,UAAU,yBAGtB,GAAIxgB,KAAK2gB,MAAQnD,GAAoBxd,KAAK2gB,MAAQ,EAChD,MAAM,IAAIH,UAAU,yBAGtB,GAAIxgB,KAAK4gB,MAAQpD,GAAoBxd,KAAK4gB,MAAQ,EAChD,MAAM,IAAIJ,UAAU,yBAIjBtiB,EAAE,GAGL8B,KAAK6gB,WAAa3iB,EAAE,GAAGsQ,MAAM,KAAKsS,KAAI,SAAUC,GAC9C,GAAI,WAAWjR,KAAKiR,GAAK,CACvB,IAAIC,GAAOD,EACX,GAAIC,GAAO,GAAKA,EAAMxD,EACpB,OAAOwD,EAGX,OAAOD,KATT/gB,KAAK6gB,WAAa,GAapB7gB,KAAKihB,MAAQ/iB,EAAE,GAAKA,EAAE,GAAGsQ,MAAM,KAAO,GACtCxO,KAAKkhB,SArHPtjB,EAAQqU,MAAQA,EAiChBrU,EAAQ+K,MACR,SAAgBR,EAAS9F,GACvB,IAAI8e,EAAIlP,EAAM9J,EAAS9F,GACvB,OAAO8e,EAAIA,EAAEhZ,QAAU,MAGzBvK,EAAQyK,MACR,SAAgBF,EAAS9F,GACvB,IAAIxC,EAAIoS,EAAM9J,EAAQ1F,OAAOH,QAAQ,SAAU,IAAKD,GACpD,OAAOxC,EAAIA,EAAEsI,QAAU,MAGzBvK,EAAQyf,OAASA,EA2EjBA,EAAO3d,UAAUwhB,OAAS,WAKxB,OAJAlhB,KAAKmI,QAAUnI,KAAK0gB,MAAQ,IAAM1gB,KAAK2gB,MAAQ,IAAM3gB,KAAK4gB,MACtD5gB,KAAK6gB,WAAWjd,SAClB5D,KAAKmI,SAAW,IAAMnI,KAAK6gB,WAAW9b,KAAK,MAEtC/E,KAAKmI,SAGdkV,EAAO3d,UAAUmF,SAAW,WAC1B,OAAO7E,KAAKmI,SAGdkV,EAAO3d,UAAU0hB,QAAU,SAAUC,GAMnC,OALAve,EAAM,iBAAkB9C,KAAKmI,QAASnI,KAAKqC,QAASgf,GAC9CA,aAAiBhE,IACrBgE,EAAQ,IAAIhE,EAAOgE,EAAOrhB,KAAKqC,UAG1BrC,KAAKshB,YAAYD,IAAUrhB,KAAKuhB,WAAWF,IAGpDhE,EAAO3d,UAAU4hB,YAAc,SAAUD,GAKvC,OAJMA,aAAiBhE,IACrBgE,EAAQ,IAAIhE,EAAOgE,EAAOrhB,KAAKqC,UAG1Bmf,EAAmBxhB,KAAK0gB,MAAOW,EAAMX,QACrCc,EAAmBxhB,KAAK2gB,MAAOU,EAAMV,QACrCa,EAAmBxhB,KAAK4gB,MAAOS,EAAMT,QAG9CvD,EAAO3d,UAAU6hB,WAAa,SAAUF,GAMtC,GALMA,aAAiBhE,IACrBgE,EAAQ,IAAIhE,EAAOgE,EAAOrhB,KAAKqC,UAI7BrC,KAAK6gB,WAAWjd,SAAWyd,EAAMR,WAAWjd,OAC9C,OAAQ,EACH,IAAK5D,KAAK6gB,WAAWjd,QAAUyd,EAAMR,WAAWjd,OACrD,OAAO,EACF,IAAK5D,KAAK6gB,WAAWjd,SAAWyd,EAAMR,WAAWjd,OACtD,OAAO,EAGT,IAAI9F,EAAI,EACR,EAAG,CACD,IAAI2N,EAAIzL,KAAK6gB,WAAW/iB,GACpB4N,EAAI2V,EAAMR,WAAW/iB,GAEzB,GADAgF,EAAM,qBAAsBhF,EAAG2N,EAAGC,QACxBwE,IAANzE,QAAyByE,IAANxE,EACrB,OAAO,EACF,QAAUwE,IAANxE,EACT,OAAO,EACF,QAAUwE,IAANzE,EACT,OAAQ,EACH,GAAIA,IAAMC,EAGf,OAAO8V,EAAmB/V,EAAGC,WAEtB5N,IAGbuf,EAAO3d,UAAU+hB,aAAe,SAAUJ,GAClCA,aAAiBhE,IACrBgE,EAAQ,IAAIhE,EAAOgE,EAAOrhB,KAAKqC,UAGjC,IAAIvE,EAAI,EACR,EAAG,CACD,IAAI2N,EAAIzL,KAAKihB,MAAMnjB,GACf4N,EAAI2V,EAAMJ,MAAMnjB,GAEpB,GADAgF,EAAM,qBAAsBhF,EAAG2N,EAAGC,QACxBwE,IAANzE,QAAyByE,IAANxE,EACrB,OAAO,EACF,QAAUwE,IAANxE,EACT,OAAO,EACF,QAAUwE,IAANzE,EACT,OAAQ,EACH,GAAIA,IAAMC,EAGf,OAAO8V,EAAmB/V,EAAGC,WAEtB5N,IAKbuf,EAAO3d,UAAUgiB,IAAM,SAAUC,EAASC,GACxC,OAAQD,GACN,IAAK,WACH3hB,KAAK6gB,WAAWjd,OAAS,EACzB5D,KAAK4gB,MAAQ,EACb5gB,KAAK2gB,MAAQ,EACb3gB,KAAK0gB,QACL1gB,KAAK0hB,IAAI,MAAOE,GAChB,MACF,IAAK,WACH5hB,KAAK6gB,WAAWjd,OAAS,EACzB5D,KAAK4gB,MAAQ,EACb5gB,KAAK2gB,QACL3gB,KAAK0hB,IAAI,MAAOE,GAChB,MACF,IAAK,WAIH5hB,KAAK6gB,WAAWjd,OAAS,EACzB5D,KAAK0hB,IAAI,QAASE,GAClB5hB,KAAK0hB,IAAI,MAAOE,GAChB,MAGF,IAAK,aAC4B,IAA3B5hB,KAAK6gB,WAAWjd,QAClB5D,KAAK0hB,IAAI,QAASE,GAEpB5hB,KAAK0hB,IAAI,MAAOE,GAChB,MAEF,IAAK,QAKgB,IAAf5hB,KAAK2gB,OACU,IAAf3gB,KAAK4gB,OACsB,IAA3B5gB,KAAK6gB,WAAWjd,QAClB5D,KAAK0gB,QAEP1gB,KAAK2gB,MAAQ,EACb3gB,KAAK4gB,MAAQ,EACb5gB,KAAK6gB,WAAa,GAClB,MACF,IAAK,QAKgB,IAAf7gB,KAAK4gB,OAA0C,IAA3B5gB,KAAK6gB,WAAWjd,QACtC5D,KAAK2gB,QAEP3gB,KAAK4gB,MAAQ,EACb5gB,KAAK6gB,WAAa,GAClB,MACF,IAAK,QAK4B,IAA3B7gB,KAAK6gB,WAAWjd,QAClB5D,KAAK4gB,QAEP5gB,KAAK6gB,WAAa,GAClB,MAGF,IAAK,MACH,GAA+B,IAA3B7gB,KAAK6gB,WAAWjd,OAClB5D,KAAK6gB,WAAa,CAAC,OACd,CAEL,IADA,IAAI/iB,EAAIkC,KAAK6gB,WAAWjd,SACf9F,GAAK,GACsB,iBAAvBkC,KAAK6gB,WAAW/iB,KACzBkC,KAAK6gB,WAAW/iB,KAChBA,GAAK,IAGE,IAAPA,GAEFkC,KAAK6gB,WAAWhZ,KAAK,GAGrB+Z,IAGE5hB,KAAK6gB,WAAW,KAAOe,EACrBC,MAAM7hB,KAAK6gB,WAAW,MACxB7gB,KAAK6gB,WAAa,CAACe,EAAY,IAGjC5hB,KAAK6gB,WAAa,CAACe,EAAY,IAGnC,MAEF,QACE,MAAM,IAAI5f,MAAM,+BAAiC2f,GAIrD,OAFA3hB,KAAKkhB,SACLlhB,KAAKygB,IAAMzgB,KAAKmI,QACTnI,MAGTpC,EAAQ8jB,IACR,SAAcvZ,EAASwZ,EAAStB,EAAOuB,GACd,iBAAZ,IACTA,EAAavB,EACbA,OAAQnQ,GAGV,IACE,OAAO,IAAImN,EAAOlV,EAASkY,GAAOqB,IAAIC,EAASC,GAAYzZ,QAC3D,MAAOoY,GACP,OAAO,OAIX3iB,EAAQkkB,KACR,SAAeC,EAAUC,GACvB,GAAIC,EAAGF,EAAUC,GACf,OAAO,KAEP,IAAIE,EAAKjQ,EAAM8P,GACXI,EAAKlQ,EAAM+P,GACXI,EAAS,GACb,GAAIF,EAAGrB,WAAWjd,QAAUue,EAAGtB,WAAWjd,OAAQ,CAChDwe,EAAS,MACT,IAAIC,EAAgB,aAEtB,IAAK,IAAIhjB,KAAO6iB,EACd,IAAY,UAAR7iB,GAA2B,UAARA,GAA2B,UAARA,IACpC6iB,EAAG7iB,KAAS8iB,EAAG9iB,GACjB,OAAO+iB,EAAS/iB,EAItB,OAAOgjB,GAIXzkB,EAAQ4jB,mBAAqBA,EAE7B,IAAIc,EAAU,WACd,SAASd,EAAoB/V,EAAGC,GAC9B,IAAI6W,EAAOD,EAAQxS,KAAKrE,GACpB+W,EAAOF,EAAQxS,KAAKpE,GAOxB,OALI6W,GAAQC,IACV/W,GAAKA,EACLC,GAAKA,GAGAD,IAAMC,EAAI,EACZ6W,IAASC,GAAS,EAClBA,IAASD,EAAQ,EAClB9W,EAAIC,GAAK,EACT,EAwBN,SAAS0V,EAAS3V,EAAGC,EAAG2U,GACtB,OAAO,IAAIhD,EAAO5R,EAAG4U,GAAOe,QAAQ,IAAI/D,EAAO3R,EAAG2U,IAmCpD,SAAS1U,EAAIF,EAAGC,EAAG2U,GACjB,OAAOe,EAAQ3V,EAAGC,EAAG2U,GAAS,EAIhC,SAASoC,EAAIhX,EAAGC,EAAG2U,GACjB,OAAOe,EAAQ3V,EAAGC,EAAG2U,GAAS,EAIhC,SAAS4B,EAAIxW,EAAGC,EAAG2U,GACjB,OAAgC,IAAzBe,EAAQ3V,EAAGC,EAAG2U,GAIvB,SAASqC,EAAKjX,EAAGC,EAAG2U,GAClB,OAAgC,IAAzBe,EAAQ3V,EAAGC,EAAG2U,GAIvB,SAASsC,EAAKlX,EAAGC,EAAG2U,GAClB,OAAOe,EAAQ3V,EAAGC,EAAG2U,IAAU,EAIjC,SAASuC,EAAKnX,EAAGC,EAAG2U,GAClB,OAAOe,EAAQ3V,EAAGC,EAAG2U,IAAU,EAIjC,SAASwC,EAAKpX,EAAGqX,EAAIpX,EAAG2U,GACtB,OAAQyC,GACN,IAAK,MAKH,MAJiB,iBAANrX,IACTA,EAAIA,EAAEtD,SACS,iBAANuD,IACTA,EAAIA,EAAEvD,SACDsD,IAAMC,EAEf,IAAK,MAKH,MAJiB,iBAAND,IACTA,EAAIA,EAAEtD,SACS,iBAANuD,IACTA,EAAIA,EAAEvD,SACDsD,IAAMC,EAEf,IAAK,GACL,IAAK,IACL,IAAK,KACH,OAAOuW,EAAGxW,EAAGC,EAAG2U,GAElB,IAAK,KACH,OAAOqC,EAAIjX,EAAGC,EAAG2U,GAEnB,IAAK,IACH,OAAO1U,EAAGF,EAAGC,EAAG2U,GAElB,IAAK,KACH,OAAOsC,EAAIlX,EAAGC,EAAG2U,GAEnB,IAAK,IACH,OAAOoC,EAAGhX,EAAGC,EAAG2U,GAElB,IAAK,KACH,OAAOuC,EAAInX,EAAGC,EAAG2U,GAEnB,QACE,MAAM,IAAIG,UAAU,qBAAuBsC,IAKjD,SAASC,EAAYC,EAAM3gB,GAQzB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRge,QAAShe,EACTie,mBAAmB,IAInB0C,aAAgBD,EAAY,CAC9B,GAAIC,EAAK3C,UAAYhe,EAAQge,MAC3B,OAAO2C,EAEPA,EAAOA,EAAKjkB,MAIhB,KAAMiB,gBAAgB+iB,GACpB,OAAO,IAAIA,EAAWC,EAAM3gB,GAG9BS,EAAM,aAAckgB,EAAM3gB,GAC1BrC,KAAKqC,QAAUA,EACfrC,KAAKqgB,QAAUhe,EAAQge,MACvBrgB,KAAKiS,MAAM+Q,GAEPhjB,KAAKuG,SAAW0c,EAClBjjB,KAAKjB,MAAQ,GAEbiB,KAAKjB,MAAQiB,KAAKkjB,SAAWljB,KAAKuG,OAAO4B,QAG3CrF,EAAM,OAAQ9C,MAhKhBpC,EAAQulB,oBACR,SAA8B1X,EAAGC,GAC/B,OAAO8V,EAAmB9V,EAAGD,IAG/B7N,EAAQ8iB,MACR,SAAgBjV,EAAG4U,GACjB,OAAO,IAAIhD,EAAO5R,EAAG4U,GAAOK,OAG9B9iB,EAAQ+iB,MACR,SAAgBlV,EAAG4U,GACjB,OAAO,IAAIhD,EAAO5R,EAAG4U,GAAOM,OAG9B/iB,EAAQgjB,MACR,SAAgBnV,EAAG4U,GACjB,OAAO,IAAIhD,EAAO5R,EAAG4U,GAAOO,OAG9BhjB,EAAQwjB,QAAUA,EAKlBxjB,EAAQwlB,aACR,SAAuB3X,EAAGC,GACxB,OAAO0V,EAAQ3V,EAAGC,GAAG,IAGvB9N,EAAQ6jB,aACR,SAAuBhW,EAAGC,EAAG2U,GAC3B,IAAIgD,EAAW,IAAIhG,EAAO5R,EAAG4U,GACzBiD,EAAW,IAAIjG,EAAO3R,EAAG2U,GAC7B,OAAOgD,EAASjC,QAAQkC,IAAaD,EAAS5B,aAAa6B,IAG7D1lB,EAAQ2lB,SACR,SAAmB9X,EAAGC,EAAG2U,GACvB,OAAOe,EAAQ1V,EAAGD,EAAG4U,IAGvBziB,EAAQ4N,KACR,SAAegY,EAAMnD,GACnB,OAAOmD,EAAKhY,MAAK,SAAUC,EAAGC,GAC5B,OAAO9N,EAAQ6jB,aAAahW,EAAGC,EAAG2U,OAItCziB,EAAQ6lB,MACR,SAAgBD,EAAMnD,GACpB,OAAOmD,EAAKhY,MAAK,SAAUC,EAAGC,GAC5B,OAAO9N,EAAQ6jB,aAAa/V,EAAGD,EAAG4U,OAItCziB,EAAQ+N,GAAKA,EAKb/N,EAAQ6kB,GAAKA,EAKb7kB,EAAQqkB,GAAKA,EAKbrkB,EAAQ8kB,IAAMA,EAKd9kB,EAAQ+kB,IAAMA,EAKd/kB,EAAQglB,IAAMA,EAKdhlB,EAAQilB,IAAMA,EA0CdjlB,EAAQmlB,WAAaA,EAmCrB,IAAIE,EAAM,GAiGV,SAASS,EAAOC,EAAOthB,GAQrB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRge,QAAShe,EACTie,mBAAmB,IAInBqD,aAAiBD,EACnB,OAAIC,EAAMtD,UAAYhe,EAAQge,OAC1BsD,EAAMrD,sBAAwBje,EAAQie,kBACjCqD,EAEA,IAAID,EAAMC,EAAMlD,IAAKpe,GAIhC,GAAIshB,aAAiBZ,EACnB,OAAO,IAAIW,EAAMC,EAAM5kB,MAAOsD,GAGhC,KAAMrC,gBAAgB0jB,GACpB,OAAO,IAAIA,EAAMC,EAAOthB,GAgB1B,GAbArC,KAAKqC,QAAUA,EACfrC,KAAKqgB,QAAUhe,EAAQge,MACvBrgB,KAAKsgB,oBAAsBje,EAAQie,kBAGnCtgB,KAAKygB,IAAMkD,EACX3jB,KAAK4jB,IAAMD,EAAMnV,MAAM,cAAcsS,KAAI,SAAU6C,GACjD,OAAO3jB,KAAK6jB,WAAWF,EAAMlhB,UAC5BzC,MAAM8jB,QAAO,SAAU3lB,GAExB,OAAOA,EAAEyF,WAGN5D,KAAK4jB,IAAIhgB,OACZ,MAAM,IAAI4c,UAAU,yBAA2BmD,GAGjD3jB,KAAKkhB,SA8EP,SAAS6C,EAAeC,EAAa3hB,GAKnC,IAJA,IAAIxB,GAAS,EACTojB,EAAuBD,EAAYlgB,QACnCogB,EAAiBD,EAAqBE,MAEnCtjB,GAAUojB,EAAqBrgB,QACpC/C,EAASojB,EAAqBG,OAAM,SAAUC,GAC5C,OAAOH,EAAeI,WAAWD,EAAiBhiB,MAGpD6hB,EAAiBD,EAAqBE,MAGxC,OAAOtjB,EA6BT,SAAS0jB,EAAKxD,GACZ,OAAQA,GAA2B,MAArBA,EAAGpJ,eAAgC,MAAPoJ,EAuM5C,SAASyD,EAAeC,EACtBC,EAAMC,EAAIC,EAAIC,EAAIC,EAAKC,EACvBC,EAAIC,EAAIC,EAAIC,EAAIC,EAAKC,GAuBrB,QArBEX,EADEH,EAAII,GACC,GACEJ,EAAIK,GACN,KAAOD,EAAK,OACVJ,EAAIM,GACN,KAAOF,EAAK,IAAMC,EAAK,KAEvB,KAAOF,GAeD,KAXbM,EADET,EAAIU,GACD,GACIV,EAAIW,GACR,MAAQD,EAAK,GAAK,OACdV,EAAIY,GACR,IAAMF,EAAK,MAAQC,EAAK,GAAK,KACzBE,EACJ,KAAOH,EAAK,IAAMC,EAAK,IAAMC,EAAK,IAAMC,EAExC,KAAOJ,IAGWviB,OAyB3B,SAAS6iB,EAAS1B,EAAKzb,EAAS9F,GAC9B,IAAK,IAAIvE,EAAI,EAAGA,EAAI8lB,EAAIhgB,OAAQ9F,IAC9B,IAAK8lB,EAAI9lB,GAAGgS,KAAK3H,GACf,OAAO,EAIX,GAAIA,EAAQ0Y,WAAWjd,SAAWvB,EAAQie,kBAAmB,CAM3D,IAAKxiB,EAAI,EAAGA,EAAI8lB,EAAIhgB,OAAQ9F,IAE1B,GADAgF,EAAM8gB,EAAI9lB,GAAGyI,QACTqd,EAAI9lB,GAAGyI,SAAW0c,GAIlBW,EAAI9lB,GAAGyI,OAAOsa,WAAWjd,OAAS,EAAG,CACvC,IAAI2hB,EAAU3B,EAAI9lB,GAAGyI,OACrB,GAAIgf,EAAQ7E,QAAUvY,EAAQuY,OAC1B6E,EAAQ5E,QAAUxY,EAAQwY,OAC1B4E,EAAQ3E,QAAUzY,EAAQyY,MAC5B,OAAO,EAMb,OAAO,EAGT,OAAO,EAIT,SAAS/U,EAAW1D,EAASwb,EAAOthB,GAClC,IACEshB,EAAQ,IAAID,EAAMC,EAAOthB,GACzB,MAAOke,GACP,OAAO,EAET,OAAOoD,EAAM7T,KAAK3H,GA6HpB,SAASqd,EAASrd,EAASwb,EAAO8B,EAAMpjB,GAItC,IAAIqjB,EAAMC,EAAOC,EAAM5C,EAAM6C,EAC7B,OAJA1d,EAAU,IAAIkV,EAAOlV,EAAS9F,GAC9BshB,EAAQ,IAAID,EAAMC,EAAOthB,GAGjBojB,GACN,IAAK,IACHC,EAAO/Z,EACPga,EAAQ/C,EACRgD,EAAOnD,EACPO,EAAO,IACP6C,EAAQ,KACR,MACF,IAAK,IACHH,EAAOjD,EACPkD,EAAQhD,EACRiD,EAAOja,EACPqX,EAAO,IACP6C,EAAQ,KACR,MACF,QACE,MAAM,IAAIrF,UAAU,yCAIxB,GAAI3U,EAAU1D,EAASwb,EAAOthB,GAC5B,OAAO,EAMT,IAAK,IAAIvE,EAAI,EAAGA,EAAI6lB,EAAMC,IAAIhgB,SAAU9F,EAAG,CACzC,IAAIkmB,EAAcL,EAAMC,IAAI9lB,GAExBgoB,EAAO,KACPC,EAAM,KAiBV,GAfA/B,EAAY7Q,SAAQ,SAAU6S,GACxBA,EAAWzf,SAAW0c,IACxB+C,EAAa,IAAIjD,EAAW,YAE9B+C,EAAOA,GAAQE,EACfD,EAAMA,GAAOC,EACTN,EAAKM,EAAWzf,OAAQuf,EAAKvf,OAAQlE,GACvCyjB,EAAOE,EACEJ,EAAKI,EAAWzf,OAAQwf,EAAIxf,OAAQlE,KAC7C0jB,EAAMC,MAMNF,EAAK5C,WAAaF,GAAQ8C,EAAK5C,WAAa2C,EAC9C,OAAO,EAKT,KAAME,EAAI7C,UAAY6C,EAAI7C,WAAaF,IACnC2C,EAAMxd,EAAS4d,EAAIxf,QACrB,OAAO,EACF,GAAIwf,EAAI7C,WAAa2C,GAASD,EAAKzd,EAAS4d,EAAIxf,QACrD,OAAO,EAGX,OAAO,EAtuBTwc,EAAWrjB,UAAUuS,MAAQ,SAAU+Q,GACrC,IAAIpkB,EAAIoB,KAAKqC,QAAQge,MAAQ3C,EAAG1e,EAAE+gB,iBAAmBrC,EAAG1e,EAAEghB,YACtD9hB,EAAI8kB,EAAKzL,MAAM3Y,GAEnB,IAAKV,EACH,MAAM,IAAIsiB,UAAU,uBAAyBwC,GAG/ChjB,KAAKkjB,cAAoBhT,IAAThS,EAAE,GAAmBA,EAAE,GAAK,GACtB,MAAlB8B,KAAKkjB,WACPljB,KAAKkjB,SAAW,IAIbhlB,EAAE,GAGL8B,KAAKuG,OAAS,IAAI8W,EAAOnf,EAAE,GAAI8B,KAAKqC,QAAQge,OAF5CrgB,KAAKuG,OAAS0c,GAMlBF,EAAWrjB,UAAUmF,SAAW,WAC9B,OAAO7E,KAAKjB,OAGdgkB,EAAWrjB,UAAUoQ,KAAO,SAAU3H,GAGpC,GAFArF,EAAM,kBAAmBqF,EAASnI,KAAKqC,QAAQge,OAE3CrgB,KAAKuG,SAAW0c,GAAO9a,IAAY8a,EACrC,OAAO,EAGT,GAAuB,iBAAZ9a,EACT,IACEA,EAAU,IAAIkV,EAAOlV,EAASnI,KAAKqC,SACnC,MAAOke,GACP,OAAO,EAIX,OAAOsC,EAAI1a,EAASnI,KAAKkjB,SAAUljB,KAAKuG,OAAQvG,KAAKqC,UAGvD0gB,EAAWrjB,UAAU4kB,WAAa,SAAUtB,EAAM3gB,GAChD,KAAM2gB,aAAgBD,GACpB,MAAM,IAAIvC,UAAU,4BAUtB,IAAIyF,EAEJ,GATK5jB,GAA8B,iBAAZA,IACrBA,EAAU,CACRge,QAAShe,EACTie,mBAAmB,IAMD,KAAlBtgB,KAAKkjB,SACP,MAAmB,KAAfljB,KAAKjB,QAGTknB,EAAW,IAAIvC,EAAMV,EAAKjkB,MAAOsD,GAC1BwJ,EAAU7L,KAAKjB,MAAOknB,EAAU5jB,IAClC,GAAsB,KAAlB2gB,EAAKE,SACd,MAAmB,KAAfF,EAAKjkB,QAGTknB,EAAW,IAAIvC,EAAM1jB,KAAKjB,MAAOsD,GAC1BwJ,EAAUmX,EAAKzc,OAAQ0f,EAAU5jB,IAG1C,IAAI6jB,IACiB,OAAlBlmB,KAAKkjB,UAAuC,MAAlBljB,KAAKkjB,UACb,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAC9BiD,IACiB,OAAlBnmB,KAAKkjB,UAAuC,MAAlBljB,KAAKkjB,UACb,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAC9BkD,EAAapmB,KAAKuG,OAAO4B,UAAY6a,EAAKzc,OAAO4B,QACjDke,IACiB,OAAlBrmB,KAAKkjB,UAAuC,OAAlBljB,KAAKkjB,UACb,OAAlBF,EAAKE,UAAuC,OAAlBF,EAAKE,UAC9BoD,EACFzD,EAAI7iB,KAAKuG,OAAQ,IAAKyc,EAAKzc,OAAQlE,KACf,OAAlBrC,KAAKkjB,UAAuC,MAAlBljB,KAAKkjB,YACd,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAC9BqD,EACF1D,EAAI7iB,KAAKuG,OAAQ,IAAKyc,EAAKzc,OAAQlE,KACf,OAAlBrC,KAAKkjB,UAAuC,MAAlBljB,KAAKkjB,YACd,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAElC,OAAOgD,GAA2BC,GAC/BC,GAAcC,GACfC,GAA8BC,GAGlC3oB,EAAQ8lB,MAAQA,EA8ChBA,EAAMhkB,UAAUwhB,OAAS,WAIvB,OAHAlhB,KAAK2jB,MAAQ3jB,KAAK4jB,IAAI9C,KAAI,SAAU0F,GAClC,OAAOA,EAAMzhB,KAAK,KAAKtC,UACtBsC,KAAK,MAAMtC,OACPzC,KAAK2jB,OAGdD,EAAMhkB,UAAUmF,SAAW,WACzB,OAAO7E,KAAK2jB,OAGdD,EAAMhkB,UAAUmkB,WAAa,SAAUF,GACrC,IAAItD,EAAQrgB,KAAKqC,QAAQge,MACzBsD,EAAQA,EAAMlhB,OAEd,IAAIgkB,EAAKpG,EAAQ3C,EAAG1e,EAAEmhB,kBAAoBzC,EAAG1e,EAAEkhB,aAC/CyD,EAAQA,EAAMrhB,QAAQmkB,EAAIjC,GAC1B1hB,EAAM,iBAAkB6gB,GAExBA,EAAQA,EAAMrhB,QAAQob,EAAG1e,EAAEihB,gBAvtBD,UAwtB1Bnd,EAAM,kBAAmB6gB,EAAOjG,EAAG1e,EAAEihB,iBASrC0D,GAHAA,GAHAA,EAAQA,EAAMrhB,QAAQob,EAAG1e,EAAEwgB,WA/vBN,QAkwBPld,QAAQob,EAAG1e,EAAE4gB,WAnvBN,QAsvBPpR,MAAM,OAAOzJ,KAAK,KAKhC,IAAI2hB,EAASrG,EAAQ3C,EAAG1e,EAAE+gB,iBAAmBrC,EAAG1e,EAAEghB,YAC9C4D,EAAMD,EAAMnV,MAAM,KAAKsS,KAAI,SAAUkC,GACvC,OAoEJ,SAA0BA,EAAM3gB,GAU9B,OATAS,EAAM,OAAQkgB,EAAM3gB,GACpB2gB,EA6DF,SAAwBA,EAAM3gB,GAC5B,OAAO2gB,EAAKvgB,OAAO+L,MAAM,OAAOsS,KAAI,SAAUkC,GAC5C,OAIJ,SAAuBA,EAAM3gB,GAC3BS,EAAM,QAASkgB,EAAM3gB,GACrB,IAAIzD,EAAIyD,EAAQge,MAAQ3C,EAAG1e,EAAE8gB,YAAcpC,EAAG1e,EAAE6gB,OAChD,OAAOmD,EAAK1gB,QAAQ1D,GAAG,SAAU+nB,EAAGC,EAAG1oB,EAAG0B,EAAGinB,GAE3C,IAAIC,EA2CJ,OA5CAhkB,EAAM,QAASkgB,EAAM2D,EAAGC,EAAG1oB,EAAG0B,EAAGinB,GAG7BtC,EAAIqC,GACNE,EAAM,GACGvC,EAAIrmB,GACb4oB,EAAM,KAAOF,EAAI,WAAaA,EAAI,GAAK,OAC9BrC,EAAI3kB,GAEXknB,EADQ,MAANF,EACI,KAAOA,EAAI,IAAM1oB,EAAI,OAAS0oB,EAAI,MAAQ1oB,EAAI,GAAK,KAEnD,KAAO0oB,EAAI,IAAM1oB,EAAI,SAAW0oB,EAAI,GAAK,OAExCC,GACT/jB,EAAM,kBAAmB+jB,GAGrBC,EAFM,MAANF,EACQ,MAAN1oB,EACI,KAAO0oB,EAAI,IAAM1oB,EAAI,IAAM0B,EAAI,IAAMinB,EACrC,KAAOD,EAAI,IAAM1oB,EAAI,MAAQ0B,EAAI,GAEjC,KAAOgnB,EAAI,IAAM1oB,EAAI,IAAM0B,EAAI,IAAMinB,EACrC,KAAOD,EAAI,MAAQ1oB,EAAI,GAAK,KAG9B,KAAO0oB,EAAI,IAAM1oB,EAAI,IAAM0B,EAAI,IAAMinB,EACrC,OAASD,EAAI,GAAK,SAG1B9jB,EAAM,SAGFgkB,EAFM,MAANF,EACQ,MAAN1oB,EACI,KAAO0oB,EAAI,IAAM1oB,EAAI,IAAM0B,EAC3B,KAAOgnB,EAAI,IAAM1oB,EAAI,MAAQ0B,EAAI,GAEjC,KAAOgnB,EAAI,IAAM1oB,EAAI,IAAM0B,EAC3B,KAAOgnB,EAAI,MAAQ1oB,EAAI,GAAK,KAG9B,KAAO0oB,EAAI,IAAM1oB,EAAI,IAAM0B,EAC3B,OAASgnB,EAAI,GAAK,QAI5B9jB,EAAM,eAAgBgkB,GACfA,KApDAC,CAAa/D,EAAM3gB,MACzB0C,KAAK,KAhEDiiB,CAAchE,EAAM3gB,GAC3BS,EAAM,QAASkgB,GACfA,EAmBF,SAAwBA,EAAM3gB,GAC5B,OAAO2gB,EAAKvgB,OAAO+L,MAAM,OAAOsS,KAAI,SAAUkC,GAC5C,OAIJ,SAAuBA,EAAM3gB,GAC3B,IAAIzD,EAAIyD,EAAQge,MAAQ3C,EAAG1e,EAAE0gB,YAAchC,EAAG1e,EAAEygB,OAChD,OAAOuD,EAAK1gB,QAAQ1D,GAAG,SAAU+nB,EAAGC,EAAG1oB,EAAG0B,EAAGinB,GAE3C,IAAIC,EAoBJ,OArBAhkB,EAAM,QAASkgB,EAAM2D,EAAGC,EAAG1oB,EAAG0B,EAAGinB,GAG7BtC,EAAIqC,GACNE,EAAM,GACGvC,EAAIrmB,GACb4oB,EAAM,KAAOF,EAAI,WAAaA,EAAI,GAAK,OAC9BrC,EAAI3kB,GAEbknB,EAAM,KAAOF,EAAI,IAAM1oB,EAAI,OAAS0oB,EAAI,MAAQ1oB,EAAI,GAAK,KAChD2oB,GACT/jB,EAAM,kBAAmB+jB,GACzBC,EAAM,KAAOF,EAAI,IAAM1oB,EAAI,IAAM0B,EAAI,IAAMinB,EACrC,KAAOD,EAAI,MAAQ1oB,EAAI,GAAK,MAGlC4oB,EAAM,KAAOF,EAAI,IAAM1oB,EAAI,IAAM0B,EAC3B,KAAOgnB,EAAI,MAAQ1oB,EAAI,GAAK,KAGpC4E,EAAM,eAAgBgkB,GACfA,KA5BAG,CAAajE,EAAM3gB,MACzB0C,KAAK,KAtBDmiB,CAAclE,EAAM3gB,GAC3BS,EAAM,SAAUkgB,GAChBA,EAmHF,SAAyBA,EAAM3gB,GAE7B,OADAS,EAAM,iBAAkBkgB,EAAM3gB,GACvB2gB,EAAKxU,MAAM,OAAOsS,KAAI,SAAUkC,GACrC,OAIJ,SAAwBA,EAAM3gB,GAC5B2gB,EAAOA,EAAKvgB,OACZ,IAAI7D,EAAIyD,EAAQge,MAAQ3C,EAAG1e,EAAEogB,aAAe1B,EAAG1e,EAAEmgB,QACjD,OAAO6D,EAAK1gB,QAAQ1D,GAAG,SAAUkoB,EAAKK,EAAMP,EAAG1oB,EAAG0B,EAAGinB,GACnD/jB,EAAM,SAAUkgB,EAAM8D,EAAKK,EAAMP,EAAG1oB,EAAG0B,EAAGinB,GAC1C,IAAIO,EAAK7C,EAAIqC,GACTS,EAAKD,GAAM7C,EAAIrmB,GACfopB,EAAKD,GAAM9C,EAAI3kB,GACf2nB,EAAOD,EA4DX,MA1Da,MAATH,GAAgBI,IAClBJ,EAAO,IAKTN,EAAKxkB,EAAQie,kBAAoB,KAAO,GAEpC8G,EAGAN,EAFW,MAATK,GAAyB,MAATA,EAEZ,WAGA,IAECA,GAAQI,GAGbF,IACFnpB,EAAI,GAEN0B,EAAI,EAES,MAATunB,GAIFA,EAAO,KACHE,GACFT,GAAKA,EAAI,EACT1oB,EAAI,EACJ0B,EAAI,IAEJ1B,GAAKA,EAAI,EACT0B,EAAI,IAEY,OAATunB,IAGTA,EAAO,IACHE,EACFT,GAAKA,EAAI,EAET1oB,GAAKA,EAAI,GAIb4oB,EAAMK,EAAOP,EAAI,IAAM1oB,EAAI,IAAM0B,EAAIinB,GAC5BQ,EACTP,EAAM,KAAOF,EAAI,OAASC,EAAK,OAASD,EAAI,GAAK,OAASC,EACjDS,IACTR,EAAM,KAAOF,EAAI,IAAM1oB,EAAI,KAAO2oB,EAChC,KAAOD,EAAI,MAAQ1oB,EAAI,GAAK,KAAO2oB,GAGvC/jB,EAAM,gBAAiBgkB,GAEhBA,KAxEAU,CAAcxE,EAAM3gB,MAC1B0C,KAAK,KAvHD0iB,CAAezE,EAAM3gB,GAC5BS,EAAM,SAAUkgB,GAChBA,EAkMF,SAAuBA,EAAM3gB,GAG3B,OAFAS,EAAM,eAAgBkgB,EAAM3gB,GAErB2gB,EAAKvgB,OAAOH,QAAQob,EAAG1e,EAAEohB,MAAO,IArMhCsH,CAAa1E,EAAM3gB,GAC1BS,EAAM,QAASkgB,GACRA,EA9EE2E,CAAgB3E,EAAMhjB,KAAKqC,WACjCrC,MAAM+E,KAAK,KAAKyJ,MAAM,OAWzB,OAVIxO,KAAKqC,QAAQge,QAEfuD,EAAMA,EAAIE,QAAO,SAAUd,GACzB,QAASA,EAAKzL,MAAMmP,OAGxB9C,EAAMA,EAAI9C,KAAI,SAAUkC,GACtB,OAAO,IAAID,EAAWC,EAAMhjB,KAAKqC,WAChCrC,OAKL0jB,EAAMhkB,UAAU4kB,WAAa,SAAUX,EAAOthB,GAC5C,KAAMshB,aAAiBD,GACrB,MAAM,IAAIlD,UAAU,uBAGtB,OAAOxgB,KAAK4jB,IAAIrT,MAAK,SAAUqX,GAC7B,OACE7D,EAAc6D,EAAiBvlB,IAC/BshB,EAAMC,IAAIrT,MAAK,SAAUsX,GACvB,OACE9D,EAAc8D,EAAkBxlB,IAChCulB,EAAgBxD,OAAM,SAAU0D,GAC9B,OAAOD,EAAiBzD,OAAM,SAAU2D,GACtC,OAAOD,EAAexD,WAAWyD,EAAiB1lB,gBA4BhEzE,EAAQoqB,cACR,SAAwBrE,EAAOthB,GAC7B,OAAO,IAAIqhB,EAAMC,EAAOthB,GAASuhB,IAAI9C,KAAI,SAAUkC,GACjD,OAAOA,EAAKlC,KAAI,SAAU3iB,GACxB,OAAOA,EAAEY,SACRgG,KAAK,KAAKtC,OAAO+L,MAAM,SAyP9BkV,EAAMhkB,UAAUoQ,KAAO,SAAU3H,GAC/B,IAAKA,EACH,OAAO,EAGT,GAAuB,iBAAZA,EACT,IACEA,EAAU,IAAIkV,EAAOlV,EAASnI,KAAKqC,SACnC,MAAOke,GACP,OAAO,EAIX,IAAK,IAAIziB,EAAI,EAAGA,EAAIkC,KAAK4jB,IAAIhgB,OAAQ9F,IACnC,GAAIwnB,EAAQtlB,KAAK4jB,IAAI9lB,GAAIqK,EAASnI,KAAKqC,SACrC,OAAO,EAGX,OAAO,GAuCTzE,EAAQiO,UAAYA,EAUpBjO,EAAQqqB,cACR,SAAwB1gB,EAAUoc,EAAOthB,GACvC,IAAI6R,EAAM,KACNgU,EAAQ,KACZ,IACE,IAAIC,EAAW,IAAIzE,EAAMC,EAAOthB,GAChC,MAAOke,GACP,OAAO,KAYT,OAVAhZ,EAAS4L,SAAQ,SAAUgO,GACrBgH,EAASrY,KAAKqR,KAEXjN,IAA6B,IAAtBgU,EAAM9G,QAAQD,KAGxB+G,EAAQ,IAAI7K,EADZnJ,EAAMiN,EACkB9e,QAIvB6R,GAGTtW,EAAQwqB,cACR,SAAwB7gB,EAAUoc,EAAOthB,GACvC,IAAIoX,EAAM,KACN4O,EAAQ,KACZ,IACE,IAAIF,EAAW,IAAIzE,EAAMC,EAAOthB,GAChC,MAAOke,GACP,OAAO,KAYT,OAVAhZ,EAAS4L,SAAQ,SAAUgO,GACrBgH,EAASrY,KAAKqR,KAEX1H,GAA4B,IAArB4O,EAAMjH,QAAQD,KAGxBkH,EAAQ,IAAIhL,EADZ5D,EAAM0H,EACkB9e,QAIvBoX,GAGT7b,EAAQ0qB,WACR,SAAqB3E,EAAOtD,GAC1BsD,EAAQ,IAAID,EAAMC,EAAOtD,GAEzB,IAAIkI,EAAS,IAAIlL,EAAO,SACxB,GAAIsG,EAAM7T,KAAKyY,GACb,OAAOA,EAIT,GADAA,EAAS,IAAIlL,EAAO,WAChBsG,EAAM7T,KAAKyY,GACb,OAAOA,EAGTA,EAAS,KACT,IAAK,IAAIzqB,EAAI,EAAGA,EAAI6lB,EAAMC,IAAIhgB,SAAU9F,EAAG,CACvB6lB,EAAMC,IAAI9lB,GAEhBqV,SAAQ,SAAU6S,GAE5B,IAAIwC,EAAU,IAAInL,EAAO2I,EAAWzf,OAAO4B,SAC3C,OAAQ6d,EAAW9C,UACjB,IAAK,IAC+B,IAA9BsF,EAAQ3H,WAAWjd,OACrB4kB,EAAQ5H,QAER4H,EAAQ3H,WAAWhZ,KAAK,GAE1B2gB,EAAQ/H,IAAM+H,EAAQtH,SAExB,IAAK,GACL,IAAK,KACEqH,IAAU5c,EAAG4c,EAAQC,KACxBD,EAASC,GAEX,MACF,IAAK,IACL,IAAK,KAEH,MAEF,QACE,MAAM,IAAIxmB,MAAM,yBAA2BgkB,EAAW9C,cAK9D,GAAIqF,GAAU5E,EAAM7T,KAAKyY,GACvB,OAAOA,EAGT,OAAO,MAGT3qB,EAAQ6qB,WACR,SAAqB9E,EAAOthB,GAC1B,IAGE,OAAO,IAAIqhB,EAAMC,EAAOthB,GAASshB,OAAS,IAC1C,MAAOpD,GACP,OAAO,OAKX3iB,EAAQ8qB,IACR,SAAcvgB,EAASwb,EAAOthB,GAC5B,OAAOmjB,EAAQrd,EAASwb,EAAO,IAAKthB,IAItCzE,EAAQ+qB,IACR,SAAcxgB,EAASwb,EAAOthB,GAC5B,OAAOmjB,EAAQrd,EAASwb,EAAO,IAAKthB,IAGtCzE,EAAQ4nB,QAAUA,EAsElB5nB,EAAQijB,WACR,SAAqB1Y,EAAS9F,GAC5B,IAAIumB,EAAS3W,EAAM9J,EAAS9F,GAC5B,OAAQumB,GAAUA,EAAO/H,WAAWjd,OAAUglB,EAAO/H,WAAa,MAGpEjjB,EAAQ0mB,WACR,SAAqBuE,EAAIC,EAAIzmB,GAG3B,OAFAwmB,EAAK,IAAInF,EAAMmF,EAAIxmB,GACnBymB,EAAK,IAAIpF,EAAMoF,EAAIzmB,GACZwmB,EAAGvE,WAAWwE,IAGvBlrB,EAAQmrB,OACR,SAAiB5gB,EAAS9F,GACxB,GAAI8F,aAAmBkV,EACrB,OAAOlV,EAGc,iBAAZA,IACTA,EAAU6gB,OAAO7gB,IAGnB,GAAuB,iBAAZA,EACT,OAAO,KAKT,IAAIoP,EAAQ,KACZ,IAHAlV,EAAUA,GAAW,IAGR4mB,IAEN,CAUL,IADA,IAAIvoB,GACIA,EAAOgd,EAAG1e,EAAEsgB,WAAW/b,KAAK4E,OAChCoP,GAASA,EAAM2R,MAAQ3R,EAAM,GAAG3T,SAAWuE,EAAQvE,SAEhD2T,GACD7W,EAAKwoB,MAAQxoB,EAAK,GAAGkD,SAAW2T,EAAM2R,MAAQ3R,EAAM,GAAG3T,SACzD2T,EAAQ7W,GAEVgd,EAAG1e,EAAEsgB,WAAW6J,UAAYzoB,EAAKwoB,MAAQxoB,EAAK,GAAGkD,OAASlD,EAAK,GAAGkD,OAGpE8Z,EAAG1e,EAAEsgB,WAAW6J,WAAa,OArB7B5R,EAAQpP,EAAQoP,MAAMmG,EAAG1e,EAAEqgB,SAwB7B,GAAc,OAAV9H,EACF,OAAO,KAGT,OAAOtF,EAAMsF,EAAM,GACjB,KAAOA,EAAM,IAAM,KACnB,KAAOA,EAAM,IAAM,KAAMlV,K,gBC1jD7B,IAAI+mB,EAAM,EAAQ,IACdC,EAAc,EAAQ,IA2B1BxrB,EAAOD,QAzBP,SAAYyE,EAASinB,EAAKC,GACxB,IAAIzrB,EAAIwrB,GAAOC,GAAU,EAEF,iBAAb,IACRD,EAAkB,WAAZjnB,EAAuB,IAAI8a,MAAM,IAAM,KAC7C9a,EAAU,MAIZ,IAAImnB,GAFJnnB,EAAUA,GAAW,IAEFonB,SAAWpnB,EAAQ+mB,KAAOA,KAO7C,GAJAI,EAAK,GAAgB,GAAVA,EAAK,GAAa,GAC7BA,EAAK,GAAgB,GAAVA,EAAK,GAAa,IAGzBF,EACF,IAAK,IAAII,EAAK,EAAGA,EAAK,KAAMA,EAC1BJ,EAAIxrB,EAAI4rB,GAAMF,EAAKE,GAIvB,OAAOJ,GAAOD,EAAYG,K,gBCtB5B,IAAIG,EAAS,EAAQ,IAErB9rB,EAAOD,QAAU,WACf,OAAO+rB,EAAOC,YAAY,M,cCN5B/rB,EAAOD,QAAUkC,QAAQ,W,cCKzB,IADA,IAAI+pB,EAAY,GACP/rB,EAAI,EAAGA,EAAI,MAAOA,EACzB+rB,EAAU/rB,IAAMA,EAAI,KAAO+G,SAAS,IAAIilB,OAAO,GAiBjDjsB,EAAOD,QAdP,SAAqB0rB,EAAKC,GACxB,IAAIzrB,EAAIyrB,GAAU,EACdQ,EAAMF,EAEV,MAAO,CAAEE,EAAIT,EAAIxrB,MAAOisB,EAAIT,EAAIxrB,MACjCisB,EAAIT,EAAIxrB,MAAOisB,EAAIT,EAAIxrB,MAAO,IAC9BisB,EAAIT,EAAIxrB,MAAOisB,EAAIT,EAAIxrB,MAAO,IAC9BisB,EAAIT,EAAIxrB,MAAOisB,EAAIT,EAAIxrB,MAAO,IAC9BisB,EAAIT,EAAIxrB,MAAOisB,EAAIT,EAAIxrB,MAAO,IAC9BisB,EAAIT,EAAIxrB,MAAOisB,EAAIT,EAAIxrB,MACvBisB,EAAIT,EAAIxrB,MAAOisB,EAAIT,EAAIxrB,MACvBisB,EAAIT,EAAIxrB,MAAOisB,EAAIT,EAAIxrB,OAAQiH,KAAK,M,6BCnBrC,IAAIhF,EAAaC,MAAQA,KAAKD,WAAc,SAAUE,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUzB,GAAS,IAAM0B,EAAKL,EAAUM,KAAK3B,IAAW,MAAO4B,GAAKJ,EAAOI,IACpF,SAASC,EAAS7B,GAAS,IAAM0B,EAAKL,EAAiB,MAAErB,IAAW,MAAO4B,GAAKJ,EAAOI,IACvF,SAASF,EAAKI,GAJlB,IAAe9B,EAIa8B,EAAOC,KAAOR,EAAQO,EAAO9B,QAJ1CA,EAIyD8B,EAAO9B,MAJhDA,aAAiBoB,EAAIpB,EAAQ,IAAIoB,GAAE,SAAUG,GAAWA,EAAQvB,OAITgC,KAAKP,EAAWI,GAClGH,GAAML,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKQ,YAGtElC,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMmC,EAAK,EAAQ,GACb2Y,EAAS,EAAQ,GACjBlS,EAAQ,EAAQ,GAEhBZ,EAAkC,UAArBxF,QAAQ2D,SAob3BtH,EAAQoG,WAhbR,cAAyB6V,EAAOgC,aAC5B,YAAYhY,EAAUJ,EAAMpB,GAExB,GADAwE,SACKhD,EACD,MAAM,IAAI7B,MAAM,iDAEpBhC,KAAK6D,SAAWA,EAChB7D,KAAKyD,KAAOA,GAAQ,GACpBzD,KAAKqC,QAAUA,GAAW,GAE9B,OAAOV,GACC3B,KAAKqC,QAAQqC,WAAa1E,KAAKqC,QAAQqC,UAAU5B,OACjD9C,KAAKqC,QAAQqC,UAAU5B,MAAMnB,GAGrC,kBAAkBU,EAAS2nB,GACvB,MAAMnmB,EAAW7D,KAAKiqB,oBAChBxmB,EAAOzD,KAAKkqB,cAAc7nB,GAChC,IAAI0D,EAAMikB,EAAW,GAAK,YAC1B,GAAIjjB,EAEA,GAAI/G,KAAKmqB,aAAc,CACnBpkB,GAAOlC,EACP,IAAK,MAAM4H,KAAKhI,EACZsC,OAAW0F,SAId,GAAIpJ,EAAQ+nB,yBAA0B,CACvCrkB,OAAWlC,KACX,IAAK,MAAM4H,KAAKhI,EACZsC,OAAW0F,QAId,CACD1F,GAAO/F,KAAKqqB,oBAAoBxmB,GAChC,IAAK,MAAM4H,KAAKhI,EACZsC,OAAW/F,KAAKqqB,oBAAoB5e,SAI3C,CAID1F,GAAOlC,EACP,IAAK,MAAM4H,KAAKhI,EACZsC,OAAW0F,IAGnB,OAAO1F,EAEX,mBAAmBpB,EAAM2lB,EAAWC,GAChC,IACI,IAAI1qB,EAAIyqB,EAAY3lB,EAAKE,WACrBtF,EAAIM,EAAE8U,QAAQzT,EAAGiC,KACrB,KAAO5D,GAAK,GAAG,CAEXgrB,EADa1qB,EAAE2qB,UAAU,EAAGjrB,IAI5BA,GADAM,EAAIA,EAAE2qB,UAAUjrB,EAAI2B,EAAGiC,IAAIS,SACrB+Q,QAAQzT,EAAGiC,KAErBmnB,EAAYzqB,EAEhB,MAAOuJ,GAEHpJ,KAAKyqB,mDAAmDrhB,MAGhE,oBACI,OAAIrC,GACI/G,KAAKmqB,aACE5oB,QAAQC,IAAa,SAAK,UAGlCxB,KAAK6D,SAEhB,cAAcxB,GACV,GAAI0E,GACI/G,KAAKmqB,aAAc,CACnB,IAAIO,eAAuB1qB,KAAKqqB,oBAAoBrqB,KAAK6D,YACzD,IAAK,MAAM4H,KAAKzL,KAAKyD,KACjBinB,GAAW,IACXA,GAAWroB,EAAQ+nB,yBACb3e,EACAzL,KAAKqqB,oBAAoB5e,GAGnC,MAAO,CADPif,GAAW,KAInB,OAAO1qB,KAAKyD,KAEhB,UAAUknB,EAAKjhB,GACX,OAAOihB,EAAIC,SAASlhB,GAExB,aACI,MAAMmhB,EAAgB7qB,KAAK6D,SAAStB,cACpC,OAAQvC,KAAK8qB,UAAUD,EAAe,SAClC7qB,KAAK8qB,UAAUD,EAAe,QAEtC,oBAAoBE,GAEhB,IAAK/qB,KAAKmqB,aACN,OAAOnqB,KAAKgrB,eAAeD,GAS/B,IAAKA,EACD,MAAO,KAGX,MAAME,EAAkB,CACpB,IACA,KACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEJ,IAAIC,GAAc,EAClB,IAAK,MAAMC,KAAQJ,EACf,GAAIE,EAAgB1a,KAAK6a,GAAKA,IAAMD,GAAO,CACvCD,GAAc,EACd,MAIR,IAAKA,EACD,OAAOH,EAiDX,IAAIM,EAAU,IACVC,GAAW,EACf,IAAK,IAAIxtB,EAAIitB,EAAInnB,OAAQ9F,EAAI,EAAGA,IAE5ButB,GAAWN,EAAIjtB,EAAI,GACfwtB,GAA2B,OAAfP,EAAIjtB,EAAI,GACpButB,GAAW,KAES,MAAfN,EAAIjtB,EAAI,IACbwtB,GAAW,EACXD,GAAW,KAGXC,GAAW,EAInB,OADAD,GAAW,KAEN7c,MAAM,IACN6c,UACAtmB,KAAK,IAEd,eAAegmB,GA4BX,IAAKA,EAED,MAAO,KAEX,IAAKA,EAAInc,SAAS,OAASmc,EAAInc,SAAS,QAAUmc,EAAInc,SAAS,KAE3D,OAAOmc,EAEX,IAAKA,EAAInc,SAAS,OAASmc,EAAInc,SAAS,MAGpC,UAAWmc,KAkBf,IAAIM,EAAU,IACVC,GAAW,EACf,IAAK,IAAIxtB,EAAIitB,EAAInnB,OAAQ9F,EAAI,EAAGA,IAE5ButB,GAAWN,EAAIjtB,EAAI,GACfwtB,GAA2B,OAAfP,EAAIjtB,EAAI,GACpButB,GAAW,KAES,MAAfN,EAAIjtB,EAAI,IACbwtB,GAAW,EACXD,GAAW,MAGXC,GAAW,EAInB,OADAD,GAAW,KAEN7c,MAAM,IACN6c,UACAtmB,KAAK,IAEd,kBAAkB1C,GAEd,MAAMxB,EAAS,CACXkJ,KAFJ1H,EAAUA,GAAW,IAEJ0H,KAAOxI,QAAQwI,MAC5BvI,IAAKa,EAAQb,KAAOD,QAAQC,IAC5ByI,OAAQ5H,EAAQ4H,SAAU,EAC1BmgB,yBAA0B/nB,EAAQ+nB,2BAA4B,EAC9DmB,aAAclpB,EAAQkpB,eAAgB,EACtCC,iBAAkBnpB,EAAQmpB,mBAAoB,EAC9CC,MAAOppB,EAAQopB,OAAS,KAI5B,OAFA5qB,EAAO6qB,UAAYrpB,EAAQqpB,WAAanqB,QAAQ0B,OAChDpC,EAAO8qB,UAAYtpB,EAAQspB,WAAapqB,QAAQqqB,OACzC/qB,EAEX,iBAAiBwB,EAASwB,GACtBxB,EAAUA,GAAW,GACrB,MAAMxB,EAAS,GAQf,OAPAA,EAAOkJ,IAAM1H,EAAQ0H,IACrBlJ,EAAOW,IAAMa,EAAQb,IACrBX,EAAiC,yBAC7BwB,EAAQ+nB,0BAA4BpqB,KAAKmqB,aACzC9nB,EAAQ+nB,2BACRvpB,EAAOgrB,UAAYhoB,MAEhBhD,EAWX,OACI,OAAOd,EAAUC,UAAM,OAAQ,GAAQ,YACnC,OAAO,IAAIK,QAAQ,CAACC,EAASC,KACzBP,KAAKyqB,qBAAqBzqB,KAAK6D,YAC/B7D,KAAKyqB,OAAO,cACZ,IAAK,MAAMM,KAAO/qB,KAAKyD,KACnBzD,KAAKyqB,aAAaM,KAEtB,MAAMe,EAAiB9rB,KAAK+rB,kBAAkB/rB,KAAKqC,UAC9CypB,EAAe7hB,QAAU6hB,EAAeJ,WACzCI,EAAeJ,UAAUxoB,MAAMlD,KAAKgsB,kBAAkBF,GAAkB5qB,EAAGiC,KAE/E,MAAM8oB,EAAQ,IAAIC,EAAUJ,EAAgB9rB,KAAK6D,UACjDooB,EAAMziB,GAAG,QAAU7H,IACf3B,KAAKyqB,OAAO9oB,KAEhB,MAAMoM,EAAW/N,KAAKiqB,oBAChBhf,EAAKtD,EAAMwkB,MAAMpe,EAAU/N,KAAKkqB,cAAc4B,GAAiB9rB,KAAKosB,iBAAiBpsB,KAAKqC,QAAS0L,IAErG9C,EAAGhI,QACHgI,EAAGhI,OAAOuG,GAAG,OAAS7E,IACd3E,KAAKqC,QAAQqC,WAAa1E,KAAKqC,QAAQqC,UAAUzB,QACjDjD,KAAKqC,QAAQqC,UAAUzB,OAAO0B,IAE7BmnB,EAAe7hB,QAAU6hB,EAAeJ,WACzCI,EAAeJ,UAAUxoB,MAAMyB,GAEnC3E,KAAKqsB,mBAAmB1nB,EATd,GASgC2nB,IAClCtsB,KAAKqC,QAAQqC,WAAa1E,KAAKqC,QAAQqC,UAAU6nB,SACjDvsB,KAAKqC,QAAQqC,UAAU6nB,QAAQD,OAM3CrhB,EAAG2gB,QACH3gB,EAAG2gB,OAAOpiB,GAAG,OAAS7E,IAKlB,GAJAsnB,EAAMO,eAAgB,EAClBxsB,KAAKqC,QAAQqC,WAAa1E,KAAKqC,QAAQqC,UAAUknB,QACjD5rB,KAAKqC,QAAQqC,UAAUknB,OAAOjnB,IAE7BmnB,EAAe7hB,QAChB6hB,EAAeH,WACfG,EAAeJ,UAAW,EAChBI,EAAeP,aACnBO,EAAeH,UACfG,EAAeJ,WACnBxoB,MAAMyB,GAEZ3E,KAAKqsB,mBAAmB1nB,EAfd,GAegC2nB,IAClCtsB,KAAKqC,QAAQqC,WAAa1E,KAAKqC,QAAQqC,UAAU+nB,SACjDzsB,KAAKqC,QAAQqC,UAAU+nB,QAAQH,OAK/CrhB,EAAGzB,GAAG,QAAUJ,IACZ6iB,EAAMS,aAAetjB,EAAIzH,QACzBsqB,EAAMU,eAAgB,EACtBV,EAAMW,eAAgB,EACtBX,EAAMY,kBAEV5hB,EAAGzB,GAAG,OAAS4C,IACX6f,EAAMa,gBAAkB1gB,EACxB6f,EAAMU,eAAgB,EACtB3sB,KAAKyqB,oBAAoBre,yBAA4BpM,KAAK6D,aAC1DooB,EAAMY,kBAEV5hB,EAAGzB,GAAG,QAAU4C,IACZ6f,EAAMa,gBAAkB1gB,EACxB6f,EAAMU,eAAgB,EACtBV,EAAMW,eAAgB,EACtB5sB,KAAKyqB,8CAA8CzqB,KAAK6D,aACxDooB,EAAMY,kBAEVZ,EAAMziB,GAAG,OAAQ,CAAC9H,EAAOkB,KAzDP,GA0DAgB,OAAS,GACnB5D,KAAKgc,KAAK,UA3DA,IAgBA,GA6CApY,OAAS,GACnB5D,KAAKgc,KAAK,UA9CA,IAgDd/Q,EAAGuR,qBACC9a,EACAnB,EAAOmB,GAGPpB,EAAQsC,YA4DhChF,EAAQ+F,iBA9CR,SAA0BopB,GACtB,MAAMtpB,EAAO,GACb,IAAIupB,GAAW,EACXC,GAAU,EACVlC,EAAM,GACV,SAASmC,EAAO/uB,GAER8uB,GAAiB,MAAN9uB,IACX4sB,GAAO,MAEXA,GAAO5sB,EACP8uB,GAAU,EAEd,IAAK,IAAInvB,EAAI,EAAGA,EAAIivB,EAAUnpB,OAAQ9F,IAAK,CACvC,MAAMK,EAAI4uB,EAAUI,OAAOrvB,GACjB,MAANK,EASM,OAANA,GAAc8uB,EACdC,EAAO/uB,GAGD,OAANA,GAAc6uB,EACdC,GAAU,EAGJ,MAAN9uB,GAAc6uB,EAOlBE,EAAO/uB,GANC4sB,EAAInnB,OAAS,IACbH,EAAKoE,KAAKkjB,GACVA,EAAM,IAnBLkC,EAIDC,EAAO/uB,GAHP6uB,GAAYA,EA2BxB,OAHIjC,EAAInnB,OAAS,GACbH,EAAKoE,KAAKkjB,EAAItoB,QAEXgB,GAGX,MAAMyoB,UAAkBrS,EAAOgC,aAC3B,YAAYxZ,EAASwB,GAUjB,GATAgD,QACA7G,KAAK4sB,eAAgB,EACrB5sB,KAAK0sB,aAAe,GACpB1sB,KAAK8sB,gBAAkB,EACvB9sB,KAAK2sB,eAAgB,EACrB3sB,KAAKwsB,eAAgB,EACrBxsB,KAAKyrB,MAAQ,IACbzrB,KAAKc,MAAO,EACZd,KAAKotB,QAAU,MACVvpB,EACD,MAAM,IAAI7B,MAAM,8BAEpBhC,KAAKqC,QAAUA,EACfrC,KAAK6D,SAAWA,EACZxB,EAAQopB,QACRzrB,KAAKyrB,MAAQppB,EAAQopB,OAG7B,gBACQzrB,KAAKc,OAGLd,KAAK4sB,cACL5sB,KAAKqtB,aAEArtB,KAAK2sB,gBACV3sB,KAAKotB,QAAUhX,WAAW8V,EAAUoB,cAAettB,KAAKyrB,MAAOzrB,QAGvE,OAAO2B,GACH3B,KAAKgc,KAAK,QAASra,GAEvB,aAEI,IAAID,EACA1B,KAAK2sB,gBACD3sB,KAAK0sB,aACLhrB,EAAQ,IAAIM,oEAAoEhC,KAAK6D,oEAAoE7D,KAAK0sB,gBAEhI,IAAzB1sB,KAAK8sB,iBAA0B9sB,KAAKqC,QAAQmpB,iBAG5CxrB,KAAKwsB,eAAiBxsB,KAAKqC,QAAQkpB,eACxC7pB,EAAQ,IAAIM,sBAAsBhC,KAAK6D,iFAHvCnC,EAAQ,IAAIM,sBAAsBhC,KAAK6D,mCAAmC7D,KAAK8sB,oBAOnF9sB,KAAKotB,UACLG,aAAavtB,KAAKotB,SAClBptB,KAAKotB,QAAU,MAEnBptB,KAAKc,MAAO,EACZd,KAAKgc,KAAK,OAAQta,EAAO1B,KAAK8sB,iBAElC,qBAAqBb,GACjB,IAAIA,EAAMnrB,KAAV,CAGA,IAAKmrB,EAAMW,eAAiBX,EAAMU,cAAe,CAC7C,MAAMhrB,4CAAoDsqB,EAAMR,MAC5D,+CAAgDQ,EAAMpoB,mGAC1DooB,EAAMxB,OAAO9oB,GAEjBsqB,EAAMoB","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n","module.exports = require(\"path\");","module.exports = require(\"os\");","module.exports = require(\"fs\");","module.exports = require(\"assert\");","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst command_1 = require(\"./command\");\r\nconst os = require(\"os\");\r\nconst path = require(\"path\");\r\n/**\r\n * The code to exit an action\r\n */\r\nvar ExitCode;\r\n(function (ExitCode) {\r\n    /**\r\n     * A code indicating that the action was successful\r\n     */\r\n    ExitCode[ExitCode[\"Success\"] = 0] = \"Success\";\r\n    /**\r\n     * A code indicating that the action was a failure\r\n     */\r\n    ExitCode[ExitCode[\"Failure\"] = 1] = \"Failure\";\r\n})(ExitCode = exports.ExitCode || (exports.ExitCode = {}));\r\n//-----------------------------------------------------------------------\r\n// Variables\r\n//-----------------------------------------------------------------------\r\n/**\r\n * sets env variable for this action and future actions in the job\r\n * @param name the name of the variable to set\r\n * @param val the value of the variable\r\n */\r\nfunction exportVariable(name, val) {\r\n    process.env[name] = val;\r\n    command_1.issueCommand('set-env', { name }, val);\r\n}\r\nexports.exportVariable = exportVariable;\r\n/**\r\n * exports the variable and registers a secret which will get masked from logs\r\n * @param name the name of the variable to set\r\n * @param val value of the secret\r\n */\r\nfunction exportSecret(name, val) {\r\n    exportVariable(name, val);\r\n    // the runner will error with not implemented\r\n    // leaving the function but raising the error earlier\r\n    command_1.issueCommand('set-secret', {}, val);\r\n    throw new Error('Not implemented.');\r\n}\r\nexports.exportSecret = exportSecret;\r\n/**\r\n * Prepends inputPath to the PATH (for this action and future actions)\r\n * @param inputPath\r\n */\r\nfunction addPath(inputPath) {\r\n    command_1.issueCommand('add-path', {}, inputPath);\r\n    process.env['PATH'] = `${inputPath}${path.delimiter}${process.env['PATH']}`;\r\n}\r\nexports.addPath = addPath;\r\n/**\r\n * Gets the value of an input.  The value is also trimmed.\r\n *\r\n * @param     name     name of the input to get\r\n * @param     options  optional. See InputOptions.\r\n * @returns   string\r\n */\r\nfunction getInput(name, options) {\r\n    const val = process.env[`INPUT_${name.replace(/ /g, '_').toUpperCase()}`] || '';\r\n    if (options && options.required && !val) {\r\n        throw new Error(`Input required and not supplied: ${name}`);\r\n    }\r\n    return val.trim();\r\n}\r\nexports.getInput = getInput;\r\n/**\r\n * Sets the value of an output.\r\n *\r\n * @param     name     name of the output to set\r\n * @param     value    value to store\r\n */\r\nfunction setOutput(name, value) {\r\n    command_1.issueCommand('set-output', { name }, value);\r\n}\r\nexports.setOutput = setOutput;\r\n//-----------------------------------------------------------------------\r\n// Results\r\n//-----------------------------------------------------------------------\r\n/**\r\n * Sets the action status to failed.\r\n * When the action exits it will be with an exit code of 1\r\n * @param message add error issue message\r\n */\r\nfunction setFailed(message) {\r\n    process.exitCode = ExitCode.Failure;\r\n    error(message);\r\n}\r\nexports.setFailed = setFailed;\r\n//-----------------------------------------------------------------------\r\n// Logging Commands\r\n//-----------------------------------------------------------------------\r\n/**\r\n * Writes debug message to user log\r\n * @param message debug message\r\n */\r\nfunction debug(message) {\r\n    command_1.issueCommand('debug', {}, message);\r\n}\r\nexports.debug = debug;\r\n/**\r\n * Adds an error issue\r\n * @param message error issue message\r\n */\r\nfunction error(message) {\r\n    command_1.issue('error', message);\r\n}\r\nexports.error = error;\r\n/**\r\n * Adds an warning issue\r\n * @param message warning issue message\r\n */\r\nfunction warning(message) {\r\n    command_1.issue('warning', message);\r\n}\r\nexports.warning = warning;\r\n/**\r\n * Writes info to log with console.log.\r\n * @param message info message\r\n */\r\nfunction info(message) {\r\n    process.stdout.write(message + os.EOL);\r\n}\r\nexports.info = info;\r\n/**\r\n * Begin an output group.\r\n *\r\n * Output until the next `groupEnd` will be foldable in this group\r\n *\r\n * @param name The name of the output group\r\n */\r\nfunction startGroup(name) {\r\n    command_1.issue('group', name);\r\n}\r\nexports.startGroup = startGroup;\r\n/**\r\n * End an output group.\r\n */\r\nfunction endGroup() {\r\n    command_1.issue('endgroup');\r\n}\r\nexports.endGroup = endGroup;\r\n/**\r\n * Wrap an asynchronous function call in a group.\r\n *\r\n * Returns the same type as the function itself.\r\n *\r\n * @param name The name of the group\r\n * @param fn The function to wrap in the group\r\n */\r\nfunction group(name, fn) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        startGroup(name);\r\n        let result;\r\n        try {\r\n            result = yield fn();\r\n        }\r\n        finally {\r\n            endGroup();\r\n        }\r\n        return result;\r\n    });\r\n}\r\nexports.group = group;\r\n//# sourceMappingURL=core.js.map","module.exports = require(\"child_process\");","module.exports = require(\"util\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"events\");","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst tr = require(\"./toolrunner\");\r\n/**\r\n * Exec a command.\r\n * Output will be streamed to the live console.\r\n * Returns promise with return code\r\n *\r\n * @param     commandLine        command to execute (can include additional args). Must be correctly escaped.\r\n * @param     args               optional arguments for tool. Escaping is handled by the lib.\r\n * @param     options            optional exec options.  See ExecOptions\r\n * @returns   Promise<number>    exit code\r\n */\r\nfunction exec(commandLine, args, options) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const commandArgs = tr.argStringToArray(commandLine);\r\n        if (commandArgs.length === 0) {\r\n            throw new Error(`Parameter 'commandLine' cannot be null or empty.`);\r\n        }\r\n        // Path to tool to execute should be first arg\r\n        const toolPath = commandArgs[0];\r\n        args = commandArgs.slice(1).concat(args || []);\r\n        const runner = new tr.ToolRunner(toolPath, args, options);\r\n        return runner.exec();\r\n    });\r\n}\r\nexports.exec = exec;\r\n//# sourceMappingURL=exec.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst core = __importStar(require(\"@actions/core\"));\r\nconst tc = __importStar(require(\"@actions/tool-cache\"));\r\nconst exec = __importStar(require(\"@actions/exec\"));\r\nconst path = __importStar(require(\"path\"));\r\nconst fs = __importStar(require(\"fs\"));\r\nfunction run() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        try {\r\n            // CSC is not a tool we download\r\n            // as Visual Studio is installed on Windows machines\r\n            // However we need to download & use VSWhere to tell us\r\n            // where CSC is so we can add it that dir to the PATH\r\n            // Tripple check it's Windows process\r\n            let cscPath;\r\n            // Can't install VSWhere.exe for Ubuntu image etc..\r\n            const IS_WINDOWS = process.platform === 'win32';\r\n            if (!IS_WINDOWS) {\r\n                core.setFailed(\"CSC.exe only works for Windows.\");\r\n                return;\r\n            }\r\n            // Try & find tool in cache\r\n            let directoryToAddToPath;\r\n            directoryToAddToPath = yield tc.find(\"vswhere\", \"2.7.1\");\r\n            if (directoryToAddToPath) {\r\n                core.debug(`Found local cached tool at ${directoryToAddToPath} adding that to path`);\r\n                cscPath = yield FindCSC(directoryToAddToPath);\r\n                core.debug(`CSCPath == ${cscPath}`);\r\n                // Add folder where CSC lives to the PATH\r\n                yield core.addPath(cscPath);\r\n                return;\r\n            }\r\n            // Download VSWhere 2.7.1 release\r\n            core.debug(\"Downloading VSWhere v2.7.1 tool\");\r\n            const vsWherePath = yield tc.downloadTool(\"https://github.com/microsoft/vswhere/releases/download/2.7.1/vswhere.exe\");\r\n            // Rename the file which is a GUID without extension\r\n            const folder = path.dirname(vsWherePath);\r\n            const fullPath = path.join(folder, \"vswhere.exe\");\r\n            fs.renameSync(vsWherePath, fullPath);\r\n            //Cache the directory with VSWhere in it - which returns a NEW cached location\r\n            const cachedToolDir = yield tc.cacheDir(folder, \"vswhere\", \"2.7.1\");\r\n            core.debug(`Cached Tool Dir ${cachedToolDir}`);\r\n            cscPath = yield FindCSC(cachedToolDir);\r\n            core.debug(`CSCPath == ${cscPath}`);\r\n            // Add folder where CSC lives to the PATH\r\n            yield core.addPath(cscPath);\r\n        }\r\n        catch (error) {\r\n            core.setFailed(error.message);\r\n        }\r\n    });\r\n}\r\nrun();\r\nfunction FindCSC(pathToVSWhere) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        let cscPath = \"\";\r\n        const options = {};\r\n        options.listeners = {\r\n            stdout: (data) => {\r\n                const output = data.toString();\r\n                cscPath += output;\r\n            }\r\n        };\r\n        // Run VSWhere to tell us where CSC is\r\n        const vsWhereExe = path.join(pathToVSWhere, \"vswhere.exe\");\r\n        yield exec.exec(vsWhereExe, ['-latest', '-requires', 'Microsoft.VisualStudio.Component.Roslyn.Compiler', '-find', 'MSBuild\\\\**\\\\CSC.exe'], options);\r\n        if (cscPath === \"\") {\r\n            core.setFailed(\"Unable to find CSC.exe\");\r\n        }\r\n        const folderForCSC = path.dirname(cscPath);\r\n        core.debug(`CSC = ${cscPath}`);\r\n        core.debug(`Folder for CSC ${folderForCSC}`);\r\n        return folderForCSC;\r\n    });\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst os = require(\"os\");\r\n/**\r\n * Commands\r\n *\r\n * Command Format:\r\n *   ##[name key=value;key=value]message\r\n *\r\n * Examples:\r\n *   ##[warning]This is the user warning message\r\n *   ##[set-secret name=mypassword]definitelyNotAPassword!\r\n */\r\nfunction issueCommand(command, properties, message) {\r\n    const cmd = new Command(command, properties, message);\r\n    process.stdout.write(cmd.toString() + os.EOL);\r\n}\r\nexports.issueCommand = issueCommand;\r\nfunction issue(name, message = '') {\r\n    issueCommand(name, {}, message);\r\n}\r\nexports.issue = issue;\r\nconst CMD_STRING = '::';\r\nclass Command {\r\n    constructor(command, properties, message) {\r\n        if (!command) {\r\n            command = 'missing.command';\r\n        }\r\n        this.command = command;\r\n        this.properties = properties;\r\n        this.message = message;\r\n    }\r\n    toString() {\r\n        let cmdStr = CMD_STRING + this.command;\r\n        if (this.properties && Object.keys(this.properties).length > 0) {\r\n            cmdStr += ' ';\r\n            for (const key in this.properties) {\r\n                if (this.properties.hasOwnProperty(key)) {\r\n                    const val = this.properties[key];\r\n                    if (val) {\r\n                        // safely append the val - avoid blowing up when attempting to\r\n                        // call .replace() if message is not a string for some reason\r\n                        cmdStr += `${key}=${escape(`${val || ''}`)},`;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        cmdStr += CMD_STRING;\r\n        // safely append the message - avoid blowing up when attempting to\r\n        // call .replace() if message is not a string for some reason\r\n        const message = `${this.message || ''}`;\r\n        cmdStr += escapeData(message);\r\n        return cmdStr;\r\n    }\r\n}\r\nfunction escapeData(s) {\r\n    return s.replace(/\\r/g, '%0D').replace(/\\n/g, '%0A');\r\n}\r\nfunction escape(s) {\r\n    return s\r\n        .replace(/\\r/g, '%0D')\r\n        .replace(/\\n/g, '%0A')\r\n        .replace(/]/g, '%5D')\r\n        .replace(/;/g, '%3B');\r\n}\r\n//# sourceMappingURL=command.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst core = require(\"@actions/core\");\r\nconst io = require(\"@actions/io\");\r\nconst fs = require(\"fs\");\r\nconst os = require(\"os\");\r\nconst path = require(\"path\");\r\nconst httpm = require(\"typed-rest-client/HttpClient\");\r\nconst semver = require(\"semver\");\r\nconst uuidV4 = require(\"uuid/v4\");\r\nconst exec_1 = require(\"@actions/exec/lib/exec\");\r\nconst assert_1 = require(\"assert\");\r\nclass HTTPError extends Error {\r\n    constructor(httpStatusCode) {\r\n        super(`Unexpected HTTP response: ${httpStatusCode}`);\r\n        this.httpStatusCode = httpStatusCode;\r\n        Object.setPrototypeOf(this, new.target.prototype);\r\n    }\r\n}\r\nexports.HTTPError = HTTPError;\r\nconst IS_WINDOWS = process.platform === 'win32';\r\nconst userAgent = 'actions/tool-cache';\r\n// On load grab temp directory and cache directory and remove them from env (currently don't want to expose this)\r\nlet tempDirectory = process.env['RUNNER_TEMP'] || '';\r\nlet cacheRoot = process.env['RUNNER_TOOL_CACHE'] || '';\r\n// If directories not found, place them in common temp locations\r\nif (!tempDirectory || !cacheRoot) {\r\n    let baseLocation;\r\n    if (IS_WINDOWS) {\r\n        // On windows use the USERPROFILE env variable\r\n        baseLocation = process.env['USERPROFILE'] || 'C:\\\\';\r\n    }\r\n    else {\r\n        if (process.platform === 'darwin') {\r\n            baseLocation = '/Users';\r\n        }\r\n        else {\r\n            baseLocation = '/home';\r\n        }\r\n    }\r\n    if (!tempDirectory) {\r\n        tempDirectory = path.join(baseLocation, 'actions', 'temp');\r\n    }\r\n    if (!cacheRoot) {\r\n        cacheRoot = path.join(baseLocation, 'actions', 'cache');\r\n    }\r\n}\r\n/**\r\n * Download a tool from an url and stream it into a file\r\n *\r\n * @param url       url of tool to download\r\n * @returns         path to downloaded tool\r\n */\r\nfunction downloadTool(url) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        // Wrap in a promise so that we can resolve from within stream callbacks\r\n        return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                const http = new httpm.HttpClient(userAgent, [], {\r\n                    allowRetries: true,\r\n                    maxRetries: 3\r\n                });\r\n                const destPath = path.join(tempDirectory, uuidV4());\r\n                yield io.mkdirP(tempDirectory);\r\n                core.debug(`Downloading ${url}`);\r\n                core.debug(`Downloading ${destPath}`);\r\n                if (fs.existsSync(destPath)) {\r\n                    throw new Error(`Destination file path ${destPath} already exists`);\r\n                }\r\n                const response = yield http.get(url);\r\n                if (response.message.statusCode !== 200) {\r\n                    const err = new HTTPError(response.message.statusCode);\r\n                    core.debug(`Failed to download from \"${url}\". Code(${response.message.statusCode}) Message(${response.message.statusMessage})`);\r\n                    throw err;\r\n                }\r\n                const file = fs.createWriteStream(destPath);\r\n                file.on('open', () => __awaiter(this, void 0, void 0, function* () {\r\n                    try {\r\n                        const stream = response.message.pipe(file);\r\n                        stream.on('close', () => {\r\n                            core.debug('download complete');\r\n                            resolve(destPath);\r\n                        });\r\n                    }\r\n                    catch (err) {\r\n                        core.debug(`Failed to download from \"${url}\". Code(${response.message.statusCode}) Message(${response.message.statusMessage})`);\r\n                        reject(err);\r\n                    }\r\n                }));\r\n                file.on('error', err => {\r\n                    file.end();\r\n                    reject(err);\r\n                });\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        }));\r\n    });\r\n}\r\nexports.downloadTool = downloadTool;\r\n/**\r\n * Extract a .7z file\r\n *\r\n * @param file     path to the .7z file\r\n * @param dest     destination directory. Optional.\r\n * @param _7zPath  path to 7zr.exe. Optional, for long path support. Most .7z archives do not have this\r\n * problem. If your .7z archive contains very long paths, you can pass the path to 7zr.exe which will\r\n * gracefully handle long paths. By default 7zdec.exe is used because it is a very small program and is\r\n * bundled with the tool lib. However it does not support long paths. 7zr.exe is the reduced command line\r\n * interface, it is smaller than the full command line interface, and it does support long paths. At the\r\n * time of this writing, it is freely available from the LZMA SDK that is available on the 7zip website.\r\n * Be sure to check the current license agreement. If 7zr.exe is bundled with your action, then the path\r\n * to 7zr.exe can be pass to this function.\r\n * @returns        path to the destination directory\r\n */\r\nfunction extract7z(file, dest, _7zPath) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        assert_1.ok(IS_WINDOWS, 'extract7z() not supported on current OS');\r\n        assert_1.ok(file, 'parameter \"file\" is required');\r\n        dest = dest || (yield _createExtractFolder(dest));\r\n        const originalCwd = process.cwd();\r\n        process.chdir(dest);\r\n        if (_7zPath) {\r\n            try {\r\n                const args = [\r\n                    'x',\r\n                    '-bb1',\r\n                    '-bd',\r\n                    '-sccUTF-8',\r\n                    file\r\n                ];\r\n                const options = {\r\n                    silent: true\r\n                };\r\n                yield exec_1.exec(`\"${_7zPath}\"`, args, options);\r\n            }\r\n            finally {\r\n                process.chdir(originalCwd);\r\n            }\r\n        }\r\n        else {\r\n            const escapedScript = path\r\n                .join(__dirname, '..', 'scripts', 'Invoke-7zdec.ps1')\r\n                .replace(/'/g, \"''\")\r\n                .replace(/\"|\\n|\\r/g, ''); // double-up single quotes, remove double quotes and newlines\r\n            const escapedFile = file.replace(/'/g, \"''\").replace(/\"|\\n|\\r/g, '');\r\n            const escapedTarget = dest.replace(/'/g, \"''\").replace(/\"|\\n|\\r/g, '');\r\n            const command = `& '${escapedScript}' -Source '${escapedFile}' -Target '${escapedTarget}'`;\r\n            const args = [\r\n                '-NoLogo',\r\n                '-Sta',\r\n                '-NoProfile',\r\n                '-NonInteractive',\r\n                '-ExecutionPolicy',\r\n                'Unrestricted',\r\n                '-Command',\r\n                command\r\n            ];\r\n            const options = {\r\n                silent: true\r\n            };\r\n            try {\r\n                const powershellPath = yield io.which('powershell', true);\r\n                yield exec_1.exec(`\"${powershellPath}\"`, args, options);\r\n            }\r\n            finally {\r\n                process.chdir(originalCwd);\r\n            }\r\n        }\r\n        return dest;\r\n    });\r\n}\r\nexports.extract7z = extract7z;\r\n/**\r\n * Extract a tar\r\n *\r\n * @param file     path to the tar\r\n * @param dest     destination directory. Optional.\r\n * @param flags    flags for the tar. Optional.\r\n * @returns        path to the destination directory\r\n */\r\nfunction extractTar(file, dest, flags = 'xz') {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (!file) {\r\n            throw new Error(\"parameter 'file' is required\");\r\n        }\r\n        dest = dest || (yield _createExtractFolder(dest));\r\n        const tarPath = yield io.which('tar', true);\r\n        yield exec_1.exec(`\"${tarPath}\"`, [flags, '-C', dest, '-f', file]);\r\n        return dest;\r\n    });\r\n}\r\nexports.extractTar = extractTar;\r\n/**\r\n * Extract a zip\r\n *\r\n * @param file     path to the zip\r\n * @param dest     destination directory. Optional.\r\n * @returns        path to the destination directory\r\n */\r\nfunction extractZip(file, dest) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (!file) {\r\n            throw new Error(\"parameter 'file' is required\");\r\n        }\r\n        dest = dest || (yield _createExtractFolder(dest));\r\n        if (IS_WINDOWS) {\r\n            yield extractZipWin(file, dest);\r\n        }\r\n        else {\r\n            if (process.platform === 'darwin') {\r\n                yield extractZipDarwin(file, dest);\r\n            }\r\n            else {\r\n                yield extractZipNix(file, dest);\r\n            }\r\n        }\r\n        return dest;\r\n    });\r\n}\r\nexports.extractZip = extractZip;\r\nfunction extractZipWin(file, dest) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        // build the powershell command\r\n        const escapedFile = file.replace(/'/g, \"''\").replace(/\"|\\n|\\r/g, ''); // double-up single quotes, remove double quotes and newlines\r\n        const escapedDest = dest.replace(/'/g, \"''\").replace(/\"|\\n|\\r/g, '');\r\n        const command = `$ErrorActionPreference = 'Stop' ; try { Add-Type -AssemblyName System.IO.Compression.FileSystem } catch { } ; [System.IO.Compression.ZipFile]::ExtractToDirectory('${escapedFile}', '${escapedDest}')`;\r\n        // run powershell\r\n        const powershellPath = yield io.which('powershell');\r\n        const args = [\r\n            '-NoLogo',\r\n            '-Sta',\r\n            '-NoProfile',\r\n            '-NonInteractive',\r\n            '-ExecutionPolicy',\r\n            'Unrestricted',\r\n            '-Command',\r\n            command\r\n        ];\r\n        yield exec_1.exec(`\"${powershellPath}\"`, args);\r\n    });\r\n}\r\nfunction extractZipNix(file, dest) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const unzipPath = path.join(__dirname, '..', 'scripts', 'externals', 'unzip');\r\n        yield exec_1.exec(`\"${unzipPath}\"`, [file], { cwd: dest });\r\n    });\r\n}\r\nfunction extractZipDarwin(file, dest) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const unzipPath = path.join(__dirname, '..', 'scripts', 'externals', 'unzip-darwin');\r\n        yield exec_1.exec(`\"${unzipPath}\"`, [file], { cwd: dest });\r\n    });\r\n}\r\n/**\r\n * Caches a directory and installs it into the tool cacheDir\r\n *\r\n * @param sourceDir    the directory to cache into tools\r\n * @param tool          tool name\r\n * @param version       version of the tool.  semver format\r\n * @param arch          architecture of the tool.  Optional.  Defaults to machine architecture\r\n */\r\nfunction cacheDir(sourceDir, tool, version, arch) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        version = semver.clean(version) || version;\r\n        arch = arch || os.arch();\r\n        core.debug(`Caching tool ${tool} ${version} ${arch}`);\r\n        core.debug(`source dir: ${sourceDir}`);\r\n        if (!fs.statSync(sourceDir).isDirectory()) {\r\n            throw new Error('sourceDir is not a directory');\r\n        }\r\n        // Create the tool dir\r\n        const destPath = yield _createToolPath(tool, version, arch);\r\n        // copy each child item. do not move. move can fail on Windows\r\n        // due to anti-virus software having an open handle on a file.\r\n        for (const itemName of fs.readdirSync(sourceDir)) {\r\n            const s = path.join(sourceDir, itemName);\r\n            yield io.cp(s, destPath, { recursive: true });\r\n        }\r\n        // write .complete\r\n        _completeToolPath(tool, version, arch);\r\n        return destPath;\r\n    });\r\n}\r\nexports.cacheDir = cacheDir;\r\n/**\r\n * Caches a downloaded file (GUID) and installs it\r\n * into the tool cache with a given targetName\r\n *\r\n * @param sourceFile    the file to cache into tools.  Typically a result of downloadTool which is a guid.\r\n * @param targetFile    the name of the file name in the tools directory\r\n * @param tool          tool name\r\n * @param version       version of the tool.  semver format\r\n * @param arch          architecture of the tool.  Optional.  Defaults to machine architecture\r\n */\r\nfunction cacheFile(sourceFile, targetFile, tool, version, arch) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        version = semver.clean(version) || version;\r\n        arch = arch || os.arch();\r\n        core.debug(`Caching tool ${tool} ${version} ${arch}`);\r\n        core.debug(`source file: ${sourceFile}`);\r\n        if (!fs.statSync(sourceFile).isFile()) {\r\n            throw new Error('sourceFile is not a file');\r\n        }\r\n        // create the tool dir\r\n        const destFolder = yield _createToolPath(tool, version, arch);\r\n        // copy instead of move. move can fail on Windows due to\r\n        // anti-virus software having an open handle on a file.\r\n        const destPath = path.join(destFolder, targetFile);\r\n        core.debug(`destination file ${destPath}`);\r\n        yield io.cp(sourceFile, destPath);\r\n        // write .complete\r\n        _completeToolPath(tool, version, arch);\r\n        return destFolder;\r\n    });\r\n}\r\nexports.cacheFile = cacheFile;\r\n/**\r\n * Finds the path to a tool version in the local installed tool cache\r\n *\r\n * @param toolName      name of the tool\r\n * @param versionSpec   version of the tool\r\n * @param arch          optional arch.  defaults to arch of computer\r\n */\r\nfunction find(toolName, versionSpec, arch) {\r\n    if (!toolName) {\r\n        throw new Error('toolName parameter is required');\r\n    }\r\n    if (!versionSpec) {\r\n        throw new Error('versionSpec parameter is required');\r\n    }\r\n    arch = arch || os.arch();\r\n    // attempt to resolve an explicit version\r\n    if (!_isExplicitVersion(versionSpec)) {\r\n        const localVersions = findAllVersions(toolName, arch);\r\n        const match = _evaluateVersions(localVersions, versionSpec);\r\n        versionSpec = match;\r\n    }\r\n    // check for the explicit version in the cache\r\n    let toolPath = '';\r\n    if (versionSpec) {\r\n        versionSpec = semver.clean(versionSpec) || '';\r\n        const cachePath = path.join(cacheRoot, toolName, versionSpec, arch);\r\n        core.debug(`checking cache: ${cachePath}`);\r\n        if (fs.existsSync(cachePath) && fs.existsSync(`${cachePath}.complete`)) {\r\n            core.debug(`Found tool in cache ${toolName} ${versionSpec} ${arch}`);\r\n            toolPath = cachePath;\r\n        }\r\n        else {\r\n            core.debug('not found');\r\n        }\r\n    }\r\n    return toolPath;\r\n}\r\nexports.find = find;\r\n/**\r\n * Finds the paths to all versions of a tool that are installed in the local tool cache\r\n *\r\n * @param toolName  name of the tool\r\n * @param arch      optional arch.  defaults to arch of computer\r\n */\r\nfunction findAllVersions(toolName, arch) {\r\n    const versions = [];\r\n    arch = arch || os.arch();\r\n    const toolPath = path.join(cacheRoot, toolName);\r\n    if (fs.existsSync(toolPath)) {\r\n        const children = fs.readdirSync(toolPath);\r\n        for (const child of children) {\r\n            if (_isExplicitVersion(child)) {\r\n                const fullPath = path.join(toolPath, child, arch || '');\r\n                if (fs.existsSync(fullPath) && fs.existsSync(`${fullPath}.complete`)) {\r\n                    versions.push(child);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return versions;\r\n}\r\nexports.findAllVersions = findAllVersions;\r\nfunction _createExtractFolder(dest) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (!dest) {\r\n            // create a temp dir\r\n            dest = path.join(tempDirectory, uuidV4());\r\n        }\r\n        yield io.mkdirP(dest);\r\n        return dest;\r\n    });\r\n}\r\nfunction _createToolPath(tool, version, arch) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const folderPath = path.join(cacheRoot, tool, semver.clean(version) || version, arch || '');\r\n        core.debug(`destination ${folderPath}`);\r\n        const markerPath = `${folderPath}.complete`;\r\n        yield io.rmRF(folderPath);\r\n        yield io.rmRF(markerPath);\r\n        yield io.mkdirP(folderPath);\r\n        return folderPath;\r\n    });\r\n}\r\nfunction _completeToolPath(tool, version, arch) {\r\n    const folderPath = path.join(cacheRoot, tool, semver.clean(version) || version, arch || '');\r\n    const markerPath = `${folderPath}.complete`;\r\n    fs.writeFileSync(markerPath, '');\r\n    core.debug('finished caching tool');\r\n}\r\nfunction _isExplicitVersion(versionSpec) {\r\n    const c = semver.clean(versionSpec) || '';\r\n    core.debug(`isExplicit: ${c}`);\r\n    const valid = semver.valid(c) != null;\r\n    core.debug(`explicit? ${valid}`);\r\n    return valid;\r\n}\r\nfunction _evaluateVersions(versions, versionSpec) {\r\n    let version = '';\r\n    core.debug(`evaluating ${versions.length} versions`);\r\n    versions = versions.sort((a, b) => {\r\n        if (semver.gt(a, b)) {\r\n            return 1;\r\n        }\r\n        return -1;\r\n    });\r\n    for (let i = versions.length - 1; i >= 0; i--) {\r\n        const potential = versions[i];\r\n        const satisfied = semver.satisfies(potential, versionSpec);\r\n        if (satisfied) {\r\n            version = potential;\r\n            break;\r\n        }\r\n    }\r\n    if (version) {\r\n        core.debug(`matched: ${version}`);\r\n    }\r\n    else {\r\n        core.debug('match not found');\r\n    }\r\n    return version;\r\n}\r\n//# sourceMappingURL=tool-cache.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst childProcess = require(\"child_process\");\r\nconst path = require(\"path\");\r\nconst util_1 = require(\"util\");\r\nconst ioUtil = require(\"./io-util\");\r\nconst exec = util_1.promisify(childProcess.exec);\r\n/**\r\n * Copies a file or folder.\r\n * Based off of shelljs - https://github.com/shelljs/shelljs/blob/9237f66c52e5daa40458f94f9565e18e8132f5a6/src/cp.js\r\n *\r\n * @param     source    source path\r\n * @param     dest      destination path\r\n * @param     options   optional. See CopyOptions.\r\n */\r\nfunction cp(source, dest, options = {}) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const { force, recursive } = readCopyOptions(options);\r\n        const destStat = (yield ioUtil.exists(dest)) ? yield ioUtil.stat(dest) : null;\r\n        // Dest is an existing file, but not forcing\r\n        if (destStat && destStat.isFile() && !force) {\r\n            return;\r\n        }\r\n        // If dest is an existing directory, should copy inside.\r\n        const newDest = destStat && destStat.isDirectory()\r\n            ? path.join(dest, path.basename(source))\r\n            : dest;\r\n        if (!(yield ioUtil.exists(source))) {\r\n            throw new Error(`no such file or directory: ${source}`);\r\n        }\r\n        const sourceStat = yield ioUtil.stat(source);\r\n        if (sourceStat.isDirectory()) {\r\n            if (!recursive) {\r\n                throw new Error(`Failed to copy. ${source} is a directory, but tried to copy without recursive flag.`);\r\n            }\r\n            else {\r\n                yield cpDirRecursive(source, newDest, 0, force);\r\n            }\r\n        }\r\n        else {\r\n            if (path.relative(source, newDest) === '') {\r\n                // a file cannot be copied to itself\r\n                throw new Error(`'${newDest}' and '${source}' are the same file`);\r\n            }\r\n            yield copyFile(source, newDest, force);\r\n        }\r\n    });\r\n}\r\nexports.cp = cp;\r\n/**\r\n * Moves a path.\r\n *\r\n * @param     source    source path\r\n * @param     dest      destination path\r\n * @param     options   optional. See MoveOptions.\r\n */\r\nfunction mv(source, dest, options = {}) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (yield ioUtil.exists(dest)) {\r\n            let destExists = true;\r\n            if (yield ioUtil.isDirectory(dest)) {\r\n                // If dest is directory copy src into dest\r\n                dest = path.join(dest, path.basename(source));\r\n                destExists = yield ioUtil.exists(dest);\r\n            }\r\n            if (destExists) {\r\n                if (options.force == null || options.force) {\r\n                    yield rmRF(dest);\r\n                }\r\n                else {\r\n                    throw new Error('Destination already exists');\r\n                }\r\n            }\r\n        }\r\n        yield mkdirP(path.dirname(dest));\r\n        yield ioUtil.rename(source, dest);\r\n    });\r\n}\r\nexports.mv = mv;\r\n/**\r\n * Remove a path recursively with force\r\n *\r\n * @param inputPath path to remove\r\n */\r\nfunction rmRF(inputPath) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (ioUtil.IS_WINDOWS) {\r\n            // Node doesn't provide a delete operation, only an unlink function. This means that if the file is being used by another\r\n            // program (e.g. antivirus), it won't be deleted. To address this, we shell out the work to rd/del.\r\n            try {\r\n                if (yield ioUtil.isDirectory(inputPath, true)) {\r\n                    yield exec(`rd /s /q \"${inputPath}\"`);\r\n                }\r\n                else {\r\n                    yield exec(`del /f /a \"${inputPath}\"`);\r\n                }\r\n            }\r\n            catch (err) {\r\n                // if you try to delete a file that doesn't exist, desired result is achieved\r\n                // other errors are valid\r\n                if (err.code !== 'ENOENT')\r\n                    throw err;\r\n            }\r\n            // Shelling out fails to remove a symlink folder with missing source, this unlink catches that\r\n            try {\r\n                yield ioUtil.unlink(inputPath);\r\n            }\r\n            catch (err) {\r\n                // if you try to delete a file that doesn't exist, desired result is achieved\r\n                // other errors are valid\r\n                if (err.code !== 'ENOENT')\r\n                    throw err;\r\n            }\r\n        }\r\n        else {\r\n            let isDir = false;\r\n            try {\r\n                isDir = yield ioUtil.isDirectory(inputPath);\r\n            }\r\n            catch (err) {\r\n                // if you try to delete a file that doesn't exist, desired result is achieved\r\n                // other errors are valid\r\n                if (err.code !== 'ENOENT')\r\n                    throw err;\r\n                return;\r\n            }\r\n            if (isDir) {\r\n                yield exec(`rm -rf \"${inputPath}\"`);\r\n            }\r\n            else {\r\n                yield ioUtil.unlink(inputPath);\r\n            }\r\n        }\r\n    });\r\n}\r\nexports.rmRF = rmRF;\r\n/**\r\n * Make a directory.  Creates the full path with folders in between\r\n * Will throw if it fails\r\n *\r\n * @param   fsPath        path to create\r\n * @returns Promise<void>\r\n */\r\nfunction mkdirP(fsPath) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        yield ioUtil.mkdirP(fsPath);\r\n    });\r\n}\r\nexports.mkdirP = mkdirP;\r\n/**\r\n * Returns path of a tool had the tool actually been invoked.  Resolves via paths.\r\n * If you check and the tool does not exist, it will throw.\r\n *\r\n * @param     tool              name of the tool\r\n * @param     check             whether to check if tool exists\r\n * @returns   Promise<string>   path to tool\r\n */\r\nfunction which(tool, check) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (!tool) {\r\n            throw new Error(\"parameter 'tool' is required\");\r\n        }\r\n        // recursive when check=true\r\n        if (check) {\r\n            const result = yield which(tool, false);\r\n            if (!result) {\r\n                if (ioUtil.IS_WINDOWS) {\r\n                    throw new Error(`Unable to locate executable file: ${tool}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`);\r\n                }\r\n                else {\r\n                    throw new Error(`Unable to locate executable file: ${tool}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`);\r\n                }\r\n            }\r\n        }\r\n        try {\r\n            // build the list of extensions to try\r\n            const extensions = [];\r\n            if (ioUtil.IS_WINDOWS && process.env.PATHEXT) {\r\n                for (const extension of process.env.PATHEXT.split(path.delimiter)) {\r\n                    if (extension) {\r\n                        extensions.push(extension);\r\n                    }\r\n                }\r\n            }\r\n            // if it's rooted, return it if exists. otherwise return empty.\r\n            if (ioUtil.isRooted(tool)) {\r\n                const filePath = yield ioUtil.tryGetExecutablePath(tool, extensions);\r\n                if (filePath) {\r\n                    return filePath;\r\n                }\r\n                return '';\r\n            }\r\n            // if any path separators, return empty\r\n            if (tool.includes('/') || (ioUtil.IS_WINDOWS && tool.includes('\\\\'))) {\r\n                return '';\r\n            }\r\n            // build the list of directories\r\n            //\r\n            // Note, technically \"where\" checks the current directory on Windows. From a toolkit perspective,\r\n            // it feels like we should not do this. Checking the current directory seems like more of a use\r\n            // case of a shell, and the which() function exposed by the toolkit should strive for consistency\r\n            // across platforms.\r\n            const directories = [];\r\n            if (process.env.PATH) {\r\n                for (const p of process.env.PATH.split(path.delimiter)) {\r\n                    if (p) {\r\n                        directories.push(p);\r\n                    }\r\n                }\r\n            }\r\n            // return the first match\r\n            for (const directory of directories) {\r\n                const filePath = yield ioUtil.tryGetExecutablePath(directory + path.sep + tool, extensions);\r\n                if (filePath) {\r\n                    return filePath;\r\n                }\r\n            }\r\n            return '';\r\n        }\r\n        catch (err) {\r\n            throw new Error(`which failed with message ${err.message}`);\r\n        }\r\n    });\r\n}\r\nexports.which = which;\r\nfunction readCopyOptions(options) {\r\n    const force = options.force == null ? true : options.force;\r\n    const recursive = Boolean(options.recursive);\r\n    return { force, recursive };\r\n}\r\nfunction cpDirRecursive(sourceDir, destDir, currentDepth, force) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        // Ensure there is not a run away recursive copy\r\n        if (currentDepth >= 255)\r\n            return;\r\n        currentDepth++;\r\n        yield mkdirP(destDir);\r\n        const files = yield ioUtil.readdir(sourceDir);\r\n        for (const fileName of files) {\r\n            const srcFile = `${sourceDir}/${fileName}`;\r\n            const destFile = `${destDir}/${fileName}`;\r\n            const srcFileStat = yield ioUtil.lstat(srcFile);\r\n            if (srcFileStat.isDirectory()) {\r\n                // Recurse\r\n                yield cpDirRecursive(srcFile, destFile, currentDepth, force);\r\n            }\r\n            else {\r\n                yield copyFile(srcFile, destFile, force);\r\n            }\r\n        }\r\n        // Change the mode for the newly created directory\r\n        yield ioUtil.chmod(destDir, (yield ioUtil.stat(sourceDir)).mode);\r\n    });\r\n}\r\n// Buffered file copy\r\nfunction copyFile(srcFile, destFile, force) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if ((yield ioUtil.lstat(srcFile)).isSymbolicLink()) {\r\n            // unlink/re-link it\r\n            try {\r\n                yield ioUtil.lstat(destFile);\r\n                yield ioUtil.unlink(destFile);\r\n            }\r\n            catch (e) {\r\n                // Try to override file permission\r\n                if (e.code === 'EPERM') {\r\n                    yield ioUtil.chmod(destFile, '0666');\r\n                    yield ioUtil.unlink(destFile);\r\n                }\r\n                // other errors = it doesn't exist, no work to do\r\n            }\r\n            // Copy over symlink\r\n            const symlinkFull = yield ioUtil.readlink(srcFile);\r\n            yield ioUtil.symlink(symlinkFull, destFile, ioUtil.IS_WINDOWS ? 'junction' : null);\r\n        }\r\n        else if (!(yield ioUtil.exists(destFile)) || force) {\r\n            yield ioUtil.copyFile(srcFile, destFile);\r\n        }\r\n    });\r\n}\r\n//# sourceMappingURL=io.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar _a;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst assert_1 = require(\"assert\");\r\nconst fs = require(\"fs\");\r\nconst path = require(\"path\");\r\n_a = fs.promises, exports.chmod = _a.chmod, exports.copyFile = _a.copyFile, exports.lstat = _a.lstat, exports.mkdir = _a.mkdir, exports.readdir = _a.readdir, exports.readlink = _a.readlink, exports.rename = _a.rename, exports.rmdir = _a.rmdir, exports.stat = _a.stat, exports.symlink = _a.symlink, exports.unlink = _a.unlink;\r\nexports.IS_WINDOWS = process.platform === 'win32';\r\nfunction exists(fsPath) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        try {\r\n            yield exports.stat(fsPath);\r\n        }\r\n        catch (err) {\r\n            if (err.code === 'ENOENT') {\r\n                return false;\r\n            }\r\n            throw err;\r\n        }\r\n        return true;\r\n    });\r\n}\r\nexports.exists = exists;\r\nfunction isDirectory(fsPath, useStat = false) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const stats = useStat ? yield exports.stat(fsPath) : yield exports.lstat(fsPath);\r\n        return stats.isDirectory();\r\n    });\r\n}\r\nexports.isDirectory = isDirectory;\r\n/**\r\n * On OSX/Linux, true if path starts with '/'. On Windows, true for paths like:\r\n * \\, \\hello, \\\\hello\\share, C:, and C:\\hello (and corresponding alternate separator cases).\r\n */\r\nfunction isRooted(p) {\r\n    p = normalizeSeparators(p);\r\n    if (!p) {\r\n        throw new Error('isRooted() parameter \"p\" cannot be empty');\r\n    }\r\n    if (exports.IS_WINDOWS) {\r\n        return (p.startsWith('\\\\') || /^[A-Z]:/i.test(p) // e.g. \\ or \\hello or \\\\hello\r\n        ); // e.g. C: or C:\\hello\r\n    }\r\n    return p.startsWith('/');\r\n}\r\nexports.isRooted = isRooted;\r\n/**\r\n * Recursively create a directory at `fsPath`.\r\n *\r\n * This implementation is optimistic, meaning it attempts to create the full\r\n * path first, and backs up the path stack from there.\r\n *\r\n * @param fsPath The path to create\r\n * @param maxDepth The maximum recursion depth\r\n * @param depth The current recursion depth\r\n */\r\nfunction mkdirP(fsPath, maxDepth = 1000, depth = 1) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        assert_1.ok(fsPath, 'a path argument must be provided');\r\n        fsPath = path.resolve(fsPath);\r\n        if (depth >= maxDepth)\r\n            return exports.mkdir(fsPath);\r\n        try {\r\n            yield exports.mkdir(fsPath);\r\n            return;\r\n        }\r\n        catch (err) {\r\n            switch (err.code) {\r\n                case 'ENOENT': {\r\n                    yield mkdirP(path.dirname(fsPath), maxDepth, depth + 1);\r\n                    yield exports.mkdir(fsPath);\r\n                    return;\r\n                }\r\n                default: {\r\n                    let stats;\r\n                    try {\r\n                        stats = yield exports.stat(fsPath);\r\n                    }\r\n                    catch (err2) {\r\n                        throw err;\r\n                    }\r\n                    if (!stats.isDirectory())\r\n                        throw err;\r\n                }\r\n            }\r\n        }\r\n    });\r\n}\r\nexports.mkdirP = mkdirP;\r\n/**\r\n * Best effort attempt to determine whether a file exists and is executable.\r\n * @param filePath    file path to check\r\n * @param extensions  additional file extensions to try\r\n * @return if file exists and is executable, returns the file path. otherwise empty string.\r\n */\r\nfunction tryGetExecutablePath(filePath, extensions) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        let stats = undefined;\r\n        try {\r\n            // test file exists\r\n            stats = yield exports.stat(filePath);\r\n        }\r\n        catch (err) {\r\n            if (err.code !== 'ENOENT') {\r\n                // eslint-disable-next-line no-console\r\n                console.log(`Unexpected error attempting to determine if executable file exists '${filePath}': ${err}`);\r\n            }\r\n        }\r\n        if (stats && stats.isFile()) {\r\n            if (exports.IS_WINDOWS) {\r\n                // on Windows, test for valid extension\r\n                const upperExt = path.extname(filePath).toUpperCase();\r\n                if (extensions.some(validExt => validExt.toUpperCase() === upperExt)) {\r\n                    return filePath;\r\n                }\r\n            }\r\n            else {\r\n                if (isUnixExecutable(stats)) {\r\n                    return filePath;\r\n                }\r\n            }\r\n        }\r\n        // try each extension\r\n        const originalFilePath = filePath;\r\n        for (const extension of extensions) {\r\n            filePath = originalFilePath + extension;\r\n            stats = undefined;\r\n            try {\r\n                stats = yield exports.stat(filePath);\r\n            }\r\n            catch (err) {\r\n                if (err.code !== 'ENOENT') {\r\n                    // eslint-disable-next-line no-console\r\n                    console.log(`Unexpected error attempting to determine if executable file exists '${filePath}': ${err}`);\r\n                }\r\n            }\r\n            if (stats && stats.isFile()) {\r\n                if (exports.IS_WINDOWS) {\r\n                    // preserve the case of the actual file (since an extension was appended)\r\n                    try {\r\n                        const directory = path.dirname(filePath);\r\n                        const upperName = path.basename(filePath).toUpperCase();\r\n                        for (const actualName of yield exports.readdir(directory)) {\r\n                            if (upperName === actualName.toUpperCase()) {\r\n                                filePath = path.join(directory, actualName);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    catch (err) {\r\n                        // eslint-disable-next-line no-console\r\n                        console.log(`Unexpected error attempting to determine the actual case of the file '${filePath}': ${err}`);\r\n                    }\r\n                    return filePath;\r\n                }\r\n                else {\r\n                    if (isUnixExecutable(stats)) {\r\n                        return filePath;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return '';\r\n    });\r\n}\r\nexports.tryGetExecutablePath = tryGetExecutablePath;\r\nfunction normalizeSeparators(p) {\r\n    p = p || '';\r\n    if (exports.IS_WINDOWS) {\r\n        // convert slashes on Windows\r\n        p = p.replace(/\\//g, '\\\\');\r\n        // remove redundant slashes\r\n        return p.replace(/\\\\\\\\+/g, '\\\\');\r\n    }\r\n    // remove redundant slashes\r\n    return p.replace(/\\/\\/+/g, '/');\r\n}\r\n// on Mac/Linux, test the execute bit\r\n//     R   W  X  R  W X R W X\r\n//   256 128 64 32 16 8 4 2 1\r\nfunction isUnixExecutable(stats) {\r\n    return ((stats.mode & 1) > 0 ||\r\n        ((stats.mode & 8) > 0 && stats.gid === process.getgid()) ||\r\n        ((stats.mode & 64) > 0 && stats.uid === process.getuid()));\r\n}\r\n//# sourceMappingURL=io-util.js.map","\"use strict\";\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for full license information.\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst url = require(\"url\");\r\nconst http = require(\"http\");\r\nconst https = require(\"https\");\r\nlet fs;\r\nlet tunnel;\r\nvar HttpCodes;\r\n(function (HttpCodes) {\r\n    HttpCodes[HttpCodes[\"OK\"] = 200] = \"OK\";\r\n    HttpCodes[HttpCodes[\"MultipleChoices\"] = 300] = \"MultipleChoices\";\r\n    HttpCodes[HttpCodes[\"MovedPermanently\"] = 301] = \"MovedPermanently\";\r\n    HttpCodes[HttpCodes[\"ResourceMoved\"] = 302] = \"ResourceMoved\";\r\n    HttpCodes[HttpCodes[\"SeeOther\"] = 303] = \"SeeOther\";\r\n    HttpCodes[HttpCodes[\"NotModified\"] = 304] = \"NotModified\";\r\n    HttpCodes[HttpCodes[\"UseProxy\"] = 305] = \"UseProxy\";\r\n    HttpCodes[HttpCodes[\"SwitchProxy\"] = 306] = \"SwitchProxy\";\r\n    HttpCodes[HttpCodes[\"TemporaryRedirect\"] = 307] = \"TemporaryRedirect\";\r\n    HttpCodes[HttpCodes[\"PermanentRedirect\"] = 308] = \"PermanentRedirect\";\r\n    HttpCodes[HttpCodes[\"BadRequest\"] = 400] = \"BadRequest\";\r\n    HttpCodes[HttpCodes[\"Unauthorized\"] = 401] = \"Unauthorized\";\r\n    HttpCodes[HttpCodes[\"PaymentRequired\"] = 402] = \"PaymentRequired\";\r\n    HttpCodes[HttpCodes[\"Forbidden\"] = 403] = \"Forbidden\";\r\n    HttpCodes[HttpCodes[\"NotFound\"] = 404] = \"NotFound\";\r\n    HttpCodes[HttpCodes[\"MethodNotAllowed\"] = 405] = \"MethodNotAllowed\";\r\n    HttpCodes[HttpCodes[\"NotAcceptable\"] = 406] = \"NotAcceptable\";\r\n    HttpCodes[HttpCodes[\"ProxyAuthenticationRequired\"] = 407] = \"ProxyAuthenticationRequired\";\r\n    HttpCodes[HttpCodes[\"RequestTimeout\"] = 408] = \"RequestTimeout\";\r\n    HttpCodes[HttpCodes[\"Conflict\"] = 409] = \"Conflict\";\r\n    HttpCodes[HttpCodes[\"Gone\"] = 410] = \"Gone\";\r\n    HttpCodes[HttpCodes[\"InternalServerError\"] = 500] = \"InternalServerError\";\r\n    HttpCodes[HttpCodes[\"NotImplemented\"] = 501] = \"NotImplemented\";\r\n    HttpCodes[HttpCodes[\"BadGateway\"] = 502] = \"BadGateway\";\r\n    HttpCodes[HttpCodes[\"ServiceUnavailable\"] = 503] = \"ServiceUnavailable\";\r\n    HttpCodes[HttpCodes[\"GatewayTimeout\"] = 504] = \"GatewayTimeout\";\r\n})(HttpCodes = exports.HttpCodes || (exports.HttpCodes = {}));\r\nconst HttpRedirectCodes = [HttpCodes.MovedPermanently, HttpCodes.ResourceMoved, HttpCodes.SeeOther, HttpCodes.TemporaryRedirect, HttpCodes.PermanentRedirect];\r\nconst HttpResponseRetryCodes = [HttpCodes.BadGateway, HttpCodes.ServiceUnavailable, HttpCodes.GatewayTimeout];\r\nconst RetryableHttpVerbs = ['OPTIONS', 'GET', 'DELETE', 'HEAD'];\r\nconst ExponentialBackoffCeiling = 10;\r\nconst ExponentialBackoffTimeSlice = 5;\r\nclass HttpClientResponse {\r\n    constructor(message) {\r\n        this.message = message;\r\n    }\r\n    readBody() {\r\n        return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\r\n            let output = '';\r\n            this.message.on('data', (chunk) => {\r\n                output += chunk;\r\n            });\r\n            this.message.on('end', () => {\r\n                resolve(output);\r\n            });\r\n        }));\r\n    }\r\n}\r\nexports.HttpClientResponse = HttpClientResponse;\r\nfunction isHttps(requestUrl) {\r\n    let parsedUrl = url.parse(requestUrl);\r\n    return parsedUrl.protocol === 'https:';\r\n}\r\nexports.isHttps = isHttps;\r\nvar EnvironmentVariables;\r\n(function (EnvironmentVariables) {\r\n    EnvironmentVariables[\"HTTP_PROXY\"] = \"HTTP_PROXY\";\r\n    EnvironmentVariables[\"HTTPS_PROXY\"] = \"HTTPS_PROXY\";\r\n})(EnvironmentVariables || (EnvironmentVariables = {}));\r\nclass HttpClient {\r\n    constructor(userAgent, handlers, requestOptions) {\r\n        this._ignoreSslError = false;\r\n        this._allowRedirects = true;\r\n        this._maxRedirects = 50;\r\n        this._allowRetries = false;\r\n        this._maxRetries = 1;\r\n        this._keepAlive = false;\r\n        this._disposed = false;\r\n        this.userAgent = userAgent;\r\n        this.handlers = handlers || [];\r\n        this.requestOptions = requestOptions;\r\n        if (requestOptions) {\r\n            if (requestOptions.ignoreSslError != null) {\r\n                this._ignoreSslError = requestOptions.ignoreSslError;\r\n            }\r\n            this._socketTimeout = requestOptions.socketTimeout;\r\n            this._httpProxy = requestOptions.proxy;\r\n            if (requestOptions.proxy && requestOptions.proxy.proxyBypassHosts) {\r\n                this._httpProxyBypassHosts = [];\r\n                requestOptions.proxy.proxyBypassHosts.forEach(bypass => {\r\n                    this._httpProxyBypassHosts.push(new RegExp(bypass, 'i'));\r\n                });\r\n            }\r\n            this._certConfig = requestOptions.cert;\r\n            if (this._certConfig) {\r\n                // If using cert, need fs\r\n                fs = require('fs');\r\n                // cache the cert content into memory, so we don't have to read it from disk every time \r\n                if (this._certConfig.caFile && fs.existsSync(this._certConfig.caFile)) {\r\n                    this._ca = fs.readFileSync(this._certConfig.caFile, 'utf8');\r\n                }\r\n                if (this._certConfig.certFile && fs.existsSync(this._certConfig.certFile)) {\r\n                    this._cert = fs.readFileSync(this._certConfig.certFile, 'utf8');\r\n                }\r\n                if (this._certConfig.keyFile && fs.existsSync(this._certConfig.keyFile)) {\r\n                    this._key = fs.readFileSync(this._certConfig.keyFile, 'utf8');\r\n                }\r\n            }\r\n            if (requestOptions.allowRedirects != null) {\r\n                this._allowRedirects = requestOptions.allowRedirects;\r\n            }\r\n            if (requestOptions.maxRedirects != null) {\r\n                this._maxRedirects = Math.max(requestOptions.maxRedirects, 0);\r\n            }\r\n            if (requestOptions.keepAlive != null) {\r\n                this._keepAlive = requestOptions.keepAlive;\r\n            }\r\n            if (requestOptions.allowRetries != null) {\r\n                this._allowRetries = requestOptions.allowRetries;\r\n            }\r\n            if (requestOptions.maxRetries != null) {\r\n                this._maxRetries = requestOptions.maxRetries;\r\n            }\r\n        }\r\n    }\r\n    options(requestUrl, additionalHeaders) {\r\n        return this.request('OPTIONS', requestUrl, null, additionalHeaders || {});\r\n    }\r\n    get(requestUrl, additionalHeaders) {\r\n        return this.request('GET', requestUrl, null, additionalHeaders || {});\r\n    }\r\n    del(requestUrl, additionalHeaders) {\r\n        return this.request('DELETE', requestUrl, null, additionalHeaders || {});\r\n    }\r\n    post(requestUrl, data, additionalHeaders) {\r\n        return this.request('POST', requestUrl, data, additionalHeaders || {});\r\n    }\r\n    patch(requestUrl, data, additionalHeaders) {\r\n        return this.request('PATCH', requestUrl, data, additionalHeaders || {});\r\n    }\r\n    put(requestUrl, data, additionalHeaders) {\r\n        return this.request('PUT', requestUrl, data, additionalHeaders || {});\r\n    }\r\n    head(requestUrl, additionalHeaders) {\r\n        return this.request('HEAD', requestUrl, null, additionalHeaders || {});\r\n    }\r\n    sendStream(verb, requestUrl, stream, additionalHeaders) {\r\n        return this.request(verb, requestUrl, stream, additionalHeaders);\r\n    }\r\n    /**\r\n     * Makes a raw http request.\r\n     * All other methods such as get, post, patch, and request ultimately call this.\r\n     * Prefer get, del, post and patch\r\n     */\r\n    request(verb, requestUrl, data, headers) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this._disposed) {\r\n                throw new Error(\"Client has already been disposed.\");\r\n            }\r\n            let info = this._prepareRequest(verb, requestUrl, headers);\r\n            // Only perform retries on reads since writes may not be idempotent.\r\n            let maxTries = (this._allowRetries && RetryableHttpVerbs.indexOf(verb) != -1) ? this._maxRetries + 1 : 1;\r\n            let numTries = 0;\r\n            let response;\r\n            while (numTries < maxTries) {\r\n                response = yield this.requestRaw(info, data);\r\n                // Check if it's an authentication challenge\r\n                if (response && response.message && response.message.statusCode === HttpCodes.Unauthorized) {\r\n                    let authenticationHandler;\r\n                    for (let i = 0; i < this.handlers.length; i++) {\r\n                        if (this.handlers[i].canHandleAuthentication(response)) {\r\n                            authenticationHandler = this.handlers[i];\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (authenticationHandler) {\r\n                        return authenticationHandler.handleAuthentication(this, info, data);\r\n                    }\r\n                    else {\r\n                        // We have received an unauthorized response but have no handlers to handle it.\r\n                        // Let the response return to the caller.\r\n                        return response;\r\n                    }\r\n                }\r\n                let redirectsRemaining = this._maxRedirects;\r\n                while (HttpRedirectCodes.indexOf(response.message.statusCode) != -1\r\n                    && this._allowRedirects\r\n                    && redirectsRemaining > 0) {\r\n                    const redirectUrl = response.message.headers[\"location\"];\r\n                    if (!redirectUrl) {\r\n                        // if there's no location to redirect to, we won't\r\n                        break;\r\n                    }\r\n                    // we need to finish reading the response before reassigning response\r\n                    // which will leak the open socket.\r\n                    yield response.readBody();\r\n                    // let's make the request with the new redirectUrl\r\n                    info = this._prepareRequest(verb, redirectUrl, headers);\r\n                    response = yield this.requestRaw(info, data);\r\n                    redirectsRemaining--;\r\n                }\r\n                if (HttpResponseRetryCodes.indexOf(response.message.statusCode) == -1) {\r\n                    // If not a retry code, return immediately instead of retrying\r\n                    return response;\r\n                }\r\n                numTries += 1;\r\n                if (numTries < maxTries) {\r\n                    yield response.readBody();\r\n                    yield this._performExponentialBackoff(numTries);\r\n                }\r\n            }\r\n            return response;\r\n        });\r\n    }\r\n    /**\r\n     * Needs to be called if keepAlive is set to true in request options.\r\n     */\r\n    dispose() {\r\n        if (this._agent) {\r\n            this._agent.destroy();\r\n        }\r\n        this._disposed = true;\r\n    }\r\n    /**\r\n     * Raw request.\r\n     * @param info\r\n     * @param data\r\n     */\r\n    requestRaw(info, data) {\r\n        return new Promise((resolve, reject) => {\r\n            let callbackForResult = function (err, res) {\r\n                if (err) {\r\n                    reject(err);\r\n                }\r\n                resolve(res);\r\n            };\r\n            this.requestRawWithCallback(info, data, callbackForResult);\r\n        });\r\n    }\r\n    /**\r\n     * Raw request with callback.\r\n     * @param info\r\n     * @param data\r\n     * @param onResult\r\n     */\r\n    requestRawWithCallback(info, data, onResult) {\r\n        let socket;\r\n        let isDataString = typeof (data) === 'string';\r\n        if (typeof (data) === 'string') {\r\n            info.options.headers[\"Content-Length\"] = Buffer.byteLength(data, 'utf8');\r\n        }\r\n        let callbackCalled = false;\r\n        let handleResult = (err, res) => {\r\n            if (!callbackCalled) {\r\n                callbackCalled = true;\r\n                onResult(err, res);\r\n            }\r\n        };\r\n        let req = info.httpModule.request(info.options, (msg) => {\r\n            let res = new HttpClientResponse(msg);\r\n            handleResult(null, res);\r\n        });\r\n        req.on('socket', (sock) => {\r\n            socket = sock;\r\n        });\r\n        // If we ever get disconnected, we want the socket to timeout eventually\r\n        req.setTimeout(this._socketTimeout || 3 * 60000, () => {\r\n            if (socket) {\r\n                socket.end();\r\n            }\r\n            handleResult(new Error('Request timeout: ' + info.options.path), null);\r\n        });\r\n        req.on('error', function (err) {\r\n            // err has statusCode property\r\n            // res should have headers\r\n            handleResult(err, null);\r\n        });\r\n        if (data && typeof (data) === 'string') {\r\n            req.write(data, 'utf8');\r\n        }\r\n        if (data && typeof (data) !== 'string') {\r\n            data.on('close', function () {\r\n                req.end();\r\n            });\r\n            data.pipe(req);\r\n        }\r\n        else {\r\n            req.end();\r\n        }\r\n    }\r\n    _prepareRequest(method, requestUrl, headers) {\r\n        const info = {};\r\n        info.parsedUrl = url.parse(requestUrl);\r\n        const usingSsl = info.parsedUrl.protocol === 'https:';\r\n        info.httpModule = usingSsl ? https : http;\r\n        const defaultPort = usingSsl ? 443 : 80;\r\n        info.options = {};\r\n        info.options.host = info.parsedUrl.hostname;\r\n        info.options.port = info.parsedUrl.port ? parseInt(info.parsedUrl.port) : defaultPort;\r\n        info.options.path = (info.parsedUrl.pathname || '') + (info.parsedUrl.search || '');\r\n        info.options.method = method;\r\n        info.options.headers = this._mergeHeaders(headers);\r\n        info.options.headers[\"user-agent\"] = this.userAgent;\r\n        info.options.agent = this._getAgent(requestUrl);\r\n        // gives handlers an opportunity to participate\r\n        if (this.handlers && !this._isPresigned(requestUrl)) {\r\n            this.handlers.forEach((handler) => {\r\n                handler.prepareRequest(info.options);\r\n            });\r\n        }\r\n        return info;\r\n    }\r\n    _isPresigned(requestUrl) {\r\n        if (this.requestOptions && this.requestOptions.presignedUrlPatterns) {\r\n            const patterns = this.requestOptions.presignedUrlPatterns;\r\n            for (let i = 0; i < patterns.length; i++) {\r\n                if (requestUrl.match(patterns[i])) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    _mergeHeaders(headers) {\r\n        const lowercaseKeys = obj => Object.keys(obj).reduce((c, k) => (c[k.toLowerCase()] = obj[k], c), {});\r\n        if (this.requestOptions && this.requestOptions.headers) {\r\n            return Object.assign({}, lowercaseKeys(this.requestOptions.headers), lowercaseKeys(headers));\r\n        }\r\n        return lowercaseKeys(headers || {});\r\n    }\r\n    _getAgent(requestUrl) {\r\n        let agent;\r\n        let proxy = this._getProxy(requestUrl);\r\n        let useProxy = proxy.proxyUrl && proxy.proxyUrl.hostname && !this._isBypassProxy(requestUrl);\r\n        if (this._keepAlive && useProxy) {\r\n            agent = this._proxyAgent;\r\n        }\r\n        if (this._keepAlive && !useProxy) {\r\n            agent = this._agent;\r\n        }\r\n        // if agent is already assigned use that agent.\r\n        if (!!agent) {\r\n            return agent;\r\n        }\r\n        let parsedUrl = url.parse(requestUrl);\r\n        const usingSsl = parsedUrl.protocol === 'https:';\r\n        let maxSockets = 100;\r\n        if (!!this.requestOptions) {\r\n            maxSockets = this.requestOptions.maxSockets || http.globalAgent.maxSockets;\r\n        }\r\n        if (useProxy) {\r\n            // If using proxy, need tunnel\r\n            if (!tunnel) {\r\n                tunnel = require('tunnel');\r\n            }\r\n            const agentOptions = {\r\n                maxSockets: maxSockets,\r\n                keepAlive: this._keepAlive,\r\n                proxy: {\r\n                    proxyAuth: proxy.proxyAuth,\r\n                    host: proxy.proxyUrl.hostname,\r\n                    port: proxy.proxyUrl.port\r\n                },\r\n            };\r\n            let tunnelAgent;\r\n            const overHttps = proxy.proxyUrl.protocol === 'https:';\r\n            if (usingSsl) {\r\n                tunnelAgent = overHttps ? tunnel.httpsOverHttps : tunnel.httpsOverHttp;\r\n            }\r\n            else {\r\n                tunnelAgent = overHttps ? tunnel.httpOverHttps : tunnel.httpOverHttp;\r\n            }\r\n            agent = tunnelAgent(agentOptions);\r\n            this._proxyAgent = agent;\r\n        }\r\n        // if reusing agent across request and tunneling agent isn't assigned create a new agent\r\n        if (this._keepAlive && !agent) {\r\n            const options = { keepAlive: this._keepAlive, maxSockets: maxSockets };\r\n            agent = usingSsl ? new https.Agent(options) : new http.Agent(options);\r\n            this._agent = agent;\r\n        }\r\n        // if not using private agent and tunnel agent isn't setup then use global agent\r\n        if (!agent) {\r\n            agent = usingSsl ? https.globalAgent : http.globalAgent;\r\n        }\r\n        if (usingSsl && this._ignoreSslError) {\r\n            // we don't want to set NODE_TLS_REJECT_UNAUTHORIZED=0 since that will affect request for entire process\r\n            // http.RequestOptions doesn't expose a way to modify RequestOptions.agent.options\r\n            // we have to cast it to any and change it directly\r\n            agent.options = Object.assign(agent.options || {}, { rejectUnauthorized: false });\r\n        }\r\n        if (usingSsl && this._certConfig) {\r\n            agent.options = Object.assign(agent.options || {}, { ca: this._ca, cert: this._cert, key: this._key, passphrase: this._certConfig.passphrase });\r\n        }\r\n        return agent;\r\n    }\r\n    _getProxy(requestUrl) {\r\n        const parsedUrl = url.parse(requestUrl);\r\n        let usingSsl = parsedUrl.protocol === 'https:';\r\n        let proxyConfig = this._httpProxy;\r\n        // fallback to http_proxy and https_proxy env\r\n        let https_proxy = process.env[EnvironmentVariables.HTTPS_PROXY];\r\n        let http_proxy = process.env[EnvironmentVariables.HTTP_PROXY];\r\n        if (!proxyConfig) {\r\n            if (https_proxy && usingSsl) {\r\n                proxyConfig = {\r\n                    proxyUrl: https_proxy\r\n                };\r\n            }\r\n            else if (http_proxy) {\r\n                proxyConfig = {\r\n                    proxyUrl: http_proxy\r\n                };\r\n            }\r\n        }\r\n        let proxyUrl;\r\n        let proxyAuth;\r\n        if (proxyConfig) {\r\n            if (proxyConfig.proxyUrl.length > 0) {\r\n                proxyUrl = url.parse(proxyConfig.proxyUrl);\r\n            }\r\n            if (proxyConfig.proxyUsername || proxyConfig.proxyPassword) {\r\n                proxyAuth = proxyConfig.proxyUsername + \":\" + proxyConfig.proxyPassword;\r\n            }\r\n        }\r\n        return { proxyUrl: proxyUrl, proxyAuth: proxyAuth };\r\n    }\r\n    _isBypassProxy(requestUrl) {\r\n        if (!this._httpProxyBypassHosts) {\r\n            return false;\r\n        }\r\n        let bypass = false;\r\n        this._httpProxyBypassHosts.forEach(bypassHost => {\r\n            if (bypassHost.test(requestUrl)) {\r\n                bypass = true;\r\n            }\r\n        });\r\n        return bypass;\r\n    }\r\n    _performExponentialBackoff(retryNumber) {\r\n        retryNumber = Math.min(ExponentialBackoffCeiling, retryNumber);\r\n        const ms = ExponentialBackoffTimeSlice * Math.pow(2, retryNumber);\r\n        return new Promise(resolve => setTimeout(() => resolve(), ms));\r\n    }\r\n}\r\nexports.HttpClient = HttpClient;\r\n","module.exports = require(\"url\");","module.exports = require('./lib/tunnel');\r\n","'use strict';\r\n\r\nvar net = require('net');\r\nvar tls = require('tls');\r\nvar http = require('http');\r\nvar https = require('https');\r\nvar events = require('events');\r\nvar assert = require('assert');\r\nvar util = require('util');\r\n\r\n\r\nexports.httpOverHttp = httpOverHttp;\r\nexports.httpsOverHttp = httpsOverHttp;\r\nexports.httpOverHttps = httpOverHttps;\r\nexports.httpsOverHttps = httpsOverHttps;\r\n\r\n\r\nfunction httpOverHttp(options) {\r\n  var agent = new TunnelingAgent(options);\r\n  agent.request = http.request;\r\n  return agent;\r\n}\r\n\r\nfunction httpsOverHttp(options) {\r\n  var agent = new TunnelingAgent(options);\r\n  agent.request = http.request;\r\n  agent.createSocket = createSecureSocket;\r\n  return agent;\r\n}\r\n\r\nfunction httpOverHttps(options) {\r\n  var agent = new TunnelingAgent(options);\r\n  agent.request = https.request;\r\n  return agent;\r\n}\r\n\r\nfunction httpsOverHttps(options) {\r\n  var agent = new TunnelingAgent(options);\r\n  agent.request = https.request;\r\n  agent.createSocket = createSecureSocket;\r\n  return agent;\r\n}\r\n\r\n\r\nfunction TunnelingAgent(options) {\r\n  var self = this;\r\n  self.options = options || {};\r\n  self.proxyOptions = self.options.proxy || {};\r\n  self.maxSockets = self.options.maxSockets || http.Agent.defaultMaxSockets;\r\n  self.requests = [];\r\n  self.sockets = [];\r\n\r\n  self.on('free', function onFree(socket, host, port, localAddress) {\r\n    var options = toOptions(host, port, localAddress);\r\n    for (var i = 0, len = self.requests.length; i < len; ++i) {\r\n      var pending = self.requests[i];\r\n      if (pending.host === options.host && pending.port === options.port) {\r\n        // Detect the request to connect same origin server,\r\n        // reuse the connection.\r\n        self.requests.splice(i, 1);\r\n        pending.request.onSocket(socket);\r\n        return;\r\n      }\r\n    }\r\n    socket.destroy();\r\n    self.removeSocket(socket);\r\n  });\r\n}\r\nutil.inherits(TunnelingAgent, events.EventEmitter);\r\n\r\nTunnelingAgent.prototype.addRequest = function addRequest(req, host, port, localAddress) {\r\n  var self = this;\r\n  var options = mergeOptions({request: req}, self.options, toOptions(host, port, localAddress));\r\n\r\n  if (self.sockets.length >= this.maxSockets) {\r\n    // We are over limit so we'll add it to the queue.\r\n    self.requests.push(options);\r\n    return;\r\n  }\r\n\r\n  // If we are under maxSockets create a new one.\r\n  self.createSocket(options, function(socket) {\r\n    socket.on('free', onFree);\r\n    socket.on('close', onCloseOrRemove);\r\n    socket.on('agentRemove', onCloseOrRemove);\r\n    req.onSocket(socket);\r\n\r\n    function onFree() {\r\n      self.emit('free', socket, options);\r\n    }\r\n\r\n    function onCloseOrRemove(err) {\r\n      self.removeSocket(socket);\r\n      socket.removeListener('free', onFree);\r\n      socket.removeListener('close', onCloseOrRemove);\r\n      socket.removeListener('agentRemove', onCloseOrRemove);\r\n    }\r\n  });\r\n};\r\n\r\nTunnelingAgent.prototype.createSocket = function createSocket(options, cb) {\r\n  var self = this;\r\n  var placeholder = {};\r\n  self.sockets.push(placeholder);\r\n\r\n  var connectOptions = mergeOptions({}, self.proxyOptions, {\r\n    method: 'CONNECT',\r\n    path: options.host + ':' + options.port,\r\n    agent: false\r\n  });\r\n  if (connectOptions.proxyAuth) {\r\n    connectOptions.headers = connectOptions.headers || {};\r\n    connectOptions.headers['Proxy-Authorization'] = 'Basic ' +\r\n        new Buffer(connectOptions.proxyAuth).toString('base64');\r\n  }\r\n\r\n  debug('making CONNECT request');\r\n  var connectReq = self.request(connectOptions);\r\n  connectReq.useChunkedEncodingByDefault = false; // for v0.6\r\n  connectReq.once('response', onResponse); // for v0.6\r\n  connectReq.once('upgrade', onUpgrade);   // for v0.6\r\n  connectReq.once('connect', onConnect);   // for v0.7 or later\r\n  connectReq.once('error', onError);\r\n  connectReq.end();\r\n\r\n  function onResponse(res) {\r\n    // Very hacky. This is necessary to avoid http-parser leaks.\r\n    res.upgrade = true;\r\n  }\r\n\r\n  function onUpgrade(res, socket, head) {\r\n    // Hacky.\r\n    process.nextTick(function() {\r\n      onConnect(res, socket, head);\r\n    });\r\n  }\r\n\r\n  function onConnect(res, socket, head) {\r\n    connectReq.removeAllListeners();\r\n    socket.removeAllListeners();\r\n\r\n    if (res.statusCode === 200) {\r\n      assert.equal(head.length, 0);\r\n      debug('tunneling connection has established');\r\n      self.sockets[self.sockets.indexOf(placeholder)] = socket;\r\n      cb(socket);\r\n    } else {\r\n      debug('tunneling socket could not be established, statusCode=%d',\r\n            res.statusCode);\r\n      var error = new Error('tunneling socket could not be established, ' +\r\n                            'statusCode=' + res.statusCode);\r\n      error.code = 'ECONNRESET';\r\n      options.request.emit('error', error);\r\n      self.removeSocket(placeholder);\r\n    }\r\n  }\r\n\r\n  function onError(cause) {\r\n    connectReq.removeAllListeners();\r\n\r\n    debug('tunneling socket could not be established, cause=%s\\n',\r\n          cause.message, cause.stack);\r\n    var error = new Error('tunneling socket could not be established, ' +\r\n                          'cause=' + cause.message);\r\n    error.code = 'ECONNRESET';\r\n    options.request.emit('error', error);\r\n    self.removeSocket(placeholder);\r\n  }\r\n};\r\n\r\nTunnelingAgent.prototype.removeSocket = function removeSocket(socket) {\r\n  var pos = this.sockets.indexOf(socket)\r\n  if (pos === -1) {\r\n    return;\r\n  }\r\n  this.sockets.splice(pos, 1);\r\n\r\n  var pending = this.requests.shift();\r\n  if (pending) {\r\n    // If we have pending requests and a socket gets closed a new one\r\n    // needs to be created to take over in the pool for the one that closed.\r\n    this.createSocket(pending, function(socket) {\r\n      pending.request.onSocket(socket);\r\n    });\r\n  }\r\n};\r\n\r\nfunction createSecureSocket(options, cb) {\r\n  var self = this;\r\n  TunnelingAgent.prototype.createSocket.call(self, options, function(socket) {\r\n    var hostHeader = options.request.getHeader('host');\r\n    var tlsOptions = mergeOptions({}, self.options, {\r\n      socket: socket,\r\n      servername: hostHeader ? hostHeader.replace(/:.*$/, '') : options.host\r\n    });\r\n\r\n    // 0 is dummy port for v0.6\r\n    var secureSocket = tls.connect(0, tlsOptions);\r\n    self.sockets[self.sockets.indexOf(socket)] = secureSocket;\r\n    cb(secureSocket);\r\n  });\r\n}\r\n\r\n\r\nfunction toOptions(host, port, localAddress) {\r\n  if (typeof host === 'string') { // since v0.10\r\n    return {\r\n      host: host,\r\n      port: port,\r\n      localAddress: localAddress\r\n    };\r\n  }\r\n  return host; // for v0.11 or later\r\n}\r\n\r\nfunction mergeOptions(target) {\r\n  for (var i = 1, len = arguments.length; i < len; ++i) {\r\n    var overrides = arguments[i];\r\n    if (typeof overrides === 'object') {\r\n      var keys = Object.keys(overrides);\r\n      for (var j = 0, keyLen = keys.length; j < keyLen; ++j) {\r\n        var k = keys[j];\r\n        if (overrides[k] !== undefined) {\r\n          target[k] = overrides[k];\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return target;\r\n}\r\n\r\n\r\nvar debug;\r\nif (process.env.NODE_DEBUG && /\\btunnel\\b/.test(process.env.NODE_DEBUG)) {\r\n  debug = function() {\r\n    var args = Array.prototype.slice.call(arguments);\r\n    if (typeof args[0] === 'string') {\r\n      args[0] = 'TUNNEL: ' + args[0];\r\n    } else {\r\n      args.unshift('TUNNEL:');\r\n    }\r\n    console.error.apply(console, args);\r\n  }\r\n} else {\r\n  debug = function() {};\r\n}\r\nexports.debug = debug; // for test\r\n","module.exports = require(\"net\");","module.exports = require(\"tls\");","exports = module.exports = SemVer\r\n\r\nvar debug\r\n/* istanbul ignore next */\r\nif (typeof process === 'object' &&\r\n    process.env &&\r\n    process.env.NODE_DEBUG &&\r\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\r\n  debug = function () {\r\n    var args = Array.prototype.slice.call(arguments, 0)\r\n    args.unshift('SEMVER')\r\n    console.log.apply(console, args)\r\n  }\r\n} else {\r\n  debug = function () {}\r\n}\r\n\r\n// Note: this is the semver.org version of the spec that it implements\r\n// Not necessarily the package version of this code.\r\nexports.SEMVER_SPEC_VERSION = '2.0.0'\r\n\r\nvar MAX_LENGTH = 256\r\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\r\n  /* istanbul ignore next */ 9007199254740991\r\n\r\n// Max safe segment length for coercion.\r\nvar MAX_SAFE_COMPONENT_LENGTH = 16\r\n\r\n// The actual regexps go on exports.re\r\nvar re = exports.re = []\r\nvar src = exports.src = []\r\nvar t = exports.tokens = {}\r\nvar R = 0\r\n\r\nfunction tok (n) {\r\n  t[n] = R++\r\n}\r\n\r\n// The following Regular Expressions can be used for tokenizing,\r\n// validating, and parsing SemVer version strings.\r\n\r\n// ## Numeric Identifier\r\n// A single `0`, or a non-zero digit followed by zero or more digits.\r\n\r\ntok('NUMERICIDENTIFIER')\r\nsrc[t.NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\r\ntok('NUMERICIDENTIFIERLOOSE')\r\nsrc[t.NUMERICIDENTIFIERLOOSE] = '[0-9]+'\r\n\r\n// ## Non-numeric Identifier\r\n// Zero or more digits, followed by a letter or hyphen, and then zero or\r\n// more letters, digits, or hyphens.\r\n\r\ntok('NONNUMERICIDENTIFIER')\r\nsrc[t.NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\r\n\r\n// ## Main Version\r\n// Three dot-separated numeric identifiers.\r\n\r\ntok('MAINVERSION')\r\nsrc[t.MAINVERSION] = '(' + src[t.NUMERICIDENTIFIER] + ')\\\\.' +\r\n                   '(' + src[t.NUMERICIDENTIFIER] + ')\\\\.' +\r\n                   '(' + src[t.NUMERICIDENTIFIER] + ')'\r\n\r\ntok('MAINVERSIONLOOSE')\r\nsrc[t.MAINVERSIONLOOSE] = '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\r\n                        '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\r\n                        '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')'\r\n\r\n// ## Pre-release Version Identifier\r\n// A numeric identifier, or a non-numeric identifier.\r\n\r\ntok('PRERELEASEIDENTIFIER')\r\nsrc[t.PRERELEASEIDENTIFIER] = '(?:' + src[t.NUMERICIDENTIFIER] +\r\n                            '|' + src[t.NONNUMERICIDENTIFIER] + ')'\r\n\r\ntok('PRERELEASEIDENTIFIERLOOSE')\r\nsrc[t.PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[t.NUMERICIDENTIFIERLOOSE] +\r\n                                 '|' + src[t.NONNUMERICIDENTIFIER] + ')'\r\n\r\n// ## Pre-release Version\r\n// Hyphen, followed by one or more dot-separated pre-release version\r\n// identifiers.\r\n\r\ntok('PRERELEASE')\r\nsrc[t.PRERELEASE] = '(?:-(' + src[t.PRERELEASEIDENTIFIER] +\r\n                  '(?:\\\\.' + src[t.PRERELEASEIDENTIFIER] + ')*))'\r\n\r\ntok('PRERELEASELOOSE')\r\nsrc[t.PRERELEASELOOSE] = '(?:-?(' + src[t.PRERELEASEIDENTIFIERLOOSE] +\r\n                       '(?:\\\\.' + src[t.PRERELEASEIDENTIFIERLOOSE] + ')*))'\r\n\r\n// ## Build Metadata Identifier\r\n// Any combination of digits, letters, or hyphens.\r\n\r\ntok('BUILDIDENTIFIER')\r\nsrc[t.BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\r\n\r\n// ## Build Metadata\r\n// Plus sign, followed by one or more period-separated build metadata\r\n// identifiers.\r\n\r\ntok('BUILD')\r\nsrc[t.BUILD] = '(?:\\\\+(' + src[t.BUILDIDENTIFIER] +\r\n             '(?:\\\\.' + src[t.BUILDIDENTIFIER] + ')*))'\r\n\r\n// ## Full Version String\r\n// A main version, followed optionally by a pre-release version and\r\n// build metadata.\r\n\r\n// Note that the only major, minor, patch, and pre-release sections of\r\n// the version string are capturing groups.  The build metadata is not a\r\n// capturing group, because it should not ever be used in version\r\n// comparison.\r\n\r\ntok('FULL')\r\ntok('FULLPLAIN')\r\nsrc[t.FULLPLAIN] = 'v?' + src[t.MAINVERSION] +\r\n                  src[t.PRERELEASE] + '?' +\r\n                  src[t.BUILD] + '?'\r\n\r\nsrc[t.FULL] = '^' + src[t.FULLPLAIN] + '$'\r\n\r\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\r\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\r\n// common in the npm registry.\r\ntok('LOOSEPLAIN')\r\nsrc[t.LOOSEPLAIN] = '[v=\\\\s]*' + src[t.MAINVERSIONLOOSE] +\r\n                  src[t.PRERELEASELOOSE] + '?' +\r\n                  src[t.BUILD] + '?'\r\n\r\ntok('LOOSE')\r\nsrc[t.LOOSE] = '^' + src[t.LOOSEPLAIN] + '$'\r\n\r\ntok('GTLT')\r\nsrc[t.GTLT] = '((?:<|>)?=?)'\r\n\r\n// Something like \"2.*\" or \"1.2.x\".\r\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\r\n// Only the first item is strictly required.\r\ntok('XRANGEIDENTIFIERLOOSE')\r\nsrc[t.XRANGEIDENTIFIERLOOSE] = src[t.NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\r\ntok('XRANGEIDENTIFIER')\r\nsrc[t.XRANGEIDENTIFIER] = src[t.NUMERICIDENTIFIER] + '|x|X|\\\\*'\r\n\r\ntok('XRANGEPLAIN')\r\nsrc[t.XRANGEPLAIN] = '[v=\\\\s]*(' + src[t.XRANGEIDENTIFIER] + ')' +\r\n                   '(?:\\\\.(' + src[t.XRANGEIDENTIFIER] + ')' +\r\n                   '(?:\\\\.(' + src[t.XRANGEIDENTIFIER] + ')' +\r\n                   '(?:' + src[t.PRERELEASE] + ')?' +\r\n                   src[t.BUILD] + '?' +\r\n                   ')?)?'\r\n\r\ntok('XRANGEPLAINLOOSE')\r\nsrc[t.XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\r\n                        '(?:\\\\.(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\r\n                        '(?:\\\\.(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\r\n                        '(?:' + src[t.PRERELEASELOOSE] + ')?' +\r\n                        src[t.BUILD] + '?' +\r\n                        ')?)?'\r\n\r\ntok('XRANGE')\r\nsrc[t.XRANGE] = '^' + src[t.GTLT] + '\\\\s*' + src[t.XRANGEPLAIN] + '$'\r\ntok('XRANGELOOSE')\r\nsrc[t.XRANGELOOSE] = '^' + src[t.GTLT] + '\\\\s*' + src[t.XRANGEPLAINLOOSE] + '$'\r\n\r\n// Coercion.\r\n// Extract anything that could conceivably be a part of a valid semver\r\ntok('COERCE')\r\nsrc[t.COERCE] = '(^|[^\\\\d])' +\r\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\r\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\r\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\r\n              '(?:$|[^\\\\d])'\r\ntok('COERCERTL')\r\nre[t.COERCERTL] = new RegExp(src[t.COERCE], 'g')\r\n\r\n// Tilde ranges.\r\n// Meaning is \"reasonably at or greater than\"\r\ntok('LONETILDE')\r\nsrc[t.LONETILDE] = '(?:~>?)'\r\n\r\ntok('TILDETRIM')\r\nsrc[t.TILDETRIM] = '(\\\\s*)' + src[t.LONETILDE] + '\\\\s+'\r\nre[t.TILDETRIM] = new RegExp(src[t.TILDETRIM], 'g')\r\nvar tildeTrimReplace = '$1~'\r\n\r\ntok('TILDE')\r\nsrc[t.TILDE] = '^' + src[t.LONETILDE] + src[t.XRANGEPLAIN] + '$'\r\ntok('TILDELOOSE')\r\nsrc[t.TILDELOOSE] = '^' + src[t.LONETILDE] + src[t.XRANGEPLAINLOOSE] + '$'\r\n\r\n// Caret ranges.\r\n// Meaning is \"at least and backwards compatible with\"\r\ntok('LONECARET')\r\nsrc[t.LONECARET] = '(?:\\\\^)'\r\n\r\ntok('CARETTRIM')\r\nsrc[t.CARETTRIM] = '(\\\\s*)' + src[t.LONECARET] + '\\\\s+'\r\nre[t.CARETTRIM] = new RegExp(src[t.CARETTRIM], 'g')\r\nvar caretTrimReplace = '$1^'\r\n\r\ntok('CARET')\r\nsrc[t.CARET] = '^' + src[t.LONECARET] + src[t.XRANGEPLAIN] + '$'\r\ntok('CARETLOOSE')\r\nsrc[t.CARETLOOSE] = '^' + src[t.LONECARET] + src[t.XRANGEPLAINLOOSE] + '$'\r\n\r\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\r\ntok('COMPARATORLOOSE')\r\nsrc[t.COMPARATORLOOSE] = '^' + src[t.GTLT] + '\\\\s*(' + src[t.LOOSEPLAIN] + ')$|^$'\r\ntok('COMPARATOR')\r\nsrc[t.COMPARATOR] = '^' + src[t.GTLT] + '\\\\s*(' + src[t.FULLPLAIN] + ')$|^$'\r\n\r\n// An expression to strip any whitespace between the gtlt and the thing\r\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\r\ntok('COMPARATORTRIM')\r\nsrc[t.COMPARATORTRIM] = '(\\\\s*)' + src[t.GTLT] +\r\n                      '\\\\s*(' + src[t.LOOSEPLAIN] + '|' + src[t.XRANGEPLAIN] + ')'\r\n\r\n// this one has to use the /g flag\r\nre[t.COMPARATORTRIM] = new RegExp(src[t.COMPARATORTRIM], 'g')\r\nvar comparatorTrimReplace = '$1$2$3'\r\n\r\n// Something like `1.2.3 - 1.2.4`\r\n// Note that these all use the loose form, because they'll be\r\n// checked against either the strict or loose comparator form\r\n// later.\r\ntok('HYPHENRANGE')\r\nsrc[t.HYPHENRANGE] = '^\\\\s*(' + src[t.XRANGEPLAIN] + ')' +\r\n                   '\\\\s+-\\\\s+' +\r\n                   '(' + src[t.XRANGEPLAIN] + ')' +\r\n                   '\\\\s*$'\r\n\r\ntok('HYPHENRANGELOOSE')\r\nsrc[t.HYPHENRANGELOOSE] = '^\\\\s*(' + src[t.XRANGEPLAINLOOSE] + ')' +\r\n                        '\\\\s+-\\\\s+' +\r\n                        '(' + src[t.XRANGEPLAINLOOSE] + ')' +\r\n                        '\\\\s*$'\r\n\r\n// Star ranges basically just allow anything at all.\r\ntok('STAR')\r\nsrc[t.STAR] = '(<|>)?=?\\\\s*\\\\*'\r\n\r\n// Compile to actual regexp objects.\r\n// All are flag-free, unless they were created above with a flag.\r\nfor (var i = 0; i < R; i++) {\r\n  debug(i, src[i])\r\n  if (!re[i]) {\r\n    re[i] = new RegExp(src[i])\r\n  }\r\n}\r\n\r\nexports.parse = parse\r\nfunction parse (version, options) {\r\n  if (!options || typeof options !== 'object') {\r\n    options = {\r\n      loose: !!options,\r\n      includePrerelease: false\r\n    }\r\n  }\r\n\r\n  if (version instanceof SemVer) {\r\n    return version\r\n  }\r\n\r\n  if (typeof version !== 'string') {\r\n    return null\r\n  }\r\n\r\n  if (version.length > MAX_LENGTH) {\r\n    return null\r\n  }\r\n\r\n  var r = options.loose ? re[t.LOOSE] : re[t.FULL]\r\n  if (!r.test(version)) {\r\n    return null\r\n  }\r\n\r\n  try {\r\n    return new SemVer(version, options)\r\n  } catch (er) {\r\n    return null\r\n  }\r\n}\r\n\r\nexports.valid = valid\r\nfunction valid (version, options) {\r\n  var v = parse(version, options)\r\n  return v ? v.version : null\r\n}\r\n\r\nexports.clean = clean\r\nfunction clean (version, options) {\r\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\r\n  return s ? s.version : null\r\n}\r\n\r\nexports.SemVer = SemVer\r\n\r\nfunction SemVer (version, options) {\r\n  if (!options || typeof options !== 'object') {\r\n    options = {\r\n      loose: !!options,\r\n      includePrerelease: false\r\n    }\r\n  }\r\n  if (version instanceof SemVer) {\r\n    if (version.loose === options.loose) {\r\n      return version\r\n    } else {\r\n      version = version.version\r\n    }\r\n  } else if (typeof version !== 'string') {\r\n    throw new TypeError('Invalid Version: ' + version)\r\n  }\r\n\r\n  if (version.length > MAX_LENGTH) {\r\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\r\n  }\r\n\r\n  if (!(this instanceof SemVer)) {\r\n    return new SemVer(version, options)\r\n  }\r\n\r\n  debug('SemVer', version, options)\r\n  this.options = options\r\n  this.loose = !!options.loose\r\n\r\n  var m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\r\n\r\n  if (!m) {\r\n    throw new TypeError('Invalid Version: ' + version)\r\n  }\r\n\r\n  this.raw = version\r\n\r\n  // these are actually numbers\r\n  this.major = +m[1]\r\n  this.minor = +m[2]\r\n  this.patch = +m[3]\r\n\r\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\r\n    throw new TypeError('Invalid major version')\r\n  }\r\n\r\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\r\n    throw new TypeError('Invalid minor version')\r\n  }\r\n\r\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\r\n    throw new TypeError('Invalid patch version')\r\n  }\r\n\r\n  // numberify any prerelease numeric ids\r\n  if (!m[4]) {\r\n    this.prerelease = []\r\n  } else {\r\n    this.prerelease = m[4].split('.').map(function (id) {\r\n      if (/^[0-9]+$/.test(id)) {\r\n        var num = +id\r\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\r\n          return num\r\n        }\r\n      }\r\n      return id\r\n    })\r\n  }\r\n\r\n  this.build = m[5] ? m[5].split('.') : []\r\n  this.format()\r\n}\r\n\r\nSemVer.prototype.format = function () {\r\n  this.version = this.major + '.' + this.minor + '.' + this.patch\r\n  if (this.prerelease.length) {\r\n    this.version += '-' + this.prerelease.join('.')\r\n  }\r\n  return this.version\r\n}\r\n\r\nSemVer.prototype.toString = function () {\r\n  return this.version\r\n}\r\n\r\nSemVer.prototype.compare = function (other) {\r\n  debug('SemVer.compare', this.version, this.options, other)\r\n  if (!(other instanceof SemVer)) {\r\n    other = new SemVer(other, this.options)\r\n  }\r\n\r\n  return this.compareMain(other) || this.comparePre(other)\r\n}\r\n\r\nSemVer.prototype.compareMain = function (other) {\r\n  if (!(other instanceof SemVer)) {\r\n    other = new SemVer(other, this.options)\r\n  }\r\n\r\n  return compareIdentifiers(this.major, other.major) ||\r\n         compareIdentifiers(this.minor, other.minor) ||\r\n         compareIdentifiers(this.patch, other.patch)\r\n}\r\n\r\nSemVer.prototype.comparePre = function (other) {\r\n  if (!(other instanceof SemVer)) {\r\n    other = new SemVer(other, this.options)\r\n  }\r\n\r\n  // NOT having a prerelease is > having one\r\n  if (this.prerelease.length && !other.prerelease.length) {\r\n    return -1\r\n  } else if (!this.prerelease.length && other.prerelease.length) {\r\n    return 1\r\n  } else if (!this.prerelease.length && !other.prerelease.length) {\r\n    return 0\r\n  }\r\n\r\n  var i = 0\r\n  do {\r\n    var a = this.prerelease[i]\r\n    var b = other.prerelease[i]\r\n    debug('prerelease compare', i, a, b)\r\n    if (a === undefined && b === undefined) {\r\n      return 0\r\n    } else if (b === undefined) {\r\n      return 1\r\n    } else if (a === undefined) {\r\n      return -1\r\n    } else if (a === b) {\r\n      continue\r\n    } else {\r\n      return compareIdentifiers(a, b)\r\n    }\r\n  } while (++i)\r\n}\r\n\r\nSemVer.prototype.compareBuild = function (other) {\r\n  if (!(other instanceof SemVer)) {\r\n    other = new SemVer(other, this.options)\r\n  }\r\n\r\n  var i = 0\r\n  do {\r\n    var a = this.build[i]\r\n    var b = other.build[i]\r\n    debug('prerelease compare', i, a, b)\r\n    if (a === undefined && b === undefined) {\r\n      return 0\r\n    } else if (b === undefined) {\r\n      return 1\r\n    } else if (a === undefined) {\r\n      return -1\r\n    } else if (a === b) {\r\n      continue\r\n    } else {\r\n      return compareIdentifiers(a, b)\r\n    }\r\n  } while (++i)\r\n}\r\n\r\n// preminor will bump the version up to the next minor release, and immediately\r\n// down to pre-release. premajor and prepatch work the same way.\r\nSemVer.prototype.inc = function (release, identifier) {\r\n  switch (release) {\r\n    case 'premajor':\r\n      this.prerelease.length = 0\r\n      this.patch = 0\r\n      this.minor = 0\r\n      this.major++\r\n      this.inc('pre', identifier)\r\n      break\r\n    case 'preminor':\r\n      this.prerelease.length = 0\r\n      this.patch = 0\r\n      this.minor++\r\n      this.inc('pre', identifier)\r\n      break\r\n    case 'prepatch':\r\n      // If this is already a prerelease, it will bump to the next version\r\n      // drop any prereleases that might already exist, since they are not\r\n      // relevant at this point.\r\n      this.prerelease.length = 0\r\n      this.inc('patch', identifier)\r\n      this.inc('pre', identifier)\r\n      break\r\n    // If the input is a non-prerelease version, this acts the same as\r\n    // prepatch.\r\n    case 'prerelease':\r\n      if (this.prerelease.length === 0) {\r\n        this.inc('patch', identifier)\r\n      }\r\n      this.inc('pre', identifier)\r\n      break\r\n\r\n    case 'major':\r\n      // If this is a pre-major version, bump up to the same major version.\r\n      // Otherwise increment major.\r\n      // 1.0.0-5 bumps to 1.0.0\r\n      // 1.1.0 bumps to 2.0.0\r\n      if (this.minor !== 0 ||\r\n          this.patch !== 0 ||\r\n          this.prerelease.length === 0) {\r\n        this.major++\r\n      }\r\n      this.minor = 0\r\n      this.patch = 0\r\n      this.prerelease = []\r\n      break\r\n    case 'minor':\r\n      // If this is a pre-minor version, bump up to the same minor version.\r\n      // Otherwise increment minor.\r\n      // 1.2.0-5 bumps to 1.2.0\r\n      // 1.2.1 bumps to 1.3.0\r\n      if (this.patch !== 0 || this.prerelease.length === 0) {\r\n        this.minor++\r\n      }\r\n      this.patch = 0\r\n      this.prerelease = []\r\n      break\r\n    case 'patch':\r\n      // If this is not a pre-release version, it will increment the patch.\r\n      // If it is a pre-release it will bump up to the same patch version.\r\n      // 1.2.0-5 patches to 1.2.0\r\n      // 1.2.0 patches to 1.2.1\r\n      if (this.prerelease.length === 0) {\r\n        this.patch++\r\n      }\r\n      this.prerelease = []\r\n      break\r\n    // This probably shouldn't be used publicly.\r\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\r\n    case 'pre':\r\n      if (this.prerelease.length === 0) {\r\n        this.prerelease = [0]\r\n      } else {\r\n        var i = this.prerelease.length\r\n        while (--i >= 0) {\r\n          if (typeof this.prerelease[i] === 'number') {\r\n            this.prerelease[i]++\r\n            i = -2\r\n          }\r\n        }\r\n        if (i === -1) {\r\n          // didn't increment anything\r\n          this.prerelease.push(0)\r\n        }\r\n      }\r\n      if (identifier) {\r\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\r\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\r\n        if (this.prerelease[0] === identifier) {\r\n          if (isNaN(this.prerelease[1])) {\r\n            this.prerelease = [identifier, 0]\r\n          }\r\n        } else {\r\n          this.prerelease = [identifier, 0]\r\n        }\r\n      }\r\n      break\r\n\r\n    default:\r\n      throw new Error('invalid increment argument: ' + release)\r\n  }\r\n  this.format()\r\n  this.raw = this.version\r\n  return this\r\n}\r\n\r\nexports.inc = inc\r\nfunction inc (version, release, loose, identifier) {\r\n  if (typeof (loose) === 'string') {\r\n    identifier = loose\r\n    loose = undefined\r\n  }\r\n\r\n  try {\r\n    return new SemVer(version, loose).inc(release, identifier).version\r\n  } catch (er) {\r\n    return null\r\n  }\r\n}\r\n\r\nexports.diff = diff\r\nfunction diff (version1, version2) {\r\n  if (eq(version1, version2)) {\r\n    return null\r\n  } else {\r\n    var v1 = parse(version1)\r\n    var v2 = parse(version2)\r\n    var prefix = ''\r\n    if (v1.prerelease.length || v2.prerelease.length) {\r\n      prefix = 'pre'\r\n      var defaultResult = 'prerelease'\r\n    }\r\n    for (var key in v1) {\r\n      if (key === 'major' || key === 'minor' || key === 'patch') {\r\n        if (v1[key] !== v2[key]) {\r\n          return prefix + key\r\n        }\r\n      }\r\n    }\r\n    return defaultResult // may be undefined\r\n  }\r\n}\r\n\r\nexports.compareIdentifiers = compareIdentifiers\r\n\r\nvar numeric = /^[0-9]+$/\r\nfunction compareIdentifiers (a, b) {\r\n  var anum = numeric.test(a)\r\n  var bnum = numeric.test(b)\r\n\r\n  if (anum && bnum) {\r\n    a = +a\r\n    b = +b\r\n  }\r\n\r\n  return a === b ? 0\r\n    : (anum && !bnum) ? -1\r\n    : (bnum && !anum) ? 1\r\n    : a < b ? -1\r\n    : 1\r\n}\r\n\r\nexports.rcompareIdentifiers = rcompareIdentifiers\r\nfunction rcompareIdentifiers (a, b) {\r\n  return compareIdentifiers(b, a)\r\n}\r\n\r\nexports.major = major\r\nfunction major (a, loose) {\r\n  return new SemVer(a, loose).major\r\n}\r\n\r\nexports.minor = minor\r\nfunction minor (a, loose) {\r\n  return new SemVer(a, loose).minor\r\n}\r\n\r\nexports.patch = patch\r\nfunction patch (a, loose) {\r\n  return new SemVer(a, loose).patch\r\n}\r\n\r\nexports.compare = compare\r\nfunction compare (a, b, loose) {\r\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\r\n}\r\n\r\nexports.compareLoose = compareLoose\r\nfunction compareLoose (a, b) {\r\n  return compare(a, b, true)\r\n}\r\n\r\nexports.compareBuild = compareBuild\r\nfunction compareBuild (a, b, loose) {\r\n  var versionA = new SemVer(a, loose)\r\n  var versionB = new SemVer(b, loose)\r\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\r\n}\r\n\r\nexports.rcompare = rcompare\r\nfunction rcompare (a, b, loose) {\r\n  return compare(b, a, loose)\r\n}\r\n\r\nexports.sort = sort\r\nfunction sort (list, loose) {\r\n  return list.sort(function (a, b) {\r\n    return exports.compareBuild(a, b, loose)\r\n  })\r\n}\r\n\r\nexports.rsort = rsort\r\nfunction rsort (list, loose) {\r\n  return list.sort(function (a, b) {\r\n    return exports.compareBuild(b, a, loose)\r\n  })\r\n}\r\n\r\nexports.gt = gt\r\nfunction gt (a, b, loose) {\r\n  return compare(a, b, loose) > 0\r\n}\r\n\r\nexports.lt = lt\r\nfunction lt (a, b, loose) {\r\n  return compare(a, b, loose) < 0\r\n}\r\n\r\nexports.eq = eq\r\nfunction eq (a, b, loose) {\r\n  return compare(a, b, loose) === 0\r\n}\r\n\r\nexports.neq = neq\r\nfunction neq (a, b, loose) {\r\n  return compare(a, b, loose) !== 0\r\n}\r\n\r\nexports.gte = gte\r\nfunction gte (a, b, loose) {\r\n  return compare(a, b, loose) >= 0\r\n}\r\n\r\nexports.lte = lte\r\nfunction lte (a, b, loose) {\r\n  return compare(a, b, loose) <= 0\r\n}\r\n\r\nexports.cmp = cmp\r\nfunction cmp (a, op, b, loose) {\r\n  switch (op) {\r\n    case '===':\r\n      if (typeof a === 'object')\r\n        a = a.version\r\n      if (typeof b === 'object')\r\n        b = b.version\r\n      return a === b\r\n\r\n    case '!==':\r\n      if (typeof a === 'object')\r\n        a = a.version\r\n      if (typeof b === 'object')\r\n        b = b.version\r\n      return a !== b\r\n\r\n    case '':\r\n    case '=':\r\n    case '==':\r\n      return eq(a, b, loose)\r\n\r\n    case '!=':\r\n      return neq(a, b, loose)\r\n\r\n    case '>':\r\n      return gt(a, b, loose)\r\n\r\n    case '>=':\r\n      return gte(a, b, loose)\r\n\r\n    case '<':\r\n      return lt(a, b, loose)\r\n\r\n    case '<=':\r\n      return lte(a, b, loose)\r\n\r\n    default:\r\n      throw new TypeError('Invalid operator: ' + op)\r\n  }\r\n}\r\n\r\nexports.Comparator = Comparator\r\nfunction Comparator (comp, options) {\r\n  if (!options || typeof options !== 'object') {\r\n    options = {\r\n      loose: !!options,\r\n      includePrerelease: false\r\n    }\r\n  }\r\n\r\n  if (comp instanceof Comparator) {\r\n    if (comp.loose === !!options.loose) {\r\n      return comp\r\n    } else {\r\n      comp = comp.value\r\n    }\r\n  }\r\n\r\n  if (!(this instanceof Comparator)) {\r\n    return new Comparator(comp, options)\r\n  }\r\n\r\n  debug('comparator', comp, options)\r\n  this.options = options\r\n  this.loose = !!options.loose\r\n  this.parse(comp)\r\n\r\n  if (this.semver === ANY) {\r\n    this.value = ''\r\n  } else {\r\n    this.value = this.operator + this.semver.version\r\n  }\r\n\r\n  debug('comp', this)\r\n}\r\n\r\nvar ANY = {}\r\nComparator.prototype.parse = function (comp) {\r\n  var r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\r\n  var m = comp.match(r)\r\n\r\n  if (!m) {\r\n    throw new TypeError('Invalid comparator: ' + comp)\r\n  }\r\n\r\n  this.operator = m[1] !== undefined ? m[1] : ''\r\n  if (this.operator === '=') {\r\n    this.operator = ''\r\n  }\r\n\r\n  // if it literally is just '>' or '' then allow anything.\r\n  if (!m[2]) {\r\n    this.semver = ANY\r\n  } else {\r\n    this.semver = new SemVer(m[2], this.options.loose)\r\n  }\r\n}\r\n\r\nComparator.prototype.toString = function () {\r\n  return this.value\r\n}\r\n\r\nComparator.prototype.test = function (version) {\r\n  debug('Comparator.test', version, this.options.loose)\r\n\r\n  if (this.semver === ANY || version === ANY) {\r\n    return true\r\n  }\r\n\r\n  if (typeof version === 'string') {\r\n    try {\r\n      version = new SemVer(version, this.options)\r\n    } catch (er) {\r\n      return false\r\n    }\r\n  }\r\n\r\n  return cmp(version, this.operator, this.semver, this.options)\r\n}\r\n\r\nComparator.prototype.intersects = function (comp, options) {\r\n  if (!(comp instanceof Comparator)) {\r\n    throw new TypeError('a Comparator is required')\r\n  }\r\n\r\n  if (!options || typeof options !== 'object') {\r\n    options = {\r\n      loose: !!options,\r\n      includePrerelease: false\r\n    }\r\n  }\r\n\r\n  var rangeTmp\r\n\r\n  if (this.operator === '') {\r\n    if (this.value === '') {\r\n      return true\r\n    }\r\n    rangeTmp = new Range(comp.value, options)\r\n    return satisfies(this.value, rangeTmp, options)\r\n  } else if (comp.operator === '') {\r\n    if (comp.value === '') {\r\n      return true\r\n    }\r\n    rangeTmp = new Range(this.value, options)\r\n    return satisfies(comp.semver, rangeTmp, options)\r\n  }\r\n\r\n  var sameDirectionIncreasing =\r\n    (this.operator === '>=' || this.operator === '>') &&\r\n    (comp.operator === '>=' || comp.operator === '>')\r\n  var sameDirectionDecreasing =\r\n    (this.operator === '<=' || this.operator === '<') &&\r\n    (comp.operator === '<=' || comp.operator === '<')\r\n  var sameSemVer = this.semver.version === comp.semver.version\r\n  var differentDirectionsInclusive =\r\n    (this.operator === '>=' || this.operator === '<=') &&\r\n    (comp.operator === '>=' || comp.operator === '<=')\r\n  var oppositeDirectionsLessThan =\r\n    cmp(this.semver, '<', comp.semver, options) &&\r\n    ((this.operator === '>=' || this.operator === '>') &&\r\n    (comp.operator === '<=' || comp.operator === '<'))\r\n  var oppositeDirectionsGreaterThan =\r\n    cmp(this.semver, '>', comp.semver, options) &&\r\n    ((this.operator === '<=' || this.operator === '<') &&\r\n    (comp.operator === '>=' || comp.operator === '>'))\r\n\r\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\r\n    (sameSemVer && differentDirectionsInclusive) ||\r\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\r\n}\r\n\r\nexports.Range = Range\r\nfunction Range (range, options) {\r\n  if (!options || typeof options !== 'object') {\r\n    options = {\r\n      loose: !!options,\r\n      includePrerelease: false\r\n    }\r\n  }\r\n\r\n  if (range instanceof Range) {\r\n    if (range.loose === !!options.loose &&\r\n        range.includePrerelease === !!options.includePrerelease) {\r\n      return range\r\n    } else {\r\n      return new Range(range.raw, options)\r\n    }\r\n  }\r\n\r\n  if (range instanceof Comparator) {\r\n    return new Range(range.value, options)\r\n  }\r\n\r\n  if (!(this instanceof Range)) {\r\n    return new Range(range, options)\r\n  }\r\n\r\n  this.options = options\r\n  this.loose = !!options.loose\r\n  this.includePrerelease = !!options.includePrerelease\r\n\r\n  // First, split based on boolean or ||\r\n  this.raw = range\r\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\r\n    return this.parseRange(range.trim())\r\n  }, this).filter(function (c) {\r\n    // throw out any that are not relevant for whatever reason\r\n    return c.length\r\n  })\r\n\r\n  if (!this.set.length) {\r\n    throw new TypeError('Invalid SemVer Range: ' + range)\r\n  }\r\n\r\n  this.format()\r\n}\r\n\r\nRange.prototype.format = function () {\r\n  this.range = this.set.map(function (comps) {\r\n    return comps.join(' ').trim()\r\n  }).join('||').trim()\r\n  return this.range\r\n}\r\n\r\nRange.prototype.toString = function () {\r\n  return this.range\r\n}\r\n\r\nRange.prototype.parseRange = function (range) {\r\n  var loose = this.options.loose\r\n  range = range.trim()\r\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\r\n  var hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\r\n  range = range.replace(hr, hyphenReplace)\r\n  debug('hyphen replace', range)\r\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\r\n  range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\r\n  debug('comparator trim', range, re[t.COMPARATORTRIM])\r\n\r\n  // `~ 1.2.3` => `~1.2.3`\r\n  range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\r\n\r\n  // `^ 1.2.3` => `^1.2.3`\r\n  range = range.replace(re[t.CARETTRIM], caretTrimReplace)\r\n\r\n  // normalize spaces\r\n  range = range.split(/\\s+/).join(' ')\r\n\r\n  // At this point, the range is completely trimmed and\r\n  // ready to be split into comparators.\r\n\r\n  var compRe = loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\r\n  var set = range.split(' ').map(function (comp) {\r\n    return parseComparator(comp, this.options)\r\n  }, this).join(' ').split(/\\s+/)\r\n  if (this.options.loose) {\r\n    // in loose mode, throw out any that are not valid comparators\r\n    set = set.filter(function (comp) {\r\n      return !!comp.match(compRe)\r\n    })\r\n  }\r\n  set = set.map(function (comp) {\r\n    return new Comparator(comp, this.options)\r\n  }, this)\r\n\r\n  return set\r\n}\r\n\r\nRange.prototype.intersects = function (range, options) {\r\n  if (!(range instanceof Range)) {\r\n    throw new TypeError('a Range is required')\r\n  }\r\n\r\n  return this.set.some(function (thisComparators) {\r\n    return (\r\n      isSatisfiable(thisComparators, options) &&\r\n      range.set.some(function (rangeComparators) {\r\n        return (\r\n          isSatisfiable(rangeComparators, options) &&\r\n          thisComparators.every(function (thisComparator) {\r\n            return rangeComparators.every(function (rangeComparator) {\r\n              return thisComparator.intersects(rangeComparator, options)\r\n            })\r\n          })\r\n        )\r\n      })\r\n    )\r\n  })\r\n}\r\n\r\n// take a set of comparators and determine whether there\r\n// exists a version which can satisfy it\r\nfunction isSatisfiable (comparators, options) {\r\n  var result = true\r\n  var remainingComparators = comparators.slice()\r\n  var testComparator = remainingComparators.pop()\r\n\r\n  while (result && remainingComparators.length) {\r\n    result = remainingComparators.every(function (otherComparator) {\r\n      return testComparator.intersects(otherComparator, options)\r\n    })\r\n\r\n    testComparator = remainingComparators.pop()\r\n  }\r\n\r\n  return result\r\n}\r\n\r\n// Mostly just for testing and legacy API reasons\r\nexports.toComparators = toComparators\r\nfunction toComparators (range, options) {\r\n  return new Range(range, options).set.map(function (comp) {\r\n    return comp.map(function (c) {\r\n      return c.value\r\n    }).join(' ').trim().split(' ')\r\n  })\r\n}\r\n\r\n// comprised of xranges, tildes, stars, and gtlt's at this point.\r\n// already replaced the hyphen ranges\r\n// turn into a set of JUST comparators.\r\nfunction parseComparator (comp, options) {\r\n  debug('comp', comp, options)\r\n  comp = replaceCarets(comp, options)\r\n  debug('caret', comp)\r\n  comp = replaceTildes(comp, options)\r\n  debug('tildes', comp)\r\n  comp = replaceXRanges(comp, options)\r\n  debug('xrange', comp)\r\n  comp = replaceStars(comp, options)\r\n  debug('stars', comp)\r\n  return comp\r\n}\r\n\r\nfunction isX (id) {\r\n  return !id || id.toLowerCase() === 'x' || id === '*'\r\n}\r\n\r\n// ~, ~> --> * (any, kinda silly)\r\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\r\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\r\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\r\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\r\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\r\nfunction replaceTildes (comp, options) {\r\n  return comp.trim().split(/\\s+/).map(function (comp) {\r\n    return replaceTilde(comp, options)\r\n  }).join(' ')\r\n}\r\n\r\nfunction replaceTilde (comp, options) {\r\n  var r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\r\n  return comp.replace(r, function (_, M, m, p, pr) {\r\n    debug('tilde', comp, _, M, m, p, pr)\r\n    var ret\r\n\r\n    if (isX(M)) {\r\n      ret = ''\r\n    } else if (isX(m)) {\r\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\r\n    } else if (isX(p)) {\r\n      // ~1.2 == >=1.2.0 <1.3.0\r\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\r\n    } else if (pr) {\r\n      debug('replaceTilde pr', pr)\r\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\r\n            ' <' + M + '.' + (+m + 1) + '.0'\r\n    } else {\r\n      // ~1.2.3 == >=1.2.3 <1.3.0\r\n      ret = '>=' + M + '.' + m + '.' + p +\r\n            ' <' + M + '.' + (+m + 1) + '.0'\r\n    }\r\n\r\n    debug('tilde return', ret)\r\n    return ret\r\n  })\r\n}\r\n\r\n// ^ --> * (any, kinda silly)\r\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\r\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\r\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\r\n// ^1.2.3 --> >=1.2.3 <2.0.0\r\n// ^1.2.0 --> >=1.2.0 <2.0.0\r\nfunction replaceCarets (comp, options) {\r\n  return comp.trim().split(/\\s+/).map(function (comp) {\r\n    return replaceCaret(comp, options)\r\n  }).join(' ')\r\n}\r\n\r\nfunction replaceCaret (comp, options) {\r\n  debug('caret', comp, options)\r\n  var r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\r\n  return comp.replace(r, function (_, M, m, p, pr) {\r\n    debug('caret', comp, _, M, m, p, pr)\r\n    var ret\r\n\r\n    if (isX(M)) {\r\n      ret = ''\r\n    } else if (isX(m)) {\r\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\r\n    } else if (isX(p)) {\r\n      if (M === '0') {\r\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\r\n      } else {\r\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\r\n      }\r\n    } else if (pr) {\r\n      debug('replaceCaret pr', pr)\r\n      if (M === '0') {\r\n        if (m === '0') {\r\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\r\n                ' <' + M + '.' + m + '.' + (+p + 1)\r\n        } else {\r\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\r\n                ' <' + M + '.' + (+m + 1) + '.0'\r\n        }\r\n      } else {\r\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\r\n              ' <' + (+M + 1) + '.0.0'\r\n      }\r\n    } else {\r\n      debug('no pr')\r\n      if (M === '0') {\r\n        if (m === '0') {\r\n          ret = '>=' + M + '.' + m + '.' + p +\r\n                ' <' + M + '.' + m + '.' + (+p + 1)\r\n        } else {\r\n          ret = '>=' + M + '.' + m + '.' + p +\r\n                ' <' + M + '.' + (+m + 1) + '.0'\r\n        }\r\n      } else {\r\n        ret = '>=' + M + '.' + m + '.' + p +\r\n              ' <' + (+M + 1) + '.0.0'\r\n      }\r\n    }\r\n\r\n    debug('caret return', ret)\r\n    return ret\r\n  })\r\n}\r\n\r\nfunction replaceXRanges (comp, options) {\r\n  debug('replaceXRanges', comp, options)\r\n  return comp.split(/\\s+/).map(function (comp) {\r\n    return replaceXRange(comp, options)\r\n  }).join(' ')\r\n}\r\n\r\nfunction replaceXRange (comp, options) {\r\n  comp = comp.trim()\r\n  var r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\r\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\r\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\r\n    var xM = isX(M)\r\n    var xm = xM || isX(m)\r\n    var xp = xm || isX(p)\r\n    var anyX = xp\r\n\r\n    if (gtlt === '=' && anyX) {\r\n      gtlt = ''\r\n    }\r\n\r\n    // if we're including prereleases in the match, then we need\r\n    // to fix this to -0, the lowest possible prerelease value\r\n    pr = options.includePrerelease ? '-0' : ''\r\n\r\n    if (xM) {\r\n      if (gtlt === '>' || gtlt === '<') {\r\n        // nothing is allowed\r\n        ret = '<0.0.0-0'\r\n      } else {\r\n        // nothing is forbidden\r\n        ret = '*'\r\n      }\r\n    } else if (gtlt && anyX) {\r\n      // we know patch is an x, because we have any x at all.\r\n      // replace X with 0\r\n      if (xm) {\r\n        m = 0\r\n      }\r\n      p = 0\r\n\r\n      if (gtlt === '>') {\r\n        // >1 => >=2.0.0\r\n        // >1.2 => >=1.3.0\r\n        // >1.2.3 => >= 1.2.4\r\n        gtlt = '>='\r\n        if (xm) {\r\n          M = +M + 1\r\n          m = 0\r\n          p = 0\r\n        } else {\r\n          m = +m + 1\r\n          p = 0\r\n        }\r\n      } else if (gtlt === '<=') {\r\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\r\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\r\n        gtlt = '<'\r\n        if (xm) {\r\n          M = +M + 1\r\n        } else {\r\n          m = +m + 1\r\n        }\r\n      }\r\n\r\n      ret = gtlt + M + '.' + m + '.' + p + pr\r\n    } else if (xm) {\r\n      ret = '>=' + M + '.0.0' + pr + ' <' + (+M + 1) + '.0.0' + pr\r\n    } else if (xp) {\r\n      ret = '>=' + M + '.' + m + '.0' + pr +\r\n        ' <' + M + '.' + (+m + 1) + '.0' + pr\r\n    }\r\n\r\n    debug('xRange return', ret)\r\n\r\n    return ret\r\n  })\r\n}\r\n\r\n// Because * is AND-ed with everything else in the comparator,\r\n// and '' means \"any version\", just remove the *s entirely.\r\nfunction replaceStars (comp, options) {\r\n  debug('replaceStars', comp, options)\r\n  // Looseness is ignored here.  star is always as loose as it gets!\r\n  return comp.trim().replace(re[t.STAR], '')\r\n}\r\n\r\n// This function is passed to string.replace(re[t.HYPHENRANGE])\r\n// M, m, patch, prerelease, build\r\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\r\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\r\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\r\nfunction hyphenReplace ($0,\r\n  from, fM, fm, fp, fpr, fb,\r\n  to, tM, tm, tp, tpr, tb) {\r\n  if (isX(fM)) {\r\n    from = ''\r\n  } else if (isX(fm)) {\r\n    from = '>=' + fM + '.0.0'\r\n  } else if (isX(fp)) {\r\n    from = '>=' + fM + '.' + fm + '.0'\r\n  } else {\r\n    from = '>=' + from\r\n  }\r\n\r\n  if (isX(tM)) {\r\n    to = ''\r\n  } else if (isX(tm)) {\r\n    to = '<' + (+tM + 1) + '.0.0'\r\n  } else if (isX(tp)) {\r\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\r\n  } else if (tpr) {\r\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\r\n  } else {\r\n    to = '<=' + to\r\n  }\r\n\r\n  return (from + ' ' + to).trim()\r\n}\r\n\r\n// if ANY of the sets match ALL of its comparators, then pass\r\nRange.prototype.test = function (version) {\r\n  if (!version) {\r\n    return false\r\n  }\r\n\r\n  if (typeof version === 'string') {\r\n    try {\r\n      version = new SemVer(version, this.options)\r\n    } catch (er) {\r\n      return false\r\n    }\r\n  }\r\n\r\n  for (var i = 0; i < this.set.length; i++) {\r\n    if (testSet(this.set[i], version, this.options)) {\r\n      return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nfunction testSet (set, version, options) {\r\n  for (var i = 0; i < set.length; i++) {\r\n    if (!set[i].test(version)) {\r\n      return false\r\n    }\r\n  }\r\n\r\n  if (version.prerelease.length && !options.includePrerelease) {\r\n    // Find the set of versions that are allowed to have prereleases\r\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\r\n    // That should allow `1.2.3-pr.2` to pass.\r\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\r\n    // even though it's within the range set by the comparators.\r\n    for (i = 0; i < set.length; i++) {\r\n      debug(set[i].semver)\r\n      if (set[i].semver === ANY) {\r\n        continue\r\n      }\r\n\r\n      if (set[i].semver.prerelease.length > 0) {\r\n        var allowed = set[i].semver\r\n        if (allowed.major === version.major &&\r\n            allowed.minor === version.minor &&\r\n            allowed.patch === version.patch) {\r\n          return true\r\n        }\r\n      }\r\n    }\r\n\r\n    // Version has a -pre, but it's not one of the ones we like.\r\n    return false\r\n  }\r\n\r\n  return true\r\n}\r\n\r\nexports.satisfies = satisfies\r\nfunction satisfies (version, range, options) {\r\n  try {\r\n    range = new Range(range, options)\r\n  } catch (er) {\r\n    return false\r\n  }\r\n  return range.test(version)\r\n}\r\n\r\nexports.maxSatisfying = maxSatisfying\r\nfunction maxSatisfying (versions, range, options) {\r\n  var max = null\r\n  var maxSV = null\r\n  try {\r\n    var rangeObj = new Range(range, options)\r\n  } catch (er) {\r\n    return null\r\n  }\r\n  versions.forEach(function (v) {\r\n    if (rangeObj.test(v)) {\r\n      // satisfies(v, range, options)\r\n      if (!max || maxSV.compare(v) === -1) {\r\n        // compare(max, v, true)\r\n        max = v\r\n        maxSV = new SemVer(max, options)\r\n      }\r\n    }\r\n  })\r\n  return max\r\n}\r\n\r\nexports.minSatisfying = minSatisfying\r\nfunction minSatisfying (versions, range, options) {\r\n  var min = null\r\n  var minSV = null\r\n  try {\r\n    var rangeObj = new Range(range, options)\r\n  } catch (er) {\r\n    return null\r\n  }\r\n  versions.forEach(function (v) {\r\n    if (rangeObj.test(v)) {\r\n      // satisfies(v, range, options)\r\n      if (!min || minSV.compare(v) === 1) {\r\n        // compare(min, v, true)\r\n        min = v\r\n        minSV = new SemVer(min, options)\r\n      }\r\n    }\r\n  })\r\n  return min\r\n}\r\n\r\nexports.minVersion = minVersion\r\nfunction minVersion (range, loose) {\r\n  range = new Range(range, loose)\r\n\r\n  var minver = new SemVer('0.0.0')\r\n  if (range.test(minver)) {\r\n    return minver\r\n  }\r\n\r\n  minver = new SemVer('0.0.0-0')\r\n  if (range.test(minver)) {\r\n    return minver\r\n  }\r\n\r\n  minver = null\r\n  for (var i = 0; i < range.set.length; ++i) {\r\n    var comparators = range.set[i]\r\n\r\n    comparators.forEach(function (comparator) {\r\n      // Clone to avoid manipulating the comparator's semver object.\r\n      var compver = new SemVer(comparator.semver.version)\r\n      switch (comparator.operator) {\r\n        case '>':\r\n          if (compver.prerelease.length === 0) {\r\n            compver.patch++\r\n          } else {\r\n            compver.prerelease.push(0)\r\n          }\r\n          compver.raw = compver.format()\r\n          /* fallthrough */\r\n        case '':\r\n        case '>=':\r\n          if (!minver || gt(minver, compver)) {\r\n            minver = compver\r\n          }\r\n          break\r\n        case '<':\r\n        case '<=':\r\n          /* Ignore maximum versions */\r\n          break\r\n        /* istanbul ignore next */\r\n        default:\r\n          throw new Error('Unexpected operation: ' + comparator.operator)\r\n      }\r\n    })\r\n  }\r\n\r\n  if (minver && range.test(minver)) {\r\n    return minver\r\n  }\r\n\r\n  return null\r\n}\r\n\r\nexports.validRange = validRange\r\nfunction validRange (range, options) {\r\n  try {\r\n    // Return '*' instead of '' so that truthiness works.\r\n    // This will throw if it's invalid anyway\r\n    return new Range(range, options).range || '*'\r\n  } catch (er) {\r\n    return null\r\n  }\r\n}\r\n\r\n// Determine if version is less than all the versions possible in the range\r\nexports.ltr = ltr\r\nfunction ltr (version, range, options) {\r\n  return outside(version, range, '<', options)\r\n}\r\n\r\n// Determine if version is greater than all the versions possible in the range.\r\nexports.gtr = gtr\r\nfunction gtr (version, range, options) {\r\n  return outside(version, range, '>', options)\r\n}\r\n\r\nexports.outside = outside\r\nfunction outside (version, range, hilo, options) {\r\n  version = new SemVer(version, options)\r\n  range = new Range(range, options)\r\n\r\n  var gtfn, ltefn, ltfn, comp, ecomp\r\n  switch (hilo) {\r\n    case '>':\r\n      gtfn = gt\r\n      ltefn = lte\r\n      ltfn = lt\r\n      comp = '>'\r\n      ecomp = '>='\r\n      break\r\n    case '<':\r\n      gtfn = lt\r\n      ltefn = gte\r\n      ltfn = gt\r\n      comp = '<'\r\n      ecomp = '<='\r\n      break\r\n    default:\r\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\r\n  }\r\n\r\n  // If it satisifes the range it is not outside\r\n  if (satisfies(version, range, options)) {\r\n    return false\r\n  }\r\n\r\n  // From now on, variable terms are as if we're in \"gtr\" mode.\r\n  // but note that everything is flipped for the \"ltr\" function.\r\n\r\n  for (var i = 0; i < range.set.length; ++i) {\r\n    var comparators = range.set[i]\r\n\r\n    var high = null\r\n    var low = null\r\n\r\n    comparators.forEach(function (comparator) {\r\n      if (comparator.semver === ANY) {\r\n        comparator = new Comparator('>=0.0.0')\r\n      }\r\n      high = high || comparator\r\n      low = low || comparator\r\n      if (gtfn(comparator.semver, high.semver, options)) {\r\n        high = comparator\r\n      } else if (ltfn(comparator.semver, low.semver, options)) {\r\n        low = comparator\r\n      }\r\n    })\r\n\r\n    // If the edge version comparator has a operator then our version\r\n    // isn't outside it\r\n    if (high.operator === comp || high.operator === ecomp) {\r\n      return false\r\n    }\r\n\r\n    // If the lowest version comparator has an operator and our version\r\n    // is less than it then it isn't higher than the range\r\n    if ((!low.operator || low.operator === comp) &&\r\n        ltefn(version, low.semver)) {\r\n      return false\r\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\r\n      return false\r\n    }\r\n  }\r\n  return true\r\n}\r\n\r\nexports.prerelease = prerelease\r\nfunction prerelease (version, options) {\r\n  var parsed = parse(version, options)\r\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\r\n}\r\n\r\nexports.intersects = intersects\r\nfunction intersects (r1, r2, options) {\r\n  r1 = new Range(r1, options)\r\n  r2 = new Range(r2, options)\r\n  return r1.intersects(r2)\r\n}\r\n\r\nexports.coerce = coerce\r\nfunction coerce (version, options) {\r\n  if (version instanceof SemVer) {\r\n    return version\r\n  }\r\n\r\n  if (typeof version === 'number') {\r\n    version = String(version)\r\n  }\r\n\r\n  if (typeof version !== 'string') {\r\n    return null\r\n  }\r\n\r\n  options = options || {}\r\n\r\n  var match = null\r\n  if (!options.rtl) {\r\n    match = version.match(re[t.COERCE])\r\n  } else {\r\n    // Find the right-most coercible string that does not share\r\n    // a terminus with a more left-ward coercible string.\r\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\r\n    //\r\n    // Walk through the string checking with a /g regexp\r\n    // Manually set the index so as to pick up overlapping matches.\r\n    // Stop when we get a match that ends at the string end, since no\r\n    // coercible string can be more right-ward without the same terminus.\r\n    var next\r\n    while ((next = re[t.COERCERTL].exec(version)) &&\r\n      (!match || match.index + match[0].length !== version.length)\r\n    ) {\r\n      if (!match ||\r\n          next.index + next[0].length !== match.index + match[0].length) {\r\n        match = next\r\n      }\r\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\r\n    }\r\n    // leave it in a clean state\r\n    re[t.COERCERTL].lastIndex = -1\r\n  }\r\n\r\n  if (match === null) {\r\n    return null\r\n  }\r\n\r\n  return parse(match[2] +\r\n    '.' + (match[3] || '0') +\r\n    '.' + (match[4] || '0'), options)\r\n}\r\n","var rng = require('./lib/rng');\r\nvar bytesToUuid = require('./lib/bytesToUuid');\r\n\r\nfunction v4(options, buf, offset) {\r\n  var i = buf && offset || 0;\r\n\r\n  if (typeof(options) == 'string') {\r\n    buf = options === 'binary' ? new Array(16) : null;\r\n    options = null;\r\n  }\r\n  options = options || {};\r\n\r\n  var rnds = options.random || (options.rng || rng)();\r\n\r\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\r\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\r\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\r\n\r\n  // Copy bytes to buffer, if provided\r\n  if (buf) {\r\n    for (var ii = 0; ii < 16; ++ii) {\r\n      buf[i + ii] = rnds[ii];\r\n    }\r\n  }\r\n\r\n  return buf || bytesToUuid(rnds);\r\n}\r\n\r\nmodule.exports = v4;\r\n","// Unique ID creation requires a high quality random # generator.  In node.js\r\n// this is pretty straight-forward - we use the crypto API.\r\n\r\nvar crypto = require('crypto');\r\n\r\nmodule.exports = function nodeRNG() {\r\n  return crypto.randomBytes(16);\r\n};\r\n","module.exports = require(\"crypto\");","/**\r\n * Convert array of 16 byte values to UUID string format of the form:\r\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\r\n */\r\nvar byteToHex = [];\r\nfor (var i = 0; i < 256; ++i) {\r\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\r\n}\r\n\r\nfunction bytesToUuid(buf, offset) {\r\n  var i = offset || 0;\r\n  var bth = byteToHex;\r\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\r\n  return ([bth[buf[i++]], bth[buf[i++]], \r\n\tbth[buf[i++]], bth[buf[i++]], '-',\r\n\tbth[buf[i++]], bth[buf[i++]], '-',\r\n\tbth[buf[i++]], bth[buf[i++]], '-',\r\n\tbth[buf[i++]], bth[buf[i++]], '-',\r\n\tbth[buf[i++]], bth[buf[i++]],\r\n\tbth[buf[i++]], bth[buf[i++]],\r\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\r\n}\r\n\r\nmodule.exports = bytesToUuid;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst os = require(\"os\");\r\nconst events = require(\"events\");\r\nconst child = require(\"child_process\");\r\n/* eslint-disable @typescript-eslint/unbound-method */\r\nconst IS_WINDOWS = process.platform === 'win32';\r\n/*\r\n * Class for running command line tools. Handles quoting and arg parsing in a platform agnostic way.\r\n */\r\nclass ToolRunner extends events.EventEmitter {\r\n    constructor(toolPath, args, options) {\r\n        super();\r\n        if (!toolPath) {\r\n            throw new Error(\"Parameter 'toolPath' cannot be null or empty.\");\r\n        }\r\n        this.toolPath = toolPath;\r\n        this.args = args || [];\r\n        this.options = options || {};\r\n    }\r\n    _debug(message) {\r\n        if (this.options.listeners && this.options.listeners.debug) {\r\n            this.options.listeners.debug(message);\r\n        }\r\n    }\r\n    _getCommandString(options, noPrefix) {\r\n        const toolPath = this._getSpawnFileName();\r\n        const args = this._getSpawnArgs(options);\r\n        let cmd = noPrefix ? '' : '[command]'; // omit prefix when piped to a second tool\r\n        if (IS_WINDOWS) {\r\n            // Windows + cmd file\r\n            if (this._isCmdFile()) {\r\n                cmd += toolPath;\r\n                for (const a of args) {\r\n                    cmd += ` ${a}`;\r\n                }\r\n            }\r\n            // Windows + verbatim\r\n            else if (options.windowsVerbatimArguments) {\r\n                cmd += `\"${toolPath}\"`;\r\n                for (const a of args) {\r\n                    cmd += ` ${a}`;\r\n                }\r\n            }\r\n            // Windows (regular)\r\n            else {\r\n                cmd += this._windowsQuoteCmdArg(toolPath);\r\n                for (const a of args) {\r\n                    cmd += ` ${this._windowsQuoteCmdArg(a)}`;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            // OSX/Linux - this can likely be improved with some form of quoting.\r\n            // creating processes on Unix is fundamentally different than Windows.\r\n            // on Unix, execvp() takes an arg array.\r\n            cmd += toolPath;\r\n            for (const a of args) {\r\n                cmd += ` ${a}`;\r\n            }\r\n        }\r\n        return cmd;\r\n    }\r\n    _processLineBuffer(data, strBuffer, onLine) {\r\n        try {\r\n            let s = strBuffer + data.toString();\r\n            let n = s.indexOf(os.EOL);\r\n            while (n > -1) {\r\n                const line = s.substring(0, n);\r\n                onLine(line);\r\n                // the rest of the string ...\r\n                s = s.substring(n + os.EOL.length);\r\n                n = s.indexOf(os.EOL);\r\n            }\r\n            strBuffer = s;\r\n        }\r\n        catch (err) {\r\n            // streaming lines to console is best effort.  Don't fail a build.\r\n            this._debug(`error processing line. Failed with error ${err}`);\r\n        }\r\n    }\r\n    _getSpawnFileName() {\r\n        if (IS_WINDOWS) {\r\n            if (this._isCmdFile()) {\r\n                return process.env['COMSPEC'] || 'cmd.exe';\r\n            }\r\n        }\r\n        return this.toolPath;\r\n    }\r\n    _getSpawnArgs(options) {\r\n        if (IS_WINDOWS) {\r\n            if (this._isCmdFile()) {\r\n                let argline = `/D /S /C \"${this._windowsQuoteCmdArg(this.toolPath)}`;\r\n                for (const a of this.args) {\r\n                    argline += ' ';\r\n                    argline += options.windowsVerbatimArguments\r\n                        ? a\r\n                        : this._windowsQuoteCmdArg(a);\r\n                }\r\n                argline += '\"';\r\n                return [argline];\r\n            }\r\n        }\r\n        return this.args;\r\n    }\r\n    _endsWith(str, end) {\r\n        return str.endsWith(end);\r\n    }\r\n    _isCmdFile() {\r\n        const upperToolPath = this.toolPath.toUpperCase();\r\n        return (this._endsWith(upperToolPath, '.CMD') ||\r\n            this._endsWith(upperToolPath, '.BAT'));\r\n    }\r\n    _windowsQuoteCmdArg(arg) {\r\n        // for .exe, apply the normal quoting rules that libuv applies\r\n        if (!this._isCmdFile()) {\r\n            return this._uvQuoteCmdArg(arg);\r\n        }\r\n        // otherwise apply quoting rules specific to the cmd.exe command line parser.\r\n        // the libuv rules are generic and are not designed specifically for cmd.exe\r\n        // command line parser.\r\n        //\r\n        // for a detailed description of the cmd.exe command line parser, refer to\r\n        // http://stackoverflow.com/questions/4094699/how-does-the-windows-command-interpreter-cmd-exe-parse-scripts/7970912#7970912\r\n        // need quotes for empty arg\r\n        if (!arg) {\r\n            return '\"\"';\r\n        }\r\n        // determine whether the arg needs to be quoted\r\n        const cmdSpecialChars = [\r\n            ' ',\r\n            '\\t',\r\n            '&',\r\n            '(',\r\n            ')',\r\n            '[',\r\n            ']',\r\n            '{',\r\n            '}',\r\n            '^',\r\n            '=',\r\n            ';',\r\n            '!',\r\n            \"'\",\r\n            '+',\r\n            ',',\r\n            '`',\r\n            '~',\r\n            '|',\r\n            '<',\r\n            '>',\r\n            '\"'\r\n        ];\r\n        let needsQuotes = false;\r\n        for (const char of arg) {\r\n            if (cmdSpecialChars.some(x => x === char)) {\r\n                needsQuotes = true;\r\n                break;\r\n            }\r\n        }\r\n        // short-circuit if quotes not needed\r\n        if (!needsQuotes) {\r\n            return arg;\r\n        }\r\n        // the following quoting rules are very similar to the rules that by libuv applies.\r\n        //\r\n        // 1) wrap the string in quotes\r\n        //\r\n        // 2) double-up quotes - i.e. \" => \"\"\r\n        //\r\n        //    this is different from the libuv quoting rules. libuv replaces \" with \\\", which unfortunately\r\n        //    doesn't work well with a cmd.exe command line.\r\n        //\r\n        //    note, replacing \" with \"\" also works well if the arg is passed to a downstream .NET console app.\r\n        //    for example, the command line:\r\n        //          foo.exe \"myarg:\"\"my val\"\"\"\r\n        //    is parsed by a .NET console app into an arg array:\r\n        //          [ \"myarg:\\\"my val\\\"\" ]\r\n        //    which is the same end result when applying libuv quoting rules. although the actual\r\n        //    command line from libuv quoting rules would look like:\r\n        //          foo.exe \"myarg:\\\"my val\\\"\"\r\n        //\r\n        // 3) double-up slashes that precede a quote,\r\n        //    e.g.  hello \\world    => \"hello \\world\"\r\n        //          hello\\\"world    => \"hello\\\\\"\"world\"\r\n        //          hello\\\\\"world   => \"hello\\\\\\\\\"\"world\"\r\n        //          hello world\\    => \"hello world\\\\\"\r\n        //\r\n        //    technically this is not required for a cmd.exe command line, or the batch argument parser.\r\n        //    the reasons for including this as a .cmd quoting rule are:\r\n        //\r\n        //    a) this is optimized for the scenario where the argument is passed from the .cmd file to an\r\n        //       external program. many programs (e.g. .NET console apps) rely on the slash-doubling rule.\r\n        //\r\n        //    b) it's what we've been doing previously (by deferring to node default behavior) and we\r\n        //       haven't heard any complaints about that aspect.\r\n        //\r\n        // note, a weakness of the quoting rules chosen here, is that % is not escaped. in fact, % cannot be\r\n        // escaped when used on the command line directly - even though within a .cmd file % can be escaped\r\n        // by using %%.\r\n        //\r\n        // the saving grace is, on the command line, %var% is left as-is if var is not defined. this contrasts\r\n        // the line parsing rules within a .cmd file, where if var is not defined it is replaced with nothing.\r\n        //\r\n        // one option that was explored was replacing % with ^% - i.e. %var% => ^%var^%. this hack would\r\n        // often work, since it is unlikely that var^ would exist, and the ^ character is removed when the\r\n        // variable is used. the problem, however, is that ^ is not removed when %* is used to pass the args\r\n        // to an external program.\r\n        //\r\n        // an unexplored potential solution for the % escaping problem, is to create a wrapper .cmd file.\r\n        // % can be escaped within a .cmd file.\r\n        let reverse = '\"';\r\n        let quoteHit = true;\r\n        for (let i = arg.length; i > 0; i--) {\r\n            // walk the string in reverse\r\n            reverse += arg[i - 1];\r\n            if (quoteHit && arg[i - 1] === '\\\\') {\r\n                reverse += '\\\\'; // double the slash\r\n            }\r\n            else if (arg[i - 1] === '\"') {\r\n                quoteHit = true;\r\n                reverse += '\"'; // double the quote\r\n            }\r\n            else {\r\n                quoteHit = false;\r\n            }\r\n        }\r\n        reverse += '\"';\r\n        return reverse\r\n            .split('')\r\n            .reverse()\r\n            .join('');\r\n    }\r\n    _uvQuoteCmdArg(arg) {\r\n        // Tool runner wraps child_process.spawn() and needs to apply the same quoting as\r\n        // Node in certain cases where the undocumented spawn option windowsVerbatimArguments\r\n        // is used.\r\n        //\r\n        // Since this function is a port of quote_cmd_arg from Node 4.x (technically, lib UV,\r\n        // see https://github.com/nodejs/node/blob/v4.x/deps/uv/src/win/process.c for details),\r\n        // pasting copyright notice from Node within this function:\r\n        //\r\n        //      Copyright Joyent, Inc. and other Node contributors. All rights reserved.\r\n        //\r\n        //      Permission is hereby granted, free of charge, to any person obtaining a copy\r\n        //      of this software and associated documentation files (the \"Software\"), to\r\n        //      deal in the Software without restriction, including without limitation the\r\n        //      rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\r\n        //      sell copies of the Software, and to permit persons to whom the Software is\r\n        //      furnished to do so, subject to the following conditions:\r\n        //\r\n        //      The above copyright notice and this permission notice shall be included in\r\n        //      all copies or substantial portions of the Software.\r\n        //\r\n        //      THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n        //      IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n        //      FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n        //      AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n        //      LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n        //      FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\r\n        //      IN THE SOFTWARE.\r\n        if (!arg) {\r\n            // Need double quotation for empty argument\r\n            return '\"\"';\r\n        }\r\n        if (!arg.includes(' ') && !arg.includes('\\t') && !arg.includes('\"')) {\r\n            // No quotation needed\r\n            return arg;\r\n        }\r\n        if (!arg.includes('\"') && !arg.includes('\\\\')) {\r\n            // No embedded double quotes or backslashes, so I can just wrap\r\n            // quote marks around the whole thing.\r\n            return `\"${arg}\"`;\r\n        }\r\n        // Expected input/output:\r\n        //   input : hello\"world\r\n        //   output: \"hello\\\"world\"\r\n        //   input : hello\"\"world\r\n        //   output: \"hello\\\"\\\"world\"\r\n        //   input : hello\\world\r\n        //   output: hello\\world\r\n        //   input : hello\\\\world\r\n        //   output: hello\\\\world\r\n        //   input : hello\\\"world\r\n        //   output: \"hello\\\\\\\"world\"\r\n        //   input : hello\\\\\"world\r\n        //   output: \"hello\\\\\\\\\\\"world\"\r\n        //   input : hello world\\\r\n        //   output: \"hello world\\\\\" - note the comment in libuv actually reads \"hello world\\\"\r\n        //                             but it appears the comment is wrong, it should be \"hello world\\\\\"\r\n        let reverse = '\"';\r\n        let quoteHit = true;\r\n        for (let i = arg.length; i > 0; i--) {\r\n            // walk the string in reverse\r\n            reverse += arg[i - 1];\r\n            if (quoteHit && arg[i - 1] === '\\\\') {\r\n                reverse += '\\\\';\r\n            }\r\n            else if (arg[i - 1] === '\"') {\r\n                quoteHit = true;\r\n                reverse += '\\\\';\r\n            }\r\n            else {\r\n                quoteHit = false;\r\n            }\r\n        }\r\n        reverse += '\"';\r\n        return reverse\r\n            .split('')\r\n            .reverse()\r\n            .join('');\r\n    }\r\n    _cloneExecOptions(options) {\r\n        options = options || {};\r\n        const result = {\r\n            cwd: options.cwd || process.cwd(),\r\n            env: options.env || process.env,\r\n            silent: options.silent || false,\r\n            windowsVerbatimArguments: options.windowsVerbatimArguments || false,\r\n            failOnStdErr: options.failOnStdErr || false,\r\n            ignoreReturnCode: options.ignoreReturnCode || false,\r\n            delay: options.delay || 10000\r\n        };\r\n        result.outStream = options.outStream || process.stdout;\r\n        result.errStream = options.errStream || process.stderr;\r\n        return result;\r\n    }\r\n    _getSpawnOptions(options, toolPath) {\r\n        options = options || {};\r\n        const result = {};\r\n        result.cwd = options.cwd;\r\n        result.env = options.env;\r\n        result['windowsVerbatimArguments'] =\r\n            options.windowsVerbatimArguments || this._isCmdFile();\r\n        if (options.windowsVerbatimArguments) {\r\n            result.argv0 = `\"${toolPath}\"`;\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * Exec a tool.\r\n     * Output will be streamed to the live console.\r\n     * Returns promise with return code\r\n     *\r\n     * @param     tool     path to tool to exec\r\n     * @param     options  optional exec options.  See ExecOptions\r\n     * @returns   number\r\n     */\r\n    exec() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return new Promise((resolve, reject) => {\r\n                this._debug(`exec tool: ${this.toolPath}`);\r\n                this._debug('arguments:');\r\n                for (const arg of this.args) {\r\n                    this._debug(`   ${arg}`);\r\n                }\r\n                const optionsNonNull = this._cloneExecOptions(this.options);\r\n                if (!optionsNonNull.silent && optionsNonNull.outStream) {\r\n                    optionsNonNull.outStream.write(this._getCommandString(optionsNonNull) + os.EOL);\r\n                }\r\n                const state = new ExecState(optionsNonNull, this.toolPath);\r\n                state.on('debug', (message) => {\r\n                    this._debug(message);\r\n                });\r\n                const fileName = this._getSpawnFileName();\r\n                const cp = child.spawn(fileName, this._getSpawnArgs(optionsNonNull), this._getSpawnOptions(this.options, fileName));\r\n                const stdbuffer = '';\r\n                if (cp.stdout) {\r\n                    cp.stdout.on('data', (data) => {\r\n                        if (this.options.listeners && this.options.listeners.stdout) {\r\n                            this.options.listeners.stdout(data);\r\n                        }\r\n                        if (!optionsNonNull.silent && optionsNonNull.outStream) {\r\n                            optionsNonNull.outStream.write(data);\r\n                        }\r\n                        this._processLineBuffer(data, stdbuffer, (line) => {\r\n                            if (this.options.listeners && this.options.listeners.stdline) {\r\n                                this.options.listeners.stdline(line);\r\n                            }\r\n                        });\r\n                    });\r\n                }\r\n                const errbuffer = '';\r\n                if (cp.stderr) {\r\n                    cp.stderr.on('data', (data) => {\r\n                        state.processStderr = true;\r\n                        if (this.options.listeners && this.options.listeners.stderr) {\r\n                            this.options.listeners.stderr(data);\r\n                        }\r\n                        if (!optionsNonNull.silent &&\r\n                            optionsNonNull.errStream &&\r\n                            optionsNonNull.outStream) {\r\n                            const s = optionsNonNull.failOnStdErr\r\n                                ? optionsNonNull.errStream\r\n                                : optionsNonNull.outStream;\r\n                            s.write(data);\r\n                        }\r\n                        this._processLineBuffer(data, errbuffer, (line) => {\r\n                            if (this.options.listeners && this.options.listeners.errline) {\r\n                                this.options.listeners.errline(line);\r\n                            }\r\n                        });\r\n                    });\r\n                }\r\n                cp.on('error', (err) => {\r\n                    state.processError = err.message;\r\n                    state.processExited = true;\r\n                    state.processClosed = true;\r\n                    state.CheckComplete();\r\n                });\r\n                cp.on('exit', (code) => {\r\n                    state.processExitCode = code;\r\n                    state.processExited = true;\r\n                    this._debug(`Exit code ${code} received from tool '${this.toolPath}'`);\r\n                    state.CheckComplete();\r\n                });\r\n                cp.on('close', (code) => {\r\n                    state.processExitCode = code;\r\n                    state.processExited = true;\r\n                    state.processClosed = true;\r\n                    this._debug(`STDIO streams have closed for tool '${this.toolPath}'`);\r\n                    state.CheckComplete();\r\n                });\r\n                state.on('done', (error, exitCode) => {\r\n                    if (stdbuffer.length > 0) {\r\n                        this.emit('stdline', stdbuffer);\r\n                    }\r\n                    if (errbuffer.length > 0) {\r\n                        this.emit('errline', errbuffer);\r\n                    }\r\n                    cp.removeAllListeners();\r\n                    if (error) {\r\n                        reject(error);\r\n                    }\r\n                    else {\r\n                        resolve(exitCode);\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.ToolRunner = ToolRunner;\r\n/**\r\n * Convert an arg string to an array of args. Handles escaping\r\n *\r\n * @param    argString   string of arguments\r\n * @returns  string[]    array of arguments\r\n */\r\nfunction argStringToArray(argString) {\r\n    const args = [];\r\n    let inQuotes = false;\r\n    let escaped = false;\r\n    let arg = '';\r\n    function append(c) {\r\n        // we only escape double quotes.\r\n        if (escaped && c !== '\"') {\r\n            arg += '\\\\';\r\n        }\r\n        arg += c;\r\n        escaped = false;\r\n    }\r\n    for (let i = 0; i < argString.length; i++) {\r\n        const c = argString.charAt(i);\r\n        if (c === '\"') {\r\n            if (!escaped) {\r\n                inQuotes = !inQuotes;\r\n            }\r\n            else {\r\n                append(c);\r\n            }\r\n            continue;\r\n        }\r\n        if (c === '\\\\' && escaped) {\r\n            append(c);\r\n            continue;\r\n        }\r\n        if (c === '\\\\' && inQuotes) {\r\n            escaped = true;\r\n            continue;\r\n        }\r\n        if (c === ' ' && !inQuotes) {\r\n            if (arg.length > 0) {\r\n                args.push(arg);\r\n                arg = '';\r\n            }\r\n            continue;\r\n        }\r\n        append(c);\r\n    }\r\n    if (arg.length > 0) {\r\n        args.push(arg.trim());\r\n    }\r\n    return args;\r\n}\r\nexports.argStringToArray = argStringToArray;\r\nclass ExecState extends events.EventEmitter {\r\n    constructor(options, toolPath) {\r\n        super();\r\n        this.processClosed = false; // tracks whether the process has exited and stdio is closed\r\n        this.processError = '';\r\n        this.processExitCode = 0;\r\n        this.processExited = false; // tracks whether the process has exited\r\n        this.processStderr = false; // tracks whether stderr was written to\r\n        this.delay = 10000; // 10 seconds\r\n        this.done = false;\r\n        this.timeout = null;\r\n        if (!toolPath) {\r\n            throw new Error('toolPath must not be empty');\r\n        }\r\n        this.options = options;\r\n        this.toolPath = toolPath;\r\n        if (options.delay) {\r\n            this.delay = options.delay;\r\n        }\r\n    }\r\n    CheckComplete() {\r\n        if (this.done) {\r\n            return;\r\n        }\r\n        if (this.processClosed) {\r\n            this._setResult();\r\n        }\r\n        else if (this.processExited) {\r\n            this.timeout = setTimeout(ExecState.HandleTimeout, this.delay, this);\r\n        }\r\n    }\r\n    _debug(message) {\r\n        this.emit('debug', message);\r\n    }\r\n    _setResult() {\r\n        // determine whether there is an error\r\n        let error;\r\n        if (this.processExited) {\r\n            if (this.processError) {\r\n                error = new Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`);\r\n            }\r\n            else if (this.processExitCode !== 0 && !this.options.ignoreReturnCode) {\r\n                error = new Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`);\r\n            }\r\n            else if (this.processStderr && this.options.failOnStdErr) {\r\n                error = new Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`);\r\n            }\r\n        }\r\n        // clear the timeout\r\n        if (this.timeout) {\r\n            clearTimeout(this.timeout);\r\n            this.timeout = null;\r\n        }\r\n        this.done = true;\r\n        this.emit('done', error, this.processExitCode);\r\n    }\r\n    static HandleTimeout(state) {\r\n        if (state.done) {\r\n            return;\r\n        }\r\n        if (!state.processClosed && state.processExited) {\r\n            const message = `The STDIO streams did not close within ${state.delay /\r\n                1000} seconds of the exit event from process '${state.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`;\r\n            state._debug(message);\r\n        }\r\n        state._setResult();\r\n    }\r\n}\r\n//# sourceMappingURL=toolrunner.js.map"],"sourceRoot":""}